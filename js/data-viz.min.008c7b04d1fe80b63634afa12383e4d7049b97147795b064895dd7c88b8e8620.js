!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(b.d3=b.d3||{})}(this,function(a){"use strict";var jO,aw,pR,jF,pJ,pH,dK,dO,dP,ef,dj,di,eo,bV,iL,pw,eD,eG,ic,bK,pj,eO,hU,hN,eZ,oO,bd,bl,Z,no,oG,oE,oC,oA,oy,ow,ot,gQ,hx,gH,gF,jk,gE,gD,bh,gC,ob,fZ,fU,fR,cp,bX,gl,gp,gK,ch,hn,nV,fg,fc,bH,eX,hI,cz,hV,eM,iv,iB,bj,ex,iH,nL,nz,ny,nw,nv,nt,cU,cV,bG,aW,cj,bI,iS,c$,ax,db,bN,iW,nm,nk,jb,dT,dB,dS,jh,dN,dw,nb,na,aL,mY,mX,jr,jp,jm,dU,mR,mP,mO,mN,mM,mL,mK,mJ,dl,mI,mH,iX,bc,mG,iV,mF,ek,mE,hu,es,aR,aS,dC,cI,mw,ab,iA,iy,mv,mu,im,ij,ih,cB,ig,ia,mq,eR,eS,mo,av,hs,af,hb,fx,fy,ce,fA,cm,ha,lS,lR,lQ,cn,gJ,lP,lO,lN,lC,lA,lu,lt,lr,C,le,ld,gr,lc,gw,cv,gz,cx,d,fI,h,p,cy,H,l,e,i,bb,E,c,cF,gW,cG,fF,b,bk,r,fE,hg,hh,hl,hm,fn,fm,fl,cM,cN,Y,n,L,q,O,aD,hJ,hK,aO,aq,al,cR,cS,cT,cW,cX,cY,cZ,c_,eU,eT,eQ,hZ,h_,B,A,D,bM,aa,S,en,ei,ci,dn,d$,dp,dq,dY,ba,dR,kd,gI,jl,jw,jx,dI,dH,dG,dF,ac,aK,dy,cg,dz,dA,jM,jN,W,T,dZ,fN,cc,dx,dv,aQ,dL,dM,ca,N,em,iR,iP,bW,bU,eu,bT,it,kB,kD,eL,eN,bq,bp,bE,bF,cw,lo,gq,lM,gt,hd,hk,l_,mc,ho,me,ht,mg,mh,hz,fd,ar,fb,h$,eh,ee,az,i_,ae,ja,b_,je,dW,mQ,dV,mS,b$,mU,bP,cb,js,ju,cd,jz,jB,jC,nc,nd,ne,nf,ng,nh,er,nj,ad,nl,d_,nn,eb,np,bZ,nr,by,bx,iQ,iO,bs,iN,iM,iK,nB,nC,nD,nE,nF,nG,ev,nI,ai,nK,a$,hr,u,nS,nT,pa,pb,bz,bA,bC,bD,pg,hS,eP,pn,po,pp,pq,pr,ps,pt,pu,pv,iJ,py,iY,pA,i$,pC,jc,pE,jv,pG,jD,pI,jE,pK,jI,pM,jJ,pO,jK,pQ,jL,lH,g_,pk,ib,oX,hP,oV,hL,oT,hH,oR,hG,oP,hE,oN,hA,oK,g$,oI,gZ,oF,gX,oD,gV,oB,gU,oz,gT,ox,gS,ov,gR,os,or,op,oo,cD,cA,ol,ok,oh,oe,od,oc,f$,y,ay,nZ,fD,V,aM,z,ao,cO,an,gd,fP,eg,jg,ji,kb,jn,jG,jT,jU,jq,jf,dX,jd,M,ej,kx,he,ky,kR,lf,lj,ll,lE,lL,lW,eW,hM,hO,aI,J,bo,w,j,pl,dh;function bg(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function jP(a){var b;return 1===a.length&&(b=a,a=function(a,c){return bg(b(a),c)}),{left:function(e,f,b,c){for(null==b&&(b=0),null==c&&(c=e.length);b<c;){var d=b+c>>>1;a(e[d],f)<0?b=d+1:c=d}return b},right:function(e,f,b,c){for(null==b&&(b=0),null==c&&(c=e.length);b<c;){var d=b+c>>>1;a(e[d],f)>0?c=d:b=d+1}return b}}}jO=jP(bg),aw=jO.right,pR=jO.left;function pP(a,b){return[a,b]}function aC(a){return null===a?NaN:+a}function pN(f,i){var a,d,h=f.length,e=0,b=-1,c=0,g=0;if(null==i)for(;++b<h;)isNaN(a=aC(f[b]))||(g+=(d=a-c)*(a-(c+=d/++e)));else for(;++b<h;)isNaN(a=aC(i(f[b],b,f)))||(g+=(d=a-c)*(a-(c+=d/++e)));if(e>1)return g/(e-1)}function pL(b,c){var a=pN(b,c);return a&&Math.sqrt(a)}function jH(e,g){var a,c,d,f=e.length,b=-1;if(null==g){for(;++b<f;)if(null!=(a=e[b])&&a>=a)for(c=d=a;++b<f;)null!=(a=e[b])&&(c>a&&(c=a),d<a&&(d=a))}else for(;++b<f;)if(null!=(a=g(e[b],b,e))&&a>=a)for(c=d=a;++b<f;)null!=(a=g(e[b],b,e))&&(c>a&&(c=a),d<a&&(d=a));return[c,d]}jF=Array.prototype,pJ=jF.slice,pH=jF.map;function dE(a){return function(){return a}}function to(a){return a}function R(a,b,c){a=+a,b=+b,c=(d=arguments.length)<2?(b=a,a=0,1):d<3?1:+c;for(var e=-1,d=0|Math.max(0,Math.ceil((b-a)/c)),f=new Array(d);++e<d;)f[e]=a+e*c;return f}dK=Math.sqrt(50),dO=Math.sqrt(10),dP=Math.sqrt(2);function jo(a,b,g){var h,d,e,c,f=-1;if(g=+g,(a=+a)===(b=+b)&&g>0)return[a];if((h=b<a)&&(d=a,a=b,b=d),0===(c=du(a,b,g))||!isFinite(c))return[];if(c>0)for(a=Math.ceil(a/c),b=Math.floor(b/c),e=new Array(d=Math.ceil(b-a+1));++f<d;)e[f]=(a+f)*c;else for(a=Math.floor(a*c),b=Math.ceil(b*c),e=new Array(d=Math.ceil(a-b+1));++f<d;)e[f]=(a-f)/c;return h&&e.reverse(),e}function du(d,e,f){var c=(e-d)/Math.max(0,f),b=Math.floor(Math.log(c)/Math.LN10),a=c/Math.pow(10,b);return b>=0?(a>=dK?10:a>=dO?5:a>=dP?2:1)*Math.pow(10,b):-Math.pow(10,-b)/(a>=dK?10:a>=dO?5:a>=dP?2:1)}function aZ(c,d,f){var e=Math.abs(d-c)/Math.max(0,f),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),b=e/a;return b>=dK?a*=10:b>=dO?a*=5:b>=dP&&(a*=2),d<c?-a:a}function jj(a){return Math.ceil(Math.log(a.length)/Math.LN2)+1}function dr(a,e,b){if(null==b&&(b=aC),c=a.length){if((e=+e)<=0||c<2)return+b(a[0],0,a);if(e>=1)return+b(a[c-1],c-1,a);var c,f=(c-1)*e,d=Math.floor(f),g=+b(a[d],d,a);return g+(+b(a[d+1],d+1,a)-g)*(f-d)}}function pD(c,f){var a,d,e=c.length,b=-1;if(null==f){for(;++b<e;)if(null!=(a=c[b])&&a>=a)for(d=a;++b<e;)null!=(a=c[b])&&a>d&&(d=a)}else for(;++b<e;)if(null!=(a=f(c[b],b,c))&&a>=a)for(d=a;++b<e;)null!=(a=f(c[b],b,c))&&a>d&&(d=a);return d}function jQ(a){for(var b,c,f,d=a.length,g=-1,e=0;++g<d;)e+=a[g].length;for(c=new Array(e);--d>=0;)for(b=(f=a[d]).length;--b>=0;)c[--e]=f[b];return c}function pB(c,f){var a,d,e=c.length,b=-1;if(null==f){for(;++b<e;)if(null!=(a=c[b])&&a>=a)for(d=a;++b<e;)null!=(a=c[b])&&d>a&&(d=a)}else for(;++b<e;)if(null!=(a=f(c[b],b,c))&&a>=a)for(d=a;++b<e;)null!=(a=f(c[b],b,c))&&d>a&&(d=a);return d}function pz(d){var a,e,f,b,c,g;if(!(b=d.length))return[];for(a=-1,e=pB(d,tl),f=new Array(e);++a<e;)for(b,c=-1,g=f[a]=new Array(b);++c<b;)g[c]=d[c][a];return f}function tl(a){return a.length}ef=Array.prototype.slice;function tk(a){return a}dj=1,di=2,eo=3,bV=4,iL=1e-6;function tj(a){return"translate("+(a+.5)+",0)"}function ti(a){return"translate(0,"+(a+.5)+")"}function th(){return!this.__axis}function ew(c,b){var h=[],g=null,i=null,f=6,d=6,k=3,e=c===dj||c===bV?-1:1,j=c===bV||c===di?"x":"y",l=c===dj||c===eo?tj:ti;function a(a){var z=null==g?b.ticks?b.ticks.apply(b,h):b.domain():g,y=null==i?b.tickFormat?b.tickFormat.apply(b,h):tk:i,x=Math.max(f,0)+k,w=b.range(),s=+w[0]+.5,r=+w[w.length-1]+.5,t=(b.bandwidth?function(a){var b=Math.max(0,a.bandwidth()-1)/2;return a.round()&&(b=Math.round(b)),function(c){return+a(c)+b}}:function(a){return function(b){return+a(b)}})(b.copy()),p=a.selection?a.selection():a,n=p.selectAll(".domain").data([null]),m=p.selectAll(".tick").data(z,b).order(),v=m.exit(),u=m.enter().append("g").attr("class","tick"),o=m.select("line"),q=m.select("text");n=n.merge(n.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(u),o=o.merge(u.append("line").attr("stroke","currentColor").attr(j+"2",e*f)),q=q.merge(u.append("text").attr("fill","currentColor").attr(j,e*x).attr("dy",c===dj?"0em":c===eo?"0.71em":"0.32em")),a!==p&&(n=n.transition(a),m=m.transition(a),o=o.transition(a),q=q.transition(a),v=v.transition(a).attr("opacity",iL).attr("transform",function(a){return isFinite(a=t(a))?l(a):this.getAttribute("transform")}),u.attr("opacity",iL).attr("transform",function(b){var a=this.parentNode.__axis;return l(a&&isFinite(a=a(b))?a:t(b))})),v.remove(),n.attr("d",c===bV||c==di?d?"M"+e*d+","+s+"H0.5V"+r+"H"+e*d:"M0.5,"+s+"V"+r:d?"M"+s+","+e*d+"V0.5H"+r+"V"+e*d:"M"+s+",0.5H"+r),m.attr("opacity",1).attr("transform",function(a){return l(t(a))}),o.attr(j+"2",e*f),q.attr(j,e*x).text(y),p.filter(th).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",c===di?"start":c===bV?"end":"middle"),p.each(function(){this.__axis=t})}return a.scale=function(c){return arguments.length?(b=c,a):b},a.ticks=function(){return h=ef.call(arguments),a},a.tickArguments=function(b){return arguments.length?(h=null==b?[]:ef.call(b),a):h.slice()},a.tickValues=function(b){return arguments.length?(g=null==b?null:ef.call(b),a):g&&g.slice()},a.tickFormat=function(b){return arguments.length?(i=b,a):i},a.tickSize=function(b){return arguments.length?(f=d=+b,a):f},a.tickSizeInner=function(b){return arguments.length?(f=+b,a):f},a.tickSizeOuter=function(b){return arguments.length?(d=+b,a):d},a.tickPadding=function(b){return arguments.length?(k=+b,a):k},a}pw={value:function(){}};function bi(){for(var a,b=0,d=arguments.length,c={};b<d;++b){if(!(a=arguments[b]+"")||a in c)throw new Error("illegal type: "+a);c[a]=[]}return new ey(c)}function ey(a){this._=a}function tf(b,d){for(var c,a=0,e=b.length;a<e;++a)if((c=b[a]).name===d)return c.value}function pm(a,c,d){for(var b=0,e=a.length;b<e;++b)if(a[b].name===c){a[b]=pw,a=a.slice(0,b).concat(a.slice(b+1));break}return null!=d&&a.push({name:c,value:d}),a}ey.prototype=bi.prototype={constructor:ey,on:function(c,d){var a,g,b=this._,f=(g=b,(c+"").trim().split(/^|\s+/).map(function(a){var c="",b=a.indexOf(".");if(b>=0&&(c=a.slice(b+1),a=a.slice(0,b)),a&&!g.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:c}})),e=-1,h=f.length;if(!(arguments.length<2)){if(null!=d&&"function"!=typeof d)throw new Error("invalid callback: "+d);for(;++e<h;)if(a=(c=f[e]).type)b[a]=pm(b[a],c.name,d);else if(null==d)for(a in b)b[a]=pm(b[a],c.name,null);return this}for(;++e<h;)if((a=(c=f[e]).type)&&(a=tf(b[a],c.name)))return a},copy:function(){var a={},b=this._,c;for(c in b)a[c]=b[c].slice();return new ey(a)},call:function(c,f){if((b=arguments.length-2)>0)for(var b,d,e=new Array(b),a=0;a<b;++a)e[a]=arguments[a+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(a=0,b=(d=this._[c]).length;a<b;++a)d[a].value.apply(f,e)},apply:function(a,d,e){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var c=this._[a],b=0,f=c.length;b<f;++b)c[b].value.apply(d,e)}},eD="http://www.w3.org/1999/xhtml",eG={svg:"http://www.w3.org/2000/svg",xhtml:eD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dc(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),eG.hasOwnProperty(b)?{space:eG[b],local:a}:a}function eH(b){var a=dc(b);return(a.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===eD&&b.documentElement.namespaceURI===eD?b.createElement(a):b.createElementNS(c,a)}})(a)}function te(){}function eJ(a){return null==a?te:function(){return this.querySelector(a)}}function tc(){return[]}function id(a){return null==a?tc:function(){return this.querySelectorAll(a)}}ic=function(a){return function(){return this.matches(a)}},"undefined"!=typeof document&&(bK=document.documentElement,bK.matches||(pj=bK.webkitMatchesSelector||bK.msMatchesSelector||bK.mozMatchesSelector||bK.oMatchesSelector,ic=function(a){return function(){return pj.call(this,a)}})),eO=ic;function pi(a){return new Array(a.length)}function eV(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}eV.prototype={constructor:eV,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}},hU="$";function tb(h,d,e,f,g,c){for(var b,a=0,i=d.length,j=c.length;a<j;++a)(b=d[a])?(b.__data__=c[a],f[a]=b):e[a]=new eV(h,c[a]);for(;a<i;++a)(b=d[a])&&(g[a]=b)}function ta(h,f,m,l,j,e,i){var a,b,d,c={},g=f.length,n=e.length,k=new Array(g);for(a=0;a<g;++a)(b=f[a])&&(k[a]=d=hU+i.call(b,b.__data__,a,f),d in c?j[a]=b:c[d]=b);for(a=0;a<n;++a)(b=c[d=hU+i.call(h,e[a],a,e)])?(l[a]=b,b.__data__=e[a],c[d]=null):m[a]=new eV(h,e[a]);for(a=0;a<g;++a)(b=f[a])&&c[k[a]]===b&&(j[a]=b)}function s$(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function hT(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function aX(a,b){return a.style.getPropertyValue(b)||hT(a).getComputedStyle(a,null).getPropertyValue(b)}function ph(a){return a.trim().split(/^|\s+/)}function hR(a){return a.classList||new pf(a)}function pf(a){this._node=a,this._names=ph(a.getAttribute("class")||"")}function pe(c,a){for(var d=hR(c),b=-1,e=a.length;++b<e;)d.add(a[b])}function pd(c,a){for(var d=hR(c),b=-1,e=a.length;++b<e;)d.remove(a[b])}function s_(){this.textContent=""}function sZ(){this.innerHTML=""}function sX(){this.nextSibling&&this.parentNode.appendChild(this)}function sU(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sT(){return null}function sR(){var a=this.parentNode;a&&a.removeChild(this)}function sQ(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function sP(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}pf.prototype={add:function(a){this._names.indexOf(a)<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){var a=this._names.indexOf(b);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}},hN={},(a.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(hN={mouseenter:"mouseover",mouseleave:"mouseout"}));function sN(a,b,c){return a=oU(a,b,c),function(c){var b=c.relatedTarget;b&&(b===this||8&b.compareDocumentPosition(this))||a.call(this,c)}}function oU(b,c,d){return function(e){var f=a.event;a.event=e;try{b.call(this,this.__data__,c,d)}finally{a.event=f}}}function sM(a){return function(){var c=this.__on,b,d,e,f;if(c){for(b,d=0,e=-1,f=c.length;d<f;++d)b=c[d],a.type&&b.type!==a.type||b.name!==a.name?c[++e]=b:this.removeEventListener(b.type,b.listener,b.capture);++e?c.length=e:delete this.__on}}}function sK(a,b,c){var d=hN.hasOwnProperty(a.type)?sN:oU;return function(l,i,j){var e,f=this.__on,h=d(b,i,j),g,k;if(f)for(g=0,k=f.length;g<k;++g)if((e=f[g]).type===a.type&&e.name===a.name)return this.removeEventListener(e.type,e.listener,e.capture),this.addEventListener(e.type,e.listener=h,e.capture=c),void(e.value=b);this.addEventListener(a.type,h,c),e={type:a.type,name:a.name,value:b,listener:h,capture:c},f?f.push(e):this.__on=[e]}}function cQ(b,c,d,e){var f=a.event;b.sourceEvent=a.event,a.event=b;try{return c.apply(d,e)}finally{a.event=f}}function oQ(d,c,b){var e=hT(d),a=e.CustomEvent;"function"==typeof a?a=new a(c,b):(a=e.document.createEvent("Event"),b?(a.initEvent(c,b.bubbles,b.cancelable),a.detail=b.detail):a.initEvent(c,!1,!1)),d.dispatchEvent(a)}eZ=[null];function F(a,b){this._groups=a,this._parents=b}function aJ(){return new F([[document.documentElement]],eZ)}function K(a){return"string"==typeof a?new F([[document.querySelector(a)]],[document.documentElement]):new F([[a]],eZ)}F.prototype=aJ.prototype={constructor:F,select:function(d){var i,g,h,c,b,f,e,j,k,a;"function"!=typeof d&&(d=eJ(d));for(i=this._groups,g=i.length,h=new Array(g),c=0;c<g;++c)for(b,f,e=i[c],j=e.length,k=h[c]=new Array(j),a=0;a<j;++a)(b=e[a])&&(f=d.call(b,b.__data__,a,e))&&("__data__"in b&&(f.__data__=b.__data__),k[a]=f);return new F(h,this._parents)},selectAll:function(e){var g,i,h,f,d,a,c,j,b;"function"!=typeof e&&(e=id(e));for(g=this._groups,i=g.length,h=[],f=[],d=0;d<i;++d)for(a,c=g[d],j=c.length,b=0;b<j;++b)(a=c[b])&&(h.push(e.call(a,a.__data__,b,c)),f.push(a));return new F(h,f)},filter:function(d){var f,g,h,b,c,e,i,j,a;"function"!=typeof d&&(d=eO(d));for(f=this._groups,g=f.length,h=new Array(g),b=0;b<g;++b)for(c,e=f[b],i=e.length,j=h[b]=[],a=0;a<i;++a)(c=e[a])&&d.call(c,c.__data__,a,e)&&j.push(c);return new F(h,this._parents)},data:function(h,v){var k,t,j,l,g,b,s,p,a,f,m,u,d,e,q,r,o,n,c,i;if(!h)return d=new Array(this.size()),a=-1,this.each(function(b){d[++a]=b}),d;t=v?ta:tb,j=this._parents,l=this._groups,"function"!=typeof h&&(k=h,h=function(){return k});for(g=l.length,b=new Array(g),s=new Array(g),p=new Array(g),a=0;a<g;++a){f=j[a],m=l[a],u=m.length,d=h.call(f,f&&f.__data__,a,j),e=d.length,q=s[a]=new Array(e),r=b[a]=new Array(e),t(f,m,q,r,p[a]=new Array(u),d,v);for(o,n,c=0,i=0;c<e;++c)if(o=q[c]){for(c>=i&&(i=c+1);!(n=r[i])&&++i<e;);o._next=n||null}}return(b=new F(b,j))._enter=s,b._exit=p,b},enter:function(){return new F(this._enter||this._groups.map(pi),this._parents)},exit:function(){return new F(this._exit||this._groups.map(pi),this._parents)},merge:function(n){for(var e=this._groups,f=n._groups,c=e.length,j=f.length,l=Math.min(c,j),d=new Array(c),a=0,h,i,k,g,m,b;a<l;++a)for(h,i=e[a],k=f[a],g=i.length,m=d[a]=new Array(g),b=0;b<g;++b)(h=i[b]||k[b])&&(m[b]=h);for(;a<c;++a)d[a]=e[a];return new F(d,this._parents)},order:function(){for(var f=this._groups,e=-1,g=f.length,b,c,d,a;++e<g;)for(b,c=f[e],d=c.length-1,a=c[d];--d>=0;)(b=c[d])&&(a&&a!==b.nextSibling&&a.parentNode.insertBefore(b,a),a=b);return this},sort:function(c){var e,f,j,b,g,d,h,i,a;function k(a,b){return a&&b?c(a.__data__,b.__data__):!a-!b}c||(c=s$);for(e=this._groups,f=e.length,j=new Array(f),b=0;b<f;++b){for(g,d=e[b],h=d.length,i=j[b]=new Array(h),a=0;a<h;++a)(g=d[a])&&(i[a]=g);i.sort(k)}return new F(j,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){var a=new Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a},node:function(){for(var c=this._groups,a=0,f=c.length,d,b,g,e;a<f;++a)for(d=c[a],b=0,g=d.length;b<g;++b)if(e=d[b],e)return e;return null},size:function(){var a=0;return this.each(function(){++a}),a},empty:function(){return!this.node()},each:function(g){for(var e=this._groups,b=0,f=e.length,c,d,a,h;b<f;++b)for(c,d=e[b],a=0,h=d.length;a<h;++a)(c=d[a])&&g.call(c,c.__data__,a,d);return this},attr:function(d,b){var a=dc(d),c;return arguments.length<2?(c=this.node(),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)):this.each((null==b?a.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}}:"function"==typeof b?a.local?function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}:function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}:a.local?function(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}:function(a,b){return function(){this.setAttribute(a,b)}})(a,b))},style:function(b,a,c){return arguments.length>1?this.each((null==a?function(a){return function(){this.style.removeProperty(a)}}:"function"==typeof a?function(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}:function(a,b,c){return function(){this.style.setProperty(a,b,c)}})(b,a,null==c?"":c)):aX(this.node(),b)},property:function(b,a){return arguments.length>1?this.each((null==a?function(a){return function(){delete this[a]}}:"function"==typeof a?function(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,b){return function(){this[a]=b}})(b,a)):this.node()[b]},classed:function(d,a){var b=ph(d+""),e,c,f;if(arguments.length<2){for(e=hR(this.node()),c=-1,f=b.length;++c<f;)if(!e.contains(b[c]))return!1;return!0}return this.each(("function"==typeof a?function(a,b){return function(){(b.apply(this,arguments)?pe:pd)(this,a)}}:a?function(a){return function(){pe(this,a)}}:function(a){return function(){pd(this,a)}})(b,a))},text:function(a){return arguments.length?this.each(null==a?s_:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}:function(a){return function(){this.textContent=a}})(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?sZ:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}:function(a){return function(){this.innerHTML=a}})(a)):this.node().innerHTML},raise:function(){return this.each(sX)},lower:function(){return this.each(sU)},append:function(a){var b="function"==typeof a?a:eH(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(b,a){var c="function"==typeof b?b:eH(b),d=null==a?sT:"function"==typeof a?a:eJ(a);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(sR)},clone:function(a){return this.select(a?sP:sQ)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(j,i,e){var a,h,d=function(a){return a.trim().split(/^|\s+/).map(function(a){var c="",b=a.indexOf(".");return b>=0&&(c=a.slice(b+1),a=a.slice(0,b)),{type:a,name:c}})}(j+""),g=d.length,b,c,f,k;if(!(arguments.length<2)){for(b=i?sK:sM,null==e&&(e=!1),a=0;a<g;++a)this.each(b(d[a],i,e));return this}if(b=this.node().__on,b)for(c,f=0,k=b.length;f<k;++f)for(a=0,c=b[f];a<g;++a)if((h=d[a]).type===c.type&&h.name===c.name)return c.value},dispatch:function(b,a){return this.each(("function"==typeof a?function(a,b){return function(){return oQ(this,a,b.apply(this,arguments))}}:function(a,b){return function(){return oQ(this,a,b)}})(b,a))}},oO=0;function oM(){return new hy}function hy(){this._="@"+(++oO).toString(36)}function hv(){for(var c,b=a.event;c=b.sourceEvent;)b=c;return b}function fi(a,c){var d=a.ownerSVGElement||a,b,e;return d.createSVGPoint?(b=d.createSVGPoint(),b.x=c.clientX,b.y=c.clientY,[(b=b.matrixTransform(a.getScreenCTM().inverse())).x,b.y]):(e=a.getBoundingClientRect(),[c.clientX-e.left-a.clientLeft,c.clientY-e.top-a.clientTop])}function at(b){var a=hv();return a.changedTouches&&(a=a.changedTouches[0]),fi(b,a)}function fk(e,a,c){arguments.length<3&&(c=a,a=hv().changedTouches);for(var d,b=0,f=a?a.length:0;b<f;++b)if((d=a[b]).identifier===c)return fi(e,d);return null}function hq(){a.event.stopImmediatePropagation()}function br(){a.event.preventDefault(),a.event.stopImmediatePropagation()}function fq(b){var a=b.document.documentElement,c=K(b).on("dragstart.drag",br,!0);"onselectstart"in a?c.on("selectstart.drag",br,!0):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")}function fr(c,d){var a=c.document.documentElement,b=K(c).on("dragstart.drag",null);d&&(b.on("click.drag",br,!0),setTimeout(function(){b.on("click.drag",null)},0)),"onselectstart"in a?b.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}function ft(a){return function(){return a}}function hc(a,b,c,d,e,f,g,h,i,j){this.target=a,this.type=b,this.subject=c,this.identifier=d,this.active=e,this.x=f,this.y=g,this.dx=h,this.dy=i,this._=j}function sG(){return!a.event.button}function sF(){return this.parentNode}function sE(b){return null==b?{x:a.event.x,y:a.event.y}:b}function sD(){return"ontouchstart"in this}function bn(a,c,b){a.prototype=c.prototype=b,b.constructor=a}function cH(d,a){var b=Object.create(d.prototype),c;for(c in a)b[c]=a[c];return b}function aF(){}hy.prototype=oM.prototype={constructor:hy,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}},hc.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a},bd="\\s*([+-]?\\d+)\\s*",bl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",no=/^#([0-9a-f]{3})$/,oG=/^#([0-9a-f]{6})$/,oE=new RegExp("^rgb\\("+[bd,bd,bd]+"\\)$"),oC=new RegExp("^rgb\\("+[Z,Z,Z]+"\\)$"),oA=new RegExp("^rgba\\("+[bd,bd,bd,bl]+"\\)$"),oy=new RegExp("^rgba\\("+[Z,Z,Z,bl]+"\\)$"),ow=new RegExp("^hsl\\("+[bl,Z,Z]+"\\)$"),ot=new RegExp("^hsla\\("+[bl,Z,Z,bl]+"\\)$"),gQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function aG(b){var a;return b=(b+"").trim().toLowerCase(),(a=no.exec(b))?new x((a=parseInt(a[1],16))>>8&15|a>>4&240,a>>4&15|240&a,(15&a)<<4|15&a,1):(a=oG.exec(b))?on(parseInt(a[1],16)):(a=oE.exec(b))?new x(a[1],a[2],a[3],1):(a=oC.exec(b))?new x(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=oA.exec(b))?om(a[1],a[2],a[3],a[4]):(a=oy.exec(b))?om(255*a[1]/100,255*a[2]/100,255*a[3]/100,a[4]):(a=ow.exec(b))?oj(a[1],a[2]/100,a[3]/100,1):(a=ot.exec(b))?oj(a[1],a[2]/100,a[3]/100,a[4]):gQ.hasOwnProperty(b)?on(gQ[b]):"transparent"===b?new x(NaN,NaN,NaN,0):null}function on(a){return new x(a>>16&255,a>>8&255,255&a,1)}function om(a,b,c,d){return d<=0&&(a=b=c=NaN),new x(a,b,c,d)}function gP(a){return a instanceof aF||(a=aG(a)),a?new x((a=a.rgb()).r,a.g,a.b,a.opacity):new x}function bt(a,c,d,b){return 1===arguments.length?gP(a):new x(a,c,d,null==b?1:b)}function x(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function gO(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function oj(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new aj(a,b,c,d)}function fH(a,c,d,b){return 1===arguments.length?function(a){if(a instanceof aj)return new aj(a.h,a.s,a.l,a.opacity);if(a instanceof aF||(a=aG(a)),!a)return new aj;if(a instanceof aj)return a;var f=(a=a.rgb()).r/255,c=a.g/255,e=a.b/255,g=Math.min(f,c,e),d=Math.max(f,c,e),h=NaN,b=d-g,i=(d+g)/2;return b?(h=f===d?(c-e)/b+6*(c<e):c===d?(e-f)/b+2:(f-c)/b+4,b/=i<.5?d+g:2-d-g,h*=60):b=i>0&&i<1?0:h,new aj(h,b,i,a.opacity)}(a):new aj(a,c,d,null==b?1:b)}function aj(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function gL(a,b,c){return 255*(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)}bn(aF,aG,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),bn(x,bt,cH(aF,{brighter:function(a){return a=null==a?1/.7:Math.pow(1/.7,a),new x(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new x(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+gO(this.r)+gO(this.g)+gO(this.b)},toString:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),bn(aj,fH,cH(aF,{brighter:function(a){return a=null==a?1/.7:Math.pow(1/.7,a),new aj(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new aj(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),e=isNaN(a)||isNaN(this.s)?0:this.s,b=this.l,c=b+(b<.5?b:1-b)*e,d=2*b-c;return new x(gL(a>=240?a-240:a+120,d,c),gL(a,d,c),gL(a<120?a+240:a-120,d,c),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}})),hx=Math.PI/180,gH=180/Math.PI,gF=.96422,jk=1,gE=.82521,gD=4/29,bh=6/29,gC=3*bh*bh,ob=bh*bh*bh;function gy(a){var h,f,g,d,b,e,c;return a instanceof _?new _(a.l,a.a,a.b,a.opacity):a instanceof ah?isNaN(a.h)?new _(a.l,0,0,a.opacity):(h=a.h*hx,new _(a.l,Math.cos(h)*a.c,Math.sin(h)*a.c,a.opacity)):(a instanceof x||(a=gP(a)),d=ga(a.r),b=ga(a.g),e=ga(a.b),c=gk((.2225045*d+.7168786*b+.0606169*e)/jk),d===b&&b===e?f=g=c:(f=gk((.4360747*d+.3850649*b+.1430804*e)/gF),g=gk((.0139322*d+.0971045*b+.7141733*e)/gE)),new _(116*c-16,500*(f-c),200*(c-g),a.opacity))}function fM(a,c,d,b){return 1===arguments.length?gy(a):new _(a,c,d,null==b?1:b)}function _(a,b,c,d){this.l=+a,this.a=+b,this.b=+c,this.opacity=+d}function gk(a){return a>ob?Math.pow(a,1/3):a/gC+gD}function gg(a){return a>bh?a*a*a:gC*(a-gD)}function gf(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function ga(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function oa(a){if(a instanceof ah)return new ah(a.h,a.c,a.l,a.opacity);if(a instanceof _||(a=gy(a)),0===a.a&&0===a.b)return new ah(NaN,0,a.l,a.opacity);var b=Math.atan2(a.b,a.a)*gH;return new ah(b<0?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function fX(a,c,d,b){return 1===arguments.length?oa(a):new ah(a,c,d,null==b?1:b)}function ah(a,b,c,d){this.h=+a,this.c=+b,this.l=+c,this.opacity=+d}bn(_,fM,cH(aF,{brighter:function(a){return new _(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new _(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;return new x(gf(3.1338561*(b=gF*gg(b))-1.6168667*(a=jk*gg(a))-.4906146*(c=gE*gg(c))),gf(-.9787684*b+1.9161415*a+.033454*c),gf(.0719453*b-.2289914*a+1.4052427*c),this.opacity)}})),bn(ah,fX,cH(aF,{brighter:function(a){return new ah(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new ah(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return gy(this).rgb()}})),fZ=-.14861,fU=1.78277,fR=-.29227,cp=-.90649,bX=1.97294,gl=bX*cp,gp=bX*fU,gK=fU*fR-cp*fZ;function U(a,c,d,b){return 1===arguments.length?function(a){if(a instanceof aT)return new aT(a.h,a.s,a.l,a.opacity);a instanceof x||(a=gP(a));var i=a.r/255,h=a.g/255,g=a.b/255,b=(gK*g+gl*i-gp*h)/(gK+gl-gp),c=g-b,e=(bX*(h-b)-fR*c)/cp,f=Math.sqrt(e*e+c*c)/(bX*b*(1-b)),d=f?Math.atan2(e,c)*gH-120:NaN;return new aT(d<0?d+360:d,f,b,a.opacity)}(a):new aT(a,c,d,null==b?1:b)}function aT(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function n$(a,d,e,f,g){var b=a*a,c=b*a;return((1-3*a+3*b-c)*d+(4-6*b+3*c)*e+(1+3*a+3*b-3*c)*f+c*g)/6}function n_(a){var b=a.length-1;return function(d){var c=d<=0?d=0:d>=1?(d=1,b-1):Math.floor(d*b),e=a[c],f=a[c+1],g=c>0?a[c-1]:2*e-f,h=c<b-1?a[c+2]:2*f-e;return n$((d-c/b)*b,g,e,f,h)}}function nY(b){var a=b.length;return function(d){var c=Math.floor(((d%=1)<0?++d:d)*a),e=b[(c+a-1)%a],f=b[c%a],g=b[(c+1)%a],h=b[(c+2)%a];return n$((d-c/a)*a,e,f,g,h)}}function fz(a){return function(){return a}}function nX(a,b){return function(c){return a+c*b}}function fp(b,c){var a=c-b;return a?nX(b,a>180||a<-180?a-360*Math.round(a/360):a):fz(isNaN(b)?c:b)}function sC(a){return 1==(a=+a)?v:function(b,c){return c-b?function(b,c,a){return b=Math.pow(b,a),c=Math.pow(c,a)-b,a=1/a,function(d){return Math.pow(b+d*c,a)}}(b,c,a):fz(isNaN(b)?c:b)}}function v(a,b){var c=b-a;return c?nX(a,c):fz(isNaN(a)?b:a)}bn(aT,U,cH(aF,{brighter:function(a){return a=null==a?1/.7:Math.pow(1/.7,a),new aT(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new aT(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var d=isNaN(this.h)?0:(this.h+120)*hx,a=+this.l,b=isNaN(this.s)?0:this.s*a*(1-a),c=Math.cos(d),e=Math.sin(d);return new x(255*(a+b*(fZ*c+fU*e)),255*(a+b*(fR*c+cp*e)),255*(a+b*(bX*c)),this.opacity)}})),ch=function c(d){var a=sC(d);function b(b,c){var d=a((b=bt(b)).r,(c=bt(c)).r),e=a(b.g,c.g),f=a(b.b,c.b),g=v(b.opacity,c.opacity);return function(a){return b.r=d(a),b.g=e(a),b.b=f(a),b.opacity=g(a),b+""}}return b.gamma=c,b}(1);function nW(a){return function(h){var c,b,e=h.length,f=new Array(e),g=new Array(e),d=new Array(e);for(c=0;c<e;++c)b=bt(h[c]),f[c]=b.r||0,g[c]=b.g||0,d[c]=b.b||0;return f=a(f),g=a(g),d=a(d),b.opacity=1,function(a){return b.r=f(a),b.g=g(a),b.b=d(a),b+""}}}hn=nW(n_),nV=nW(nY);function nU(c,b){var a,d=b?b.length:0,e=c?Math.min(d,c.length):0,g=new Array(e),f=new Array(d);for(a=0;a<e;++a)g[a]=cu(c[a],b[a]);for(;a<d;++a)f[a]=b[a];return function(b){for(a=0;a<e;++a)f[a]=g[a](b);return f}}function nR(a,b){var c=new Date;return b-=a=+a,function(d){return c.setTime(a+b*d),c}}function Q(a,b){return b-=a=+a,function(c){return a+b*c}}function nQ(c,b){var a,d={},e={};for(a in null!==c&&"object"==typeof c||(c={}),null!==b&&"object"==typeof b||(b={}),b)a in c?d[a]=cu(c[a],b[a]):e[a]=b[a];return function(b){for(a in d)e[a]=d[a](b);return e}}fg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fc=new RegExp(fg.source,"g");function hC(i,d){var h,e,c,g=fg.lastIndex=fc.lastIndex=0,b=-1,a=[],f=[];for(i+="",d+="";(h=fg.exec(i))&&(e=fc.exec(d));)(c=e.index)>g&&(c=d.slice(g,c),a[b]?a[b]+=c:a[++b]=c),(h=h[0])===(e=e[0])?a[b]?a[b]+=e:a[++b]=e:(a[++b]=null,f.push({i:b,x:Q(h,e)})),g=fc.lastIndex;return g<d.length&&(c=d.slice(g),a[b]?a[b]+=c:a[++b]=c),a.length<2?f[0]?function(a){return function(b){return a(b)+""}}(f[0].x):function(a){return function(){return a}}(d):(d=f.length,function(e){for(var c,b=0;b<d;++b)a[(c=f[b]).i]=c.x(e);return a.join("")})}function cu(d,a){var c,b=typeof a;return null==a||"boolean"===b?fz(a):("number"===b?Q:"string"===b?(c=aG(a))?(a=c,ch):hC:a instanceof aG?ch:a instanceof Date?nR:Array.isArray(a)?nU:"function"!=typeof a.valueOf&&"function"!=typeof a.toString||isNaN(a)?nQ:Q)(d,a)}function nP(a,b){return b-=a=+a,function(c){return Math.round(a+b*c)}}hV=180/Math.PI,eM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nN(a,b,f,d,h,i){var e,g,c;return(e=Math.sqrt(a*a+b*b))&&(a/=e,b/=e),(c=a*f+b*d)&&(f-=a*c,d-=b*c),(g=Math.sqrt(f*f+d*d))&&(f/=g,d/=g,c/=g),a*d<b*f&&(a=-a,b=-b,c=-c,e=-e),{translateX:h,translateY:i,rotate:Math.atan2(b,a)*hV,skewX:Math.atan(c)*hV,scaleX:e,scaleY:g}}function nM(c,d,e,b){function a(a){return a.length?a.pop()+" ":""}return function(f,g){var h=[],i=[];return f=c(f),g=c(g),function(c,f,a,b,g,i){if(c!==a||f!==b){var h=g.push("translate(",null,d,null,e);i.push({i:h-4,x:Q(c,a)},{i:h-2,x:Q(f,b)})}else(a||b)&&g.push("translate("+a+d+b+e)}(f.translateX,f.translateY,g.translateX,g.translateY,h,i),function(d,c,e,f){d!==c?(d-c>180?c+=360:c-d>180&&(d+=360),f.push({i:e.push(a(e)+"rotate(",null,b)-2,x:Q(d,c)})):c&&e.push(a(e)+"rotate("+c+b)}(f.rotate,g.rotate,h,i),function(e,c,d,f){e!==c?f.push({i:d.push(a(d)+"skewX(",null,b)-2,x:Q(e,c)}):c&&d.push(a(d)+"skewX("+c+b)}(f.skewX,g.skewX,h,i),function(e,f,b,c,d,h){if(e!==b||f!==c){var g=d.push(a(d)+"scale(",null,",",null,")");h.push({i:g-4,x:Q(e,b)},{i:g-2,x:Q(f,c)})}else 1===b&&1===c||d.push(a(d)+"scale("+b+","+c+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,h,i),f=g=null,function(c){for(var a,b=-1,d=i.length;++b<d;)h[(a=i[b]).i]=a.x(c);return h.join("")}}}iv=nM(function(a){return"none"===a?eM:(bH||(bH=document.createElement("DIV"),eX=document.documentElement,hI=document.defaultView),bH.style.transform=a,a=hI.getComputedStyle(eX.appendChild(bH),null).getPropertyValue("transform"),eX.removeChild(bH),nN(+(a=a.slice(7,-1).split(","))[0],+a[1],+a[2],+a[3],+a[4],+a[5]))},"px, ","px)","deg)"),iB=nM(function(a){return null==a?eM:(cz||(cz=document.createElementNS("http://www.w3.org/2000/svg","g")),cz.setAttribute("transform",a),(a=cz.transform.baseVal.consolidate())?nN((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):eM)},", ",")",")"),bj=Math.SQRT2,ex=2,iH=4,nL=1e-12;function nJ(a){return((a=Math.exp(a))+1/a)/2}function nH(i,m){var e,d,l=i[0],k=i[1],a=i[2],q=m[0],p=m[1],b=m[2],g=q-l,f=p-k,h=g*g+f*f,n,o,j,c,r;return h<nL?(d=Math.log(b/a)/bj,e=function(b){return[l+b*g,k+b*f,a*Math.exp(bj*b*d)]}):(n=Math.sqrt(h),o=(b*b-a*a+iH*h)/(2*a*ex*n),j=(b*b-a*a-iH*h)/(2*b*ex*n),c=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(j*j+1)-j),d=(r-c)/bj,e=function(j){var b,e=j*d,h=nJ(c),i=a/(ex*n)*(h*(b=bj*e+c,((b=Math.exp(2*b))-1)/(b+1))-function(a){return((a=Math.exp(a))-1/a)/2}(c));return[l+i*g,k+i*f,a*h/nJ(bj*e+c)]}),e.duration=1e3*d,e}function nA(a){return function(b,c){var d=a((b=fH(b)).h,(c=fH(c)).h),e=v(b.s,c.s),f=v(b.l,c.l),g=v(b.opacity,c.opacity);return function(a){return b.h=d(a),b.s=e(a),b.l=f(a),b.opacity=g(a),b+""}}}nz=nA(fp),ny=nA(v);function nx(a){return function(b,c){var d=a((b=fX(b)).h,(c=fX(c)).h),e=v(b.c,c.c),f=v(b.l,c.l),g=v(b.opacity,c.opacity);return function(a){return b.h=d(a),b.c=e(a),b.l=f(a),b.opacity=g(a),b+""}}}nw=nx(fp),nv=nx(v);function nu(a){return function d(b){function c(c,d){var e=a((c=U(c)).h,(d=U(d)).h),f=v(c.s,d.s),g=v(c.l,d.l),h=v(c.opacity,d.opacity);return function(a){return c.h=e(a),c.s=f(a),c.l=g(Math.pow(a,b)),c.opacity=h(a),c+""}}return b=+b,c.gamma=d,c}(1)}nt=nu(fp),cU=nu(v),aW=0,cj=0,bI=0,iS=1e3,c$=0,ax=0,db=0,bN="object"==typeof performance&&performance.now?performance:Date,iW="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function bR(){return ax||(iW(sB),ax=bN.now()+db)}function sB(){ax=0}function dg(){this._call=this._time=this._next=null}function ed(b,c,d){var a=new dg;return a.restart(b,c,d),a}function ns(){bR(),++aW;for(var b,a=cV;a;)(b=ax-a._time)>=0&&a._call.call(null,b),a=a._next;--aW}function nq(){ax=(c$=bN.now())+db,aW=cj=0;try{ns()}finally{aW=0,function(){for(var b,c,a=cV,d=1/0;a;)a._call?(d>a._time&&(d=a._time),b=a,a=a._next):(c=a._next,a._next=null,a=b?b._next=c:cV=c);bG=b,hw(d)}(),ax=0}}function sA(){var a=bN.now(),b=a-c$;b>iS&&(db-=b,c$=a)}function hw(a){aW||(cj&&(cj=clearTimeout(cj)),a-ax>24?(a<1/0&&(cj=setTimeout(nq,a-bN.now()-db)),bI&&(bI=clearInterval(bI))):(bI||(c$=bN.now(),bI=setInterval(sA,iS)),aW=1,iW(nq)))}function iZ(c,a,d){var b=new dg;return a=null==a?0:+a,b.restart(function(d){b.stop(),c(d+a)},a,d),b}dg.prototype=ed.prototype={constructor:dg,restart:function(b,c,a){if("function"!=typeof b)throw new TypeError("callback is not a function");a=(null==a?bR():+a)+(null==c?0:+c),this._next||bG===this||(bG?bG._next=this:cV=this,bG=this),this._call=b,this._time=a,hw()},stop:function(){this._call&&(this._call=null,this._time=1/0,hw())}},nm=bi("start","end","interrupt"),nk=[],jb=0,dT=1,dB=2,dS=3,jh=4,dN=5,dw=6;function dJ(b,e,c,f,g,a){var d=b.__transition;if(d){if(c in d)return}else b.__transition={};!function(b,e,a){var d,c=b.__transition;function f(m){var j,k,l,i;if(a.state!==dT)return g();for(j in c)if((i=c[j]).name===a.name){if(i.state===dS)return iZ(f);i.state===jh?(i.state=dw,i.timer.stop(),i.on.call("interrupt",b,b.__data__,i.index,i.group),delete c[j]):+j<e&&(i.state=dw,i.timer.stop(),delete c[j])}if(iZ(function(){a.state===dS&&(a.state=jh,a.timer.restart(h,a.delay,a.time),h(m))}),a.state=dB,a.on.call("start",b,b.__data__,a.index,a.group),a.state===dB){for(a.state=dS,d=new Array(l=a.tween.length),j=0,k=-1;j<l;++j)(i=a.tween[j].value.call(b,b.__data__,a.index,a.group))&&(d[++k]=i);d.length=k+1}}function h(c){for(var f=c<a.duration?a.ease.call(null,c/a.duration):(a.timer.restart(g),a.state=dN,1),e=-1,h=d.length;++e<h;)d[e].call(null,f);a.state===dN&&(a.on.call("end",b,b.__data__,a.index,a.group),g())}function g(){for(var d in a.state=dw,a.timer.stop(),delete c[e],c)return;delete b.__transition}c[e]=a,a.timer=ed(function(b){a.state=dT,a.timer.restart(f,a.delay,a.time),a.delay<=b&&f(b-a.delay)},0,a.time)}(b,c,{name:e,index:f,group:g,on:nm,tween:nk,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jb})}function jy(b,c){var a=$(b,c);if(a.state>jb)throw new Error("too late; already scheduled");return a}function aV(b,c){var a=$(b,c);if(a.state>dB)throw new Error("too late; already started");return a}function $(b,c){var a=b.__transition;if(!a||!(a=a[c]))throw new Error("transition not found");return a}function aY(b,c){var a,f,e,d=b.__transition,g=!0;if(d){for(e in c=null==c?null:c+"",d)(a=d[e]).name===c?(f=a.state>dB&&a.state<dN,a.state=dw,a.timer.stop(),f&&a.on.call("interrupt",b,b.__data__,a.index,a.group),delete d[e]):g=!1;g&&delete b.__transition}}function jA(a,b,d){var c=a._id;return a.each(function(){var a=aV(this,c);(a.value||(a.value={}))[b]=d.apply(this,arguments)}),function(a){return $(a,c).value[b]}}function ni(c,a){var b;return("number"==typeof a?Q:a instanceof aG?ch:(b=aG(a))?(a=b,ch):hC)(c,a)}nb=aJ.prototype.constructor,na=0;function ag(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}function m$(a){return aJ().transition(a)}function m_(){return++na}aL=aJ.prototype;function mZ(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}function jt(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}ag.prototype=m$.prototype={constructor:ag,select:function(d){var j=this._name,h=this._id,k,i,m,c,b,g,e,l,f,a;"function"!=typeof d&&(d=eJ(d));for(k=this._groups,i=k.length,m=new Array(i),c=0;c<i;++c)for(b,g,e=k[c],l=e.length,f=m[c]=new Array(l),a=0;a<l;++a)(b=e[a])&&(g=d.call(b,b.__data__,a,e))&&("__data__"in b&&(g.__data__=b.__data__),f[a]=g,dJ(f[a],j,h,a,f,$(b,h)));return new ag(m,this._parents,j,h)},selectAll:function(e){var m=this._name,h=this._id,k,n,i,j,f,a,g,o,d,l,c,p,b,q;"function"!=typeof e&&(e=id(e));for(k=this._groups,n=k.length,i=[],j=[],f=0;f<n;++f)for(a,g=k[f],o=g.length,d=0;d<o;++d)if(a=g[d]){for(l,c=e.call(a,a.__data__,d,g),p=$(a,h),b=0,q=c.length;b<q;++b)(l=c[b])&&dJ(l,m,h,b,c,p);i.push(c),j.push(a)}return new ag(i,j,m,h)},filter:function(d){var f,g,h,b,c,e,i,j,a;"function"!=typeof d&&(d=eO(d));for(f=this._groups,g=f.length,h=new Array(g),b=0;b<g;++b)for(c,e=f[b],i=e.length,j=h[b]=[],a=0;a<i;++a)(c=e[a])&&d.call(c,c.__data__,a,e)&&j.push(c);return new ag(h,this._parents,this._name,this._id)},merge:function(n){var e,f,c,j,l,d,a,h,i,k,g,m,b;if(n._id!==this._id)throw new Error;for(e=this._groups,f=n._groups,c=e.length,j=f.length,l=Math.min(c,j),d=new Array(c),a=0;a<l;++a)for(h,i=e[a],k=f[a],g=i.length,m=d[a]=new Array(g),b=0;b<g;++b)(h=i[b]||k[b])&&(m[b]=h);for(;a<c;++a)d[a]=e[a];return new ag(d,this._parents,this._name,this._id)},selection:function(){return new nb(this._groups,this._parents)},transition:function(){for(var h=this._name,i=this._id,g=m_(),f=this._groups,k=f.length,e=0,c,d,j,b,a;e<k;++e)for(c,d=f[e],j=d.length,b=0;b<j;++b)(c=d[b])&&(a=$(c,i),dJ(c,h,g,b,d,{time:a.time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease}));return new ag(f,this._parents,h,g)},call:aL.call,nodes:aL.nodes,node:aL.node,size:aL.size,empty:aL.empty,each:aL.each,on:function(a,c){var b=this._id;return arguments.length<2?$(this.node(),b).on.on(a):this.each(function(d,a,e){var b,c,f=function(a){return(a+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})}(a)?jy:aV;return function(){var g=f(this,d),h=g.on;h!==b&&(c=(b=h).copy()).on(a,e),g.on=c}}(b,a,c))},attr:function(c,b){var a=dc(c),d="transform"===a?iB:ni;return this.attrTween(c,"function"==typeof b?(a.local?function(a,e,f){var b,c,d;return function(){var h,g=f(this);if(null!=g)return(h=this.getAttributeNS(a.space,a.local))===g?null:h===b&&g===c?d:d=e(b=h,c=g);this.removeAttributeNS(a.space,a.local)}}:function(a,e,f){var b,c,d;return function(){var h,g=f(this);if(null!=g)return(h=this.getAttribute(a))===g?null:h===b&&g===c?d:d=e(b=h,c=g);this.removeAttribute(a)}})(a,d,jA(this,"attr."+c,b)):null==b?(a.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}})(a):(a.local?function(a,e,b){var c,d;return function(){var f=this.getAttributeNS(a.space,a.local);return f===b?null:f===c?d:d=e(c=f,b)}}:function(d,e,a){var b,c;return function(){var f=this.getAttribute(d);return f===a?null:f===b?c:c=e(b=f,a)}})(a,d,b+""))},attrTween:function(c,b){var a="attr."+c,d;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==b)return this.tween(a,null);if("function"!=typeof b)throw new Error;return d=dc(c),this.tween(a,(d.local?function(a,b){function c(){var c=this,d=b.apply(c,arguments);return d&&function(b){c.setAttributeNS(a.space,a.local,d(b))}}return c._value=b,c}:function(c,a){function b(){var b=this,d=a.apply(b,arguments);return d&&function(a){b.setAttribute(c,d(a))}}return b._value=a,b})(d,b))},style:function(a,b,d){var c="transform"==(a+="")?iv:ni;return null==b?this.styleTween(a,function(a,e){var b,c,d;return function(){var f=aX(this,a),g=(this.style.removeProperty(a),aX(this,a));return f===g?null:f===b&&g===c?d:d=e(b=f,c=g)}}(a,c)).on("end.style."+a,function(a){return function(){this.style.removeProperty(a)}}(a)):this.styleTween(a,"function"==typeof b?function(a,e,f){var b,c,d;return function(){var h=aX(this,a),g=f(this);return null==g&&(this.style.removeProperty(a),g=aX(this,a)),h===g?null:h===b&&g===c?d:d=e(b=h,c=g)}}(a,c,jA(this,"style."+a,b)):function(d,e,a){var b,c;return function(){var f=aX(this,d);return f===a?null:f===b?c:c=e(b=f,a)}}(a,c,b+""),d)},styleTween:function(c,b,d){var a="style."+(c+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==b)return this.tween(a,null);if("function"!=typeof b)throw new Error;return this.tween(a,function(c,a,d){function b(){var b=this,e=a.apply(b,arguments);return e&&function(a){b.style.setProperty(c,e(a),d)}}return b._value=a,b}(c,b,null==d?"":d))},text:function(a){return this.tween("text","function"==typeof a?function(a){return function(){var b=a(this);this.textContent=null==b?"":b}}(jA(this,"text",a)):function(a){return function(){this.textContent=a}}(null==a?"":a+""))},remove:function(){return this.on("end.remove",(a=this._id,function(){var b=this.parentNode,c;for(c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}));var a},tween:function(a,c){var d=this._id,e,f,b,g;if(a+="",arguments.length<2){for(e,f=$(this.node(),d).tween,b=0,g=f.length;b<g;++b)if((e=f[b]).name===a)return e.value;return null}return this.each((null==c?function(c,d){var b,a;return function(){var f=aV(this,c),g=f.tween,e,h;if(g!==b)for(e=0,h=(a=b=g).length;e<h;++e)if(a[e].name===d){(a=a.slice()).splice(e,1);break}f.tween=a}}:function(e,b,c){var d,a;if("function"!=typeof c)throw new Error;return function(){var g=aV(this,e),h=g.tween,i,f,j;if(h!==d){a=(d=h).slice();for(i={name:b,value:c},f=0,j=a.length;f<j;++f)if(a[f].name===b){a[f]=i;break}f===j&&a.push(i)}g.tween=a}})(d,a,c))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){jy(this,a).delay=+b.apply(this,arguments)}}:function(b,a){return a=+a,function(){jy(this,b).delay=a}})(b,a)):$(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){aV(this,a).duration=+b.apply(this,arguments)}}:function(b,a){return a=+a,function(){aV(this,b).duration=a}})(b,a)):$(this.node(),b).duration},ease:function(b){var a=this._id;return arguments.length?this.each(function(b,a){if("function"!=typeof a)throw new Error;return function(){aV(this,b).ease=a}}(a,b)):$(this.node(),a).ease}},mY=function c(a){function b(b){return Math.pow(b,a)}return a=+a,b.exponent=c,b}(3),mX=function c(a){function b(b){return 1-Math.pow(1-b,a)}return a=+a,b.exponent=c,b}(3),jr=function c(a){function b(b){return((b*=2)<=1?Math.pow(b,a):2-Math.pow(2-b,a))/2}return a=+a,b.exponent=c,b}(3),jp=Math.PI,jm=jp/2;function mW(a){return(1-Math.cos(jp*a))/2}function mV(a){return((a*=2)<=1?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2}function mT(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}dU=4/11,mR=6/11,mP=8/11,mO=.75,mN=9/11,mM=10/11,mL=.9375,mK=21/22,mJ=63/64,dl=1/dU/dU;function dk(a){return(a=+a)<dU?dl*a*a:a<mP?dl*(a-=mR)*a+mO:a<mM?dl*(a-=mN)*a+mL:dl*(a-=mK)*a+mJ}mI=function c(a){function b(b){return b*b*((a+1)*b-a)}return a=+a,b.overshoot=c,b}(1.70158),mH=function c(a){function b(b){return--b*b*((a+1)*b+a)+1}return a=+a,b.overshoot=c,b}(1.70158),iX=function c(a){function b(b){return((b*=2)<1?b*b*((a+1)*b-a):(b-=2)*b*((a+1)*b+a)+2)/2}return a=+a,b.overshoot=c,b}(1.70158),bc=2*Math.PI,mG=function d(a,b){var e=Math.asin(1/(a=Math.max(1,a)))*(b/=bc);function c(c){return a*Math.pow(2,10*--c)*Math.sin((e-c)/b)}return c.amplitude=function(a){return d(a,b*bc)},c.period=function(b){return d(a,b)},c}(1,.3),iV=function d(a,b){var e=Math.asin(1/(a=Math.max(1,a)))*(b/=bc);function c(c){return 1-a*Math.pow(2,-10*(c=+c))*Math.sin((c+e)/b)}return c.amplitude=function(a){return d(a,b*bc)},c.period=function(b){return d(a,b)},c}(1,.3),mF=function d(a,b){var e=Math.asin(1/(a=Math.max(1,a)))*(b/=bc);function c(c){return((c=2*c-1)<0?a*Math.pow(2,10*c)*Math.sin((e-c)/b):2-a*Math.pow(2,-10*c)*Math.sin((e+c)/b))/2}return c.amplitude=function(a){return d(a,b*bc)},c.period=function(b){return d(a,b)},c}(1,.3),ek={time:null,delay:0,duration:250,ease:jt};function sz(b,c){for(var a;!(a=b.__transition)||!(a=a[c]);)if(!(b=b.parentNode))return ek.time=bR(),ek;return a}aJ.prototype.interrupt=function(a){return this.each(function(){aY(this,a)})},aJ.prototype.transition=function(a){var b,h,g,i,d,e,f,j,c;a instanceof ag?(b=a._id,a=a._name):(b=m_(),(h=ek).time=bR(),a=null==a?null:a+"");for(g=this._groups,i=g.length,d=0;d<i;++d)for(e,f=g[d],j=f.length,c=0;c<j;++c)(e=f[c])&&dJ(e,a,b,c,f,h||sz(e,b));return new ag(g,this._parents,a,b)},mE=[null];function mA(a){return function(){return a}}function sw(a,b,c){this.target=a,this.type=b,this.selection=c}function my(){a.event.stopImmediatePropagation()}function eq(){a.event.preventDefault(),a.event.stopImmediatePropagation()}hu={name:"drag"},es={name:"space"},aR={name:"handle"},aS={name:"center"},dC={name:"x",handles:["e","w"].map(cE),input:function(a,b){return a&&[[a[0],b[0][1]],[a[1],b[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},cI={name:"y",handles:["n","s"].map(cE),input:function(a,b){return a&&[[b[0][0],a[0]],[b[1][0],a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},mw={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(cE),input:function(a){return a},output:function(a){return a}},ab={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},iA={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},iy={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},mv={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mu={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function cE(a){return{type:a}}function sv(){return!a.event.button}function su(){var a=this.ownerSVGElement||this;return[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function is(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function iq(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}function io(c){var h,j=su,i=sv,g=bi(b,"start","brush","end"),d=6;function b(a){var b=a.property("__brush",m).selectAll(".overlay").data([cE("overlay")]),d;b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ab.overlay).merge(b).each(function(){var a=is(this).extent;K(this).attr("x",a[0][0]).attr("y",a[0][1]).attr("width",a[1][0]-a[0][0]).attr("height",a[1][1]-a[0][1])}),a.selectAll(".selection").data([cE("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ab.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges"),d=a.selectAll(".handle").data(c.handles,function(a){return a.type}),d.exit().remove(),d.enter().append("rect").attr("class",function(a){return"handle handle--"+a.type}).attr("cursor",function(a){return ab[a.type]}),a.each(e).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function e(){var b=K(this),a=is(this).selection;a?(b.selectAll(".selection").style("display",null).attr("x",a[0][0]).attr("y",a[0][1]).attr("width",a[1][0]-a[0][0]).attr("height",a[1][1]-a[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(b){return"e"===b.type[b.type.length-1]?a[1][0]-d/2:a[0][0]-d/2}).attr("y",function(b){return"s"===b.type[0]?a[1][1]-d/2:a[0][1]-d/2}).attr("width",function(b){return"n"===b.type||"s"===b.type?a[1][0]-a[0][0]+d:d}).attr("height",function(b){return"e"===b.type||"w"===b.type?a[1][1]-a[0][1]+d:d})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(a,b){return a.__brush.emitter||new k(a,b)}function k(a,b){this.that=a,this.args=b,this.state=a.__brush,this.active=0}function l(){var l,r,k,o,m,q,n,p,g,j,M,G,J,v,t,u,d,b,w,F,s,x,z,y,A,H,D,E,L,I,C,O;if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return eq()}else if(h)return;i.apply(this,arguments)&&(v=this,t=a.event.target.__data__.type,u="selection"===(a.event.metaKey?t="overlay":t)?hu:a.event.altKey?aS:aR,d=c===cI?null:mv[t],b=c===dC?null:mu[t],w=is(v),F=w.extent,s=w.selection,x=F[0][0],z=F[0][1],y=F[1][0],A=F[1][1],H=d&&b&&a.event.shiftKey,D=at(v),E=D,L=f(v,arguments).beforestart(),"overlay"===t?w.selection=s=[[l=c===cI?x:D[0],k=c===dC?z:D[1]],[m=c===cI?y:l,n=c===dC?A:k]]:(l=s[0][0],k=s[0][1],m=s[1][0],n=s[1][1]),r=l,o=k,q=m,p=n,I=K(v).attr("pointer-events","none"),C=I.selectAll(".overlay").attr("cursor",ab[t]),a.event.touches?I.on("touchmove.brush",N,!0).on("touchend.brush touchcancel.brush",P,!0):(O=K(a.event.view).on("keydown.brush",function(){switch(a.event.keyCode){case 16:H=d&&b;break;case 18:u===aR&&(d&&(m=q-g*d,l=r+g*d),b&&(n=p-j*b,k=o+j*b),u=aS,B());break;case 32:u!==aR&&u!==aS||(d<0?m=q-g:d>0&&(l=r-g),b<0?n=p-j:b>0&&(k=o-j),u=es,C.attr("cursor",ab.selection),B());break;default:return}eq()},!0).on("keyup.brush",function(){switch(a.event.keyCode){case 16:H&&(G=J=H=!1,B());break;case 18:u===aS&&(d<0?m=q:d>0&&(l=r),b<0?n=p:b>0&&(k=o),u=aR,B());break;case 32:u===es&&(a.event.altKey?(d&&(m=q-g*d,l=r+g*d),b&&(n=p-j*b,k=o+j*b),u=aS):(d<0?m=q:d>0&&(l=r),b<0?n=p:b>0&&(k=o),u=aR),C.attr("cursor",ab[t]),B());break;default:return}eq()},!0).on("mousemove.brush",N,!0).on("mouseup.brush",P,!0),fq(a.event.view)),my(),aY(v),e.call(v),L.start());function N(){var a=at(v);!H||G||J||(Math.abs(a[0]-E[0])>Math.abs(a[1]-E[1])?J=!0:G=!0),E=a,M=!0,eq(),B()}function B(){var a;switch(g=E[0]-D[0],j=E[1]-D[1],u){case es:case hu:d&&(g=Math.max(x-l,Math.min(y-m,g)),r=l+g,q=m+g),b&&(j=Math.max(z-k,Math.min(A-n,j)),o=k+j,p=n+j);break;case aR:d<0?(g=Math.max(x-l,Math.min(y-l,g)),r=l+g,q=m):d>0&&(g=Math.max(x-m,Math.min(y-m,g)),r=l,q=m+g),b<0?(j=Math.max(z-k,Math.min(A-k,j)),o=k+j,p=n):b>0&&(j=Math.max(z-n,Math.min(A-n,j)),o=k,p=n+j);break;case aS:d&&(r=Math.max(x,Math.min(y,l-g*d)),q=Math.max(x,Math.min(y,m+g*d))),b&&(o=Math.max(z,Math.min(A,k-j*b)),p=Math.max(z,Math.min(A,n+j*b)))}q<r&&(d*=-1,a=l,l=m,m=a,a=r,r=q,q=a,t in iA&&C.attr("cursor",ab[t=iA[t]])),p<o&&(b*=-1,a=k,k=n,n=a,a=o,o=p,p=a,t in iy&&C.attr("cursor",ab[t=iy[t]])),w.selection&&(s=w.selection),G&&(r=s[0][0],q=s[1][0]),J&&(o=s[0][1],p=s[1][1]),s[0][0]===r&&s[0][1]===o&&s[1][0]===q&&s[1][1]===p||(w.selection=[[r,o],[q,p]],e.call(v),L.brush())}function P(){if(my(),a.event.touches){if(a.event.touches.length)return;h&&clearTimeout(h),h=setTimeout(function(){h=null},500),I.on("touchmove.brush touchend.brush touchcancel.brush",null)}else fr(a.event.view,M),O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),C.attr("cursor",ab.overlay),w.selection&&(s=w.selection),iq(s)&&(w.selection=null,e.call(v)),L.end()}}function m(){var a=this.__brush||{selection:null};return a.extent=j.apply(this,arguments),a.dim=c,a}return b.move=function(b,a){b.selection?b.on("start.brush",function(){f(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){f(this,arguments).end()}).tween("brush",function(){var b=this,d=b.__brush,j=f(b,arguments),h=d.selection,g=c.input("function"==typeof a?a.apply(this,arguments):a,d.extent),k=cu(h,g);function i(a){d.selection=1===a&&iq(g)?null:k(a),e.call(b),j.brush()}return h&&g?i:i(1)}):b.each(function(){var d=arguments,g=this.__brush,b=c.input("function"==typeof a?a.apply(this,d):a,g.extent),h=f(this,d).beforestart();aY(this),g.selection=null==b||iq(b)?null:b,e.call(this),h.start().brush().end()})},k.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(a){cQ(new sw(b,a,c.output(this.state.selection)),g.apply,g,[a,this.that,this.args])}},b.extent=function(a){return arguments.length?(j="function"==typeof a?a:mA([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):j},b.filter=function(a){return arguments.length?(i="function"==typeof a?a:mA(!!a),b):i},b.handleSize=function(a){return arguments.length?(d=+a,b):d},b.on=function(){var a=g.on.apply(g,arguments);return a===g?b:a},b}im=Math.cos,ij=Math.sin,ih=Math.PI,cB=ih/2,ig=2*ih,ia=Math.max,mq=Array.prototype.slice;function hY(a){return function(){return a}}eR=Math.PI,eS=2*eR,mo=eS-1e-6;function hW(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function au(){return new hW}function ss(a){return a.source}function sr(a){return a.target}function sq(a){return a.radius}function sp(a){return a.startAngle}function so(a){return a.endAngle}hW.prototype=au.prototype={constructor:hW,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,c,d){this._+="Q"+ +a+","+ +b+","+(this._x1=+c)+","+(this._y1=+d)},bezierCurveTo:function(a,b,c,d,e,f){this._+="C"+ +a+","+ +b+","+ +c+","+ +d+","+(this._x1=+e)+","+(this._y1=+f)},arcTo:function(c,b,k,j,a){var n,p,f,g,d,e,l,m,h,o,u,q,r,s,i,t;if(c=+c,b=+b,k=+k,j=+j,a=+a,n=this._x1,p=this._y1,f=k-c,g=j-b,d=n-c,e=p-b,l=d*d+e*e,a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+(this._x1=c)+","+(this._y1=b):l>1e-6&&(Math.abs(e*f-g*d)>1e-6&&a?(m=k-n,h=j-p,o=f*f+g*g,u=m*m+h*h,q=Math.sqrt(o),r=Math.sqrt(l),s=a*Math.tan((eR-Math.acos((o+l-u)/(2*q*r)))/2),i=s/r,t=s/q,Math.abs(i-1)>1e-6&&(this._+="L"+(c+i*d)+","+(b+i*e)),this._+="A"+a+","+a+",0,0,"+ +(e*m>d*h)+","+(this._x1=c+t*f)+","+(this._y1=b+t*g)):this._+="L"+(this._x1=c)+","+(this._y1=b))},arc:function(c,d,a,e,f,l){c=+c,d=+d;var j=(a=+a)*Math.cos(e),k=a*Math.sin(e),g=c+j,h=d+k,i=1^l,b=l?e-f:f-e;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+g+","+h:(Math.abs(this._x1-g)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+g+","+h),a&&(b<0&&(b=b%eS+eS),b>mo?this._+="A"+a+","+a+",0,1,"+i+","+(c-j)+","+(d-k)+"A"+a+","+a+",0,1,"+i+","+(this._x1=g)+","+(this._y1=h):b>1e-6&&(this._+="A"+a+","+a+",0,"+ +(b>=eR)+","+i+","+(this._x1=c+a*Math.cos(f))+","+(this._y1=d+a*Math.sin(f))))},rect:function(b,c,a,d){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+c)+"h"+ +a+"v"+ +d+"h"+-a+"Z"},toString:function(){return this._}};function e$(){}function am(a,d){var c=new e$,e,b,f,g;if(a instanceof e$)a.each(function(a,b){c.set(b,a)});else if(Array.isArray(a))if(b=-1,f=a.length,null==d)for(;++b<f;)c.set(b,a[b]);else for(;++b<f;)c.set(d(e=a[b],b,a),e);else if(a)for(g in a)c.set(g,a[g]);return c}function sn(){return{}}function sm(a,b,c){a[b]=c}function mj(){return am()}function mi(a,b,c){a.set(b,c)}function fJ(){}e$.prototype=am.prototype={constructor:e$,has:function(a){return"$"+a in this},get:function(a){return this["$"+a]},set:function(a,b){return this["$"+a]=b,this},remove:function(b){var a="$"+b;return a in this&&delete this[a]},clear:function(){for(var a in this)"$"===a[0]&&delete this[a]},keys:function(){var a=[],b;for(b in this)"$"===b[0]&&a.push(b.slice(1));return a},values:function(){var a=[],b;for(b in this)"$"===b[0]&&a.push(this[b]);return a},entries:function(){var b=[],a;for(a in this)"$"===a[0]&&b.push({key:a.slice(1),value:this[a]});return b},size:function(){var a=0,b;for(b in this)"$"===b[0]&&++a;return a},empty:function(){for(var a in this)if("$"===a[0])return!1;return!0},each:function(b){for(var a in this)"$"===a[0]&&b(this[a],a.slice(1),this)}},av=am.prototype;function mf(a,d){var c=new fJ,b,e;if(a instanceof fJ)a.each(function(a){c.add(a)});else if(a)if(b=-1,e=a.length,null==d)for(;++b<e;)c.add(a[b]);else for(;++b<e;)c.add(d(a[b],b,a));return c}fJ.prototype=mf.prototype={constructor:fJ,has:av.has,add:function(a){return this["$"+(a+="")]=a,this},remove:av.remove,clear:av.clear,values:av.keys,size:av.size,empty:av.empty,each:av.each},hs=Array.prototype.slice;function sl(a,b){return a-b}function aH(a){return function(){return a}}function sk(d,a){for(var b,c=-1,e=a.length;++c<e;)if(b=sj(d,a[c]))return b;return 0}function sj(h,b){for(var m=b[0],d=b[1],e=-1,f=0,k=h.length,i=k-1,a,j,g,c,n,l;f<k;i=f++){if(a=h[f],j=a[0],g=a[1],c=h[i],n=c[0],l=c[1],si(a,c,b))return 0;g>d!=l>d&&m<(n-j)*(d-g)/(l-g)+j&&(e=-e)}return e}function si(b,c,g){var d,e,a,f;return function(a,b,c){return(b[0]-a[0])*(c[1]-a[1])==(c[0]-a[0])*(b[1]-a[1])}(b,c,g)&&(e=b[d=+(b[0]===c[0])],a=g[d],f=c[d],e<=a&&a<=f||f<=a&&a<=e)}function sh(){}af=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function lZ(){var a=1,c=1,d=jj,e=f;function b(b){var a=d(b),c,e,f;return Array.isArray(a)?a=a.slice().sort(sl):(c=jH(b),e=c[0],f=c[1],a=aZ(e,f,a),a=R(Math.floor(e/a)*a,Math.floor(f/a)*a,a)),a.map(function(a){return g(b,a)})}function g(f,d){var b=[],g=[];return function(k,l,o){var e,f,n,b,d,m,i=new Array,j=new Array;for(e=f=-1,b=k[0]>=l,af[b<<1].forEach(g);++e<a-1;)n=b,b=k[e+1]>=l,af[n|b<<1].forEach(g);for(af[b<<0].forEach(g);++f<c-1;){for(e=-1,b=k[f*a+a]>=l,d=k[f*a]>=l,af[b<<1|d<<2].forEach(g);++e<a-1;)n=b,b=k[f*a+a+e+1]>=l,m=d,d=k[f*a+e+1]>=l,af[n|b<<1|d<<2|m<<3].forEach(g);af[b|d<<3].forEach(g)}for(e=-1,d=k[f*a]>=l,af[d<<2].forEach(g);++e<a-1;)m=d,d=k[f*a+e+1]>=l,af[d<<2|m<<3].forEach(g);function g(k){var a,b,l=[k[0][0]+e,k[0][1]+f],d=[k[1][0]+e,k[1][1]+f],g=h(l),c=h(d);(a=j[g])?(b=i[c])?(delete j[a.end],delete i[b.start],a===b?(a.ring.push(d),o(a.ring)):i[a.start]=j[b.end]={start:a.start,end:b.end,ring:a.ring.concat(b.ring)}):(delete j[a.end],a.ring.push(d),j[a.end=c]=a):(a=i[c])?(b=j[g])?(delete i[a.start],delete j[b.end],a===b?(a.ring.push(d),o(a.ring)):i[b.start]=j[a.end]={start:b.start,end:a.end,ring:b.ring.concat(a.ring)}):(delete i[a.start],a.ring.unshift(l),i[a.start=g]=a):i[g]=j[c]={start:g,end:c,ring:[l,d]}}af[d<<3].forEach(g)}(f,d,function(a){e(a,f,d),function(a){for(var b=0,c=a.length,d=a[c-1][1]*a[0][0]-a[c-1][0]*a[0][1];++b<c;)d+=a[b-1][1]*a[b][0]-a[b-1][0]*a[b][1];return d}(a)>0?b.push([a]):g.push(a)}),g.forEach(function(c){for(var d,a=0,e=b.length;a<e;++a)if(-1!==sk((d=b[a])[0],c))return void d.push(c)}),{type:"MultiPolygon",value:d,coordinates:b}}function h(b){return 2*b[0]+b[1]*(a+1)*4}function f(e,b,d){e.forEach(function(h){var e,f=h[0],g=h[1],i=0|f,j=0|g,k=b[j*a+i];f>0&&f<a&&i===f&&(e=b[j*a+i-1],h[0]=f+(d-e)/(k-e)-.5),g>0&&g<c&&j===g&&(e=b[(j-1)*a+i],h[1]=g+(d-e)/(k-e)-.5)})}return b.contour=g,b.size=function(d){if(!arguments.length)return[a,c];var e=Math.ceil(d[0]),f=Math.ceil(d[1]);if(!(e>0&&f>0))throw new Error("invalid size");return a=e,c=f,b},b.thresholds=function(a){return arguments.length?(d="function"==typeof a?a:Array.isArray(a)?aH(hs.call(a)):aH(a),b):d},b.smooth=function(a){return arguments.length?(e=a?f:sh,b):e===f},b}function hj(f,i,d){for(var b=f.width,h=f.height,e=1+(d<<1),c=0,a,g;c<h;++c)for(a=0,g=0;a<b+d;++a)a<b&&(g+=f.data[a+c*b]),a>=d&&(a>=e&&(g-=f.data[a-e+c*b]),i.data[a-d+c*b]=g/Math.min(a+1,b-1+e-a,e))}function hf(f,i,c){for(var d=f.width,g=f.height,e=1+(c<<1),b=0,a,h;b<d;++b)for(a=0,h=0;a<g+c;++a)a<g&&(h+=f.data[b+a*d]),a>=c&&(a>=e&&(h-=f.data[b+(a-e)*d]),i.data[b+(a-c)*d]=h/Math.min(a+1,g-1+e-a,e))}function sg(a){return a[0]}function sf(a){return a[1]}function se(){return 1}hb={},fx={},fy=34,ce=10,fA=13;function lT(a){return new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function fC(a){var d=new RegExp('["'+a+"\n\r]"),e=a.charCodeAt(0);function c(a,j){var f,i=[],c=a.length,b=0,l=0,h=c<=0,d=!1,g;function k(){if(h)return fx;if(d)return d=!1,hb;var g,f,i=b;if(a.charCodeAt(i)===fy){for(;b++<c&&a.charCodeAt(b)!==fy||a.charCodeAt(++b)===fy;);return(g=b)>=c?h=!0:(f=a.charCodeAt(b++))===ce?d=!0:f===fA&&(d=!0,a.charCodeAt(b)===ce&&++b),a.slice(i+1,g-1).replace(/""/g,'"')}for(;b<c;){if((f=a.charCodeAt(g=b++))===ce)d=!0;else if(f===fA)d=!0,a.charCodeAt(b)===ce&&++b;else if(f!==e)continue;return a.slice(i,g)}return h=!0,a.slice(i,c)}for(a.charCodeAt(c-1)===ce&&--c,a.charCodeAt(c-1)===fA&&--c;(f=k())!==fx;){for(g=[];f!==hb&&f!==fx;)g.push(f),f=k();j&&null==(g=j(g,l++))||i.push(g)}return i}function f(c){return c.map(b).join(a)}function b(a){return null==a?"":d.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a}return{parse:function(f,b){var a,d,e=c(f,function(c,e){if(a)return a(c,e-1);d=c,a=b?function(a,b){var c=lT(a);return function(d,e){return b(c(d),e,a)}}(c,b):lT(c)});return e.columns=d||[],e},parseRows:c,format:function(d,c){return null==c&&(c=function(c){var a=Object.create(null),b=[];return c.forEach(function(d){for(var c in d)c in a||b.push(a[c]=c)}),b}(d)),[c.map(b).join(a)].concat(d.map(function(d){return c.map(function(a){return b(d[a])}).join(a)})).join("\n")},formatRows:function(a){return a.map(f).join("\n")}}}cm=fC(","),ha=cm.parse,lS=cm.parseRows,lR=cm.format,lQ=cm.formatRows,cn=fC("	"),gJ=cn.parse,lP=cn.parseRows,lO=cn.format,lN=cn.formatRows;function sd(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.blob()}function sc(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.arrayBuffer()}function sb(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.text()}function fQ(a,b){return fetch(a,b).then(sb)}function lD(a){return function(d,b,c){return 2===arguments.length&&"function"==typeof b&&(c=b,b=void 0),fQ(d,b).then(function(b){return a(b,c)})}}lC=lD(ha),lA=lD(gJ);function sa(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.json()}function fY(a){return function(b,c){return fQ(b,c).then(function(b){return(new DOMParser).parseFromString(b,a)})}}lu=fY("application/xml"),lt=fY("text/html"),lr=fY("image/svg+xml");function s(a){return function(){return a}}function aE(){return 1e-6*(Math.random()-.5)}function ln(a,j,m,s){if(isNaN(j)||isNaN(m))return a;var b,d,e,q,p,n,k,f,r,c=a._root,g={data:s},i=a._x0,h=a._y0,l=a._x1,o=a._y1;if(!c)return a._root=g,a;for(;c.length;)if((n=j>=(d=(i+l)/2))?i=d:l=d,(k=m>=(e=(h+o)/2))?h=e:o=e,b=c,!(c=c[f=k<<1|n]))return b[f]=g,a;if(q=+a._x.call(null,c.data),p=+a._y.call(null,c.data),j===q&&m===p)return g.next=c,b?b[f]=g:a._root=g,a;do b=b?b[f]=new Array(4):a._root=new Array(4),(n=j>=(d=(i+l)/2))?i=d:l=d,(k=m>=(e=(h+o)/2))?h=e:o=e;while((f=k<<1|n)==(r=(p>=e)<<1|q>=d))return b[r]=c,b[f]=g,a}function I(a,b,c,d,e){this.node=a,this.x0=b,this.y0=c,this.x1=d,this.y1=e}function r$(a){return a[0]}function r_(a){return a[1]}function fW(a,b,c){var d=new ge(null==b?r$:b,null==c?r_:c,NaN,NaN,NaN,NaN);return null==a?d:d.addAll(a)}function ge(a,b,c,d,e,f){this._x=a,this._y=b,this._x0=c,this._y0=d,this._x1=e,this._y1=f,this._root=void 0}function lk(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}C=fW.prototype=ge.prototype;function rZ(a){return a.x+a.vx}function rY(a){return a.y+a.vy}function rX(a){return a.index}function lg(c,a){var b=c.get(a);if(!b)throw new Error("missing: "+a);return b}function rW(a){return a.x}function rV(a){return a.y}C.copy=function(){var e,d,b=new ge(this._x,this._y,this._x0,this._y0,this._x1,this._y1),a=this._root,c;if(!a)return b;if(!a.length)return b._root=lk(a),b;for(e=[{source:a,target:b._root=new Array(4)}];a=e.pop();)for(c=0;c<4;++c)(d=a.source[c])&&(d.length?e.push({source:d,target:a.target[c]=new Array(4)}):a.target[c]=lk(d));return b},C.add=function(a){var b=+this._x.call(null,a),c=+this._y.call(null,a);return ln(this.cover(b,c),b,c,a)},C.addAll=function(i){var j,a,b,c,h=i.length,k=new Array(h),l=new Array(h),e=1/0,f=1/0,g=-1/0,d=-1/0;for(a=0;a<h;++a)isNaN(b=+this._x.call(null,j=i[a]))||isNaN(c=+this._y.call(null,j))||(k[a]=b,l[a]=c,b<e&&(e=b),b>g&&(g=b),c<f&&(f=c),c>d&&(d=c));for(g<e&&(e=this._x0,g=this._x1),d<f&&(f=this._y0,d=this._y1),this.cover(e,f).cover(g,d),a=0;a<h;++a)ln(this,k[a],l[a],i[a]);return this},C.cover=function(d,e){var a,b,f,c,h,j,i,g;if(isNaN(d=+d)||isNaN(e=+e))return this;if(a=this._x0,b=this._y0,f=this._x1,c=this._y1,isNaN(a))f=(a=Math.floor(d))+1,c=(b=Math.floor(e))+1;else{if(!(a>d||d>f||b>e||e>c))return this;switch(i=f-a,g=this._root,j=(e<(b+c)/2)<<1|d<(a+f)/2){case 0:do(h=new Array(4))[j]=g,g=h;while(c=b+(i*=2),d>(f=a+i)||e>c)break;case 1:do(h=new Array(4))[j]=g,g=h;while(c=b+(i*=2),(a=f-i)>d||e>c)break;case 2:do(h=new Array(4))[j]=g,g=h;while(b=c-(i*=2),d>(f=a+i)||b>e)break;case 3:do(h=new Array(4))[j]=g,g=h;while(b=c-(i*=2),(a=f-i)>d||b>e)}this._root&&this._root.length&&(this._root=g)}return this._x0=a,this._y0=b,this._x1=f,this._y1=c,this},C.data=function(){var a=[];return this.visit(function(b){if(!b.length)do a.push(b.data);while(b=b.next)}),a},C.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},C.find=function(e,f,c){var s,i,l,j,o,d,r,k=this._x0,p=this._y0,m=this._x1,n=this._y1,b=[],a=this._root,h,g,t,u,v,q;for(a&&b.push(new I(a,k,p,m,n)),null==c?c=1/0:(k=e-c,p=f-c,m=e+c,n=f+c,c*=c);d=b.pop();)!(a=d.node)||(i=d.x0)>m||(l=d.y0)>n||(j=d.x1)<k||(o=d.y1)<p||(a.length?(h=(i+j)/2,g=(l+o)/2,b.push(new I(a[3],h,g,j,o),new I(a[2],i,g,h,o),new I(a[1],h,l,j,g),new I(a[0],i,l,h,g)),(r=(f>=g)<<1|e>=h)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-r],b[b.length-1-r]=d)):(t=e-+this._x.call(null,a.data),u=f-+this._y.call(null,a.data),v=t*t+u*u,v<c&&(q=Math.sqrt(c=v),k=e-q,p=f-q,m=e+q,n=f+q,s=a.data)));return s},C.remove=function(g){if(isNaN(n=+this._x.call(null,g))||isNaN(l=+this._y.call(null,g)))return this;var b,f,e,d,n,l,h,i,j,k,c,m,a=this._root,o=this._x0,p=this._y0,q=this._x1,r=this._y1;if(!a)return this;if(a.length)for(;;){if((j=n>=(h=(o+q)/2))?o=h:q=h,(k=l>=(i=(p+r)/2))?p=i:r=i,b=a,!(a=a[c=k<<1|j]))return this;if(!a.length)break;(b[c+1&3]||b[c+2&3]||b[c+3&3])&&(f=b,m=c)}for(;a.data!==g;)if(e=a,!(a=a.next))return this;return(d=a.next)&&delete a.next,e?(d?e.next=d:delete e.next,this):b?(d?b[c]=d:delete b[c],(a=b[0]||b[1]||b[2]||b[3])&&a===(b[3]||b[2]||b[1]||b[0])&&!a.length&&(f?f[m]=a:this._root=a),this):(this._root=d,this)},C.removeAll=function(b){for(var a=0,c=b.length;a<c;++a)this.remove(b[a]);return this},C.root=function(){return this._root},C.size=function(){var a=0;return this.visit(function(b){if(!b.length)do++a;while(b=b.next)}),a},C.visit=function(k){var c,a,f,g,h,e,d=[],b=this._root,i,j;for(b&&d.push(new I(b,this._x0,this._y0,this._x1,this._y1));c=d.pop();)!k(b=c.node,f=c.x0,g=c.y0,h=c.x1,e=c.y1)&&b.length&&(i=(f+h)/2,j=(g+e)/2,(a=b[3])&&d.push(new I(a,i,j,h,e)),(a=b[2])&&d.push(new I(a,f,j,i,e)),(a=b[1])&&d.push(new I(a,i,g,h,j)),(a=b[0])&&d.push(new I(a,f,g,i,j)));return this},C.visitAfter=function(l){var a,c=[],k=[],d,b,g,i,j,h,e,f;for(this._root&&c.push(new I(this._root,this._x0,this._y0,this._x1,this._y1));a=c.pop();)d=a.node,d.length&&(g=a.x0,i=a.y0,j=a.x1,h=a.y1,e=(g+j)/2,f=(i+h)/2,(b=d[0])&&c.push(new I(b,g,i,e,f)),(b=d[1])&&c.push(new I(b,e,i,j,f)),(b=d[2])&&c.push(new I(b,g,f,e,h)),(b=d[3])&&c.push(new I(b,e,f,j,h))),k.push(a);for(;a=k.pop();)l(a.node,a.x0,a.y0,a.x1,a.y1);return this},C.x=function(a){return arguments.length?(this._x=a,this):this._x},C.y=function(a){return arguments.length?(this._y=a,this):this._y},le=10,ld=Math.PI*(3-Math.sqrt(5));function fO(a,d){if((c=(a=d?a.toExponential(d-1):a.toExponential()).indexOf("e"))<0)return null;var c,b=a.slice(0,c);return[b.length>1?b[0]+b.slice(2):b,+a.slice(c+1)]}function bL(a){return(a=fO(Math.abs(a)))?a[1]:NaN}lc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ct(a){return new gu(a)}function gu(b){if(!(a=lc.exec(b)))throw new Error("invalid format: "+b);var a;this.fill=a[1]||" ",this.align=a[2]||">",this.sign=a[3]||"-",this.symbol=a[4]||"",this.zero=!!a[5],this.width=a[6]&&+a[6],this.comma=!!a[7],this.precision=a[8]&&+a[8].slice(1),this.trim=!!a[9],this.type=a[10]||""}function lb(d,e){var c=fO(d,e),a,b;return c?(a=c[0],b=c[1],b<0?"0."+new Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+new Array(b-a.length+2).join("0")):d+""}ct.prototype=gu.prototype,gu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type},gw={"%":function(a,b){return(100*a).toFixed(b)},b:function(a){return Math.round(a).toString(2)},c:function(a){return a+""},d:function(a){return Math.round(a).toString(10)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},g:function(a,b){return a.toPrecision(b)},o:function(a){return Math.round(a).toString(8)},p:function(a,b){return lb(100*a,b)},r:lb,s:function(c,f){var d=fO(c,f),b,g,a,e;return d?(b=d[0],g=d[1],a=g-(gr=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,e=b.length,a===e?b:a>e?b+new Array(a-e+1).join("0"):a>0?b.slice(0,a)+"."+b.slice(a):"0."+new Array(1-a).join("0")+fO(c,Math.max(0,f+a-1))[0]):c+""},X:function(a){return Math.round(a).toString(16).toUpperCase()},x:function(a){return Math.round(a).toString(16)}};function la(a){return a}gz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k$(a){var b,c,d=a.grouping&&a.thousands?(b=a.grouping,c=a.thousands,function(i,e){for(var f=i.length,g=[],h=0,a=b[0],d=0;f>0&&a>0&&(d+a+1>e&&(a=Math.max(1,e-d)),g.push(i.substring(f-=a,f+a)),!((d+=a+1)>e));)a=b[h=(h+1)%b.length];return g.reverse().join(c)}):la,e=a.currency,g=a.decimal,h=a.numerals?function(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}}(a.numerals):la,i=a.percent||"%";function f(a){var o=(a=ct(a)).fill,n=a.align,f=a.sign,k=a.symbol,j=a.zero,l=a.width,m=a.comma,c=a.precision,p=a.trim,b=a.type,t,s,q,u;"n"===b?(m=!0,b="g"):gw[b]||(null==c&&(c=12),p=!0,b="g"),(j||"0"===o&&"="===n)&&(j=!0,o="0",n="="),t="$"===k?e[0]:"#"===k&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",s="$"===k?e[1]:/[%p]/.test(b)?i:"",q=gw[b],u=/[defgprs%]/.test(b);function r(a){var r,y,x,k=t,e=s,v,w,i;if("c"===b)e=q(a)+e,a="";else if(v=(a=+a)<0,a=q(Math.abs(a),c),p&&(a=function(c){t:for(var d,e=c.length,a=1,b=-1;a<e;++a)switch(c[a]){case".":b=d=a;break;case"0":0===b&&(b=a),d=a;break;default:if(b>0){if(!+c[a])break t;b=0}}return b>0?c.slice(0,b)+c.slice(d+1):c}(a)),v&&0==+a&&(v=!1),k=(v?"("===f?f:"-":"-"===f||"("===f?"":f)+k,e=("s"===b?gz[8+gr/3]:"")+e+(v&&"("===f?")":""),u)for(r=-1,y=a.length;++r<y;)if(48>(x=a.charCodeAt(r))||x>57){e=(46===x?g+a.slice(r+1):a.slice(r))+e,a=a.slice(0,r);break}switch(m&&!j&&(a=d(a,1/0)),w=k.length+a.length+e.length,i=w<l?new Array(l-w+1).join(o):"",m&&j&&(a=d(i+a,i.length?l-e.length:1/0),i=""),n){case"<":a=k+a+e+i;break;case"=":a=k+i+a+e;break;case"^":a=i.slice(0,w=i.length>>1)+k+a+e+i.slice(w);break;default:a=i+k+a+e}return h(a)}return c=null==c?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,c)):Math.max(0,Math.min(20,c)),r.toString=function(){return a+""},r}return{format:f,formatPrefix:function(a,c){var d=f(((a=ct(a)).type="f",a)),b=3*Math.max(-8,Math.min(8,Math.floor(bL(c)/3))),e=Math.pow(10,-b),g=gz[8+b/3];return function(a){return d(e*a)+g}}}}function k_(b){return cv=k$(b),a.format=cv.format,a.formatPrefix=cv.formatPrefix,cv}function kZ(a){return Math.max(0,-bL(Math.abs(a)))}function kY(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bL(b)/3)))-bL(Math.abs(a)))}function kX(a,b){return a=Math.abs(a),b=Math.abs(b)-a,Math.max(0,bL(b)-bL(a))+1}function aB(){return new fK}function fK(){this.reset()}k_({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),fK.prototype={constructor:fK,reset:function(){this.s=this.t=0},add:function(a){pT(cx,a,this.t),pT(this,cx.s,this.s),this.s?this.t+=cx.t:this.s=cx.t},valueOf:function(){return this.s}},cx=new fK;function pT(b,a,c){var d=b.s=a+c,e=d-a,f=d-e;b.t=a-f+(c-e)}d=1e-6,fI=1e-12,h=Math.PI,p=h/2,cy=h/4,H=2*h,l=180/h,e=h/180,i=Math.abs,bb=Math.atan,E=Math.atan2,c=Math.cos,cF=Math.ceil,gW=Math.exp,cG=Math.log,fF=Math.pow,b=Math.sin,bk=Math.sign||function(a){return a>0?1:a<0?-1:0},r=Math.sqrt,fE=Math.tan;function kW(a){return a>1?0:a<-1?h:Math.acos(a)}function G(a){return a>1?p:a<-1?-p:Math.asin(a)}function kV(a){return(a=b(a/2))*a}function o(){}function fs(a,b){a&&hh.hasOwnProperty(a.type)&&hh[a.type](a,b)}hg={Feature:function(a,b){fs(a.geometry,b)},FeatureCollection:function(c,d){for(var a=c.features,b=-1,e=a.length;++b<e;)fs(a[b].geometry,d)}},hh={Sphere:function(b,a){a.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,d){for(var b=a.coordinates,c=-1,e=b.length;++c<e;)a=b[c],d.point(a[0],a[1],a[2])},LineString:function(a,b){hi(a.coordinates,b,0)},MultiLineString:function(c,d){for(var a=c.coordinates,b=-1,e=a.length;++b<e;)hi(a[b],d,0)},Polygon:function(a,b){kT(a.coordinates,b)},MultiPolygon:function(c,d){for(var a=c.coordinates,b=-1,e=a.length;++b<e;)kT(a[b],d)},GeometryCollection:function(c,d){for(var a=c.geometries,b=-1,e=a.length;++b<e;)fs(a[b],d)}};function hi(c,b,e){var a,d=-1,f=c.length-e;for(b.lineStart();++d<f;)a=c[d],b.point(a[0],a[1],a[2]);b.lineEnd()}function kT(b,a){var c=-1,d=b.length;for(a.polygonStart();++c<d;)hi(b[c],a,1);a.polygonEnd()}function X(a,b){a&&hg.hasOwnProperty(a.type)?hg[a.type](a,b):fs(a,b)}cM=aB(),cN=aB(),Y={point:o,lineStart:o,lineEnd:o,polygonStart:function(){cM.reset(),Y.lineStart=rU,Y.lineEnd=rT},polygonEnd:function(){var a=+cM;cN.add(a<0?H+a:a),this.lineStart=this.lineEnd=this.point=o},sphere:function(){cN.add(H)}};function rU(){Y.point=rS}function rT(){pS(hl,hm)}function rS(d,a){Y.point=pS,hl=d,hm=a,fn=d*=e,fm=c(a=(a*=e)/2+cy),fl=b(a)}function pS(d,a){var f=(d*=e)-fn,g=f>=0?1:-1,h=g*f,i=c(a=(a*=e)/2+cy),j=b(a),k=fl*j,l=fm*i+k*c(h),m=k*g*b(h);cM.add(E(m,l)),fn=d,fm=i,fl=j}function fV(a){return[E(a[1],a[0]),G(a[2])]}function aN(a){var d=a[0],e=a[1],f=c(e);return[f*c(d),f*b(d),b(e)]}function fe(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function bS(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function hB(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function fa(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function e_(a){var b=r(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}bM=aB(),aa={point:ie,lineStart:kN,lineEnd:kM,polygonStart:function(){aa.point=kJ,aa.lineStart=rR,aa.lineEnd=rQ,bM.reset(),Y.polygonStart()},polygonEnd:function(){Y.polygonEnd(),aa.point=ie,aa.lineStart=kN,aa.lineEnd=kM,cM<0?(n=-(q=180),L=-(O=90)):bM>d?O=90:bM<-d&&(L=-90),al[0]=n,al[1]=q}};function ie(b,a){aq.push(al=[n=b,q=b]),a<L&&(L=a),a>O&&(O=a)}function kO(a,b){var m=aN([a*e,b*e]),h,c,g,k,f,d,j;aO?(h=bS(aO,m),c=bS([h[1],-h[0],0],h),e_(c),c=fV(c),k=a-aD,f=k>0?1:-1,d=c[0]*l*f,j=i(k)>180,j^(f*aD<d&&d<f*a)?(g=c[1]*l)>O&&(O=g):j^(f*aD<(d=(d+360)%360-180)&&d<f*a)?(g=-c[1]*l)<L&&(L=g):(b<L&&(L=b),b>O&&(O=b)),j?a<aD?P(n,a)>P(n,q)&&(q=a):P(a,q)>P(n,q)&&(n=a):q>=n?(a<n&&(n=a),a>q&&(q=a)):a>aD?P(n,a)>P(n,q)&&(q=a):P(a,q)>P(n,q)&&(n=a)):aq.push(al=[n=a,q=a]),b<L&&(L=b),b>O&&(O=b),aO=m,aD=a}function kN(){aa.point=kO}function kM(){al[0]=n,al[1]=q,aa.point=ie,aO=null}function kJ(a,c){if(aO){var b=a-aD;bM.add(i(b)>180?b+(b>0?360:-360):b)}else hJ=a,hK=c;Y.point(a,c),kO(a,c)}function rR(){Y.lineStart()}function rQ(){kJ(hJ,hK),Y.lineEnd(),i(bM)>d&&(n=-(q=180)),al[0]=n,al[1]=q,aO=null}function P(b,a){return(a-=b)<0?a+360:a}function rP(a,b){return a[0]-b[0]}function kF(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}S={sphere:o,point:ir,lineStart:kA,lineEnd:kz,polygonStart:function(){S.lineStart=rM,S.lineEnd=rL},polygonEnd:function(){S.lineStart=kA,S.lineEnd=kz}};function ir(a,d){a*=e;var f=c(d*=e);dd(f*c(a),f*b(a),b(d))}function dd(a,b,c){cT+=(a-cT)/++cR,cW+=(b-cW)/cR,cX+=(c-cX)/cR}function kA(){S.point=rO}function rO(a,d){a*=e;var f=c(d*=e);B=f*c(a),A=f*b(a),D=b(d),S.point=rN,dd(B,A,D)}function rN(h,i){h*=e;var j=c(i*=e),d=j*c(h),f=j*b(h),g=b(i),a=E(r((a=A*g-D*f)*a+(a=D*d-B*g)*a+(a=B*f-A*d)*a),B*d+A*f+D*g);cS+=a,cY+=a*(B+(B=d)),cZ+=a*(A+(A=f)),c_+=a*(D+(D=g)),dd(B,A,D)}function kz(){S.point=ir}function rM(){S.point=rK}function rL(){kw(hZ,h_),S.point=ir}function rK(a,d){hZ=a,h_=d,a*=e,d*=e,S.point=kw;var f=c(d);B=f*c(a),A=f*b(a),D=b(d),dd(B,A,D)}function kw(d,n){d*=e;var o=c(n*=e),h=o*c(d),l=o*b(d),i=b(n),j=A*i-D*l,f=D*h-B*i,g=B*l-A*h,k=r(j*j+f*f+g*g),a=G(k),m=k&&-a/k;eU+=m*j,eT+=m*f,eQ+=m*g,cS+=a,cY+=a*(B+(B=h)),cZ+=a*(A+(A=l)),c_+=a*(D+(D=i)),dd(B,A,D)}function bO(a){return function(){return a}}function iC(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c}function iD(a,b){return[a>h?a-H:a<-h?a+H:a,b]}function iE(c,a,b){return(c%=H)?a||b?iC(ku(c),kt(a,b)):ku(c):a||b?kt(a,b):iD}function kv(a){return function(b,c){return[(b+=a)>h?b-H:b<-h?b+H:b,c]}}function ku(a){var b=kv(a);return b.invert=kv(-a),b}function kt(g,h){var a=c(g),d=b(g),e=c(h),f=b(h);function i(g,h){var i=c(h),j=c(g)*i,k=b(g)*i,l=b(h),m=l*a+j*d;return[E(k*e-m*f,j*a-l*d),G(m*e+k*f)]}return i.invert=function(g,h){var i=c(h),j=c(g)*i,k=b(g)*i,l=b(h),m=l*e-k*f;return[E(k*e+l*f,j*a+m*d),G(m*a-j*d)]},i}function kp(a){function b(b){return(b=a(b[0]*e,b[1]*e))[0]*=l,b[1]*=l,b}return a=iE(a[0]*e,a[1]*e,a.length>2?a[2]*e:0),b.invert=function(b){return(b=a.invert(b[0]*e,b[1]*e))[0]*=l,b[1]*=l,b},b}function ko(m,h,l,f,a,d){var g,k,j,i,e;if(l){g=c(h),k=b(h),j=f*l,null==a?(a=h+f*H,d=h-j/2):(a=kn(g,a),d=kn(g,d),(f>0?a<d:a>d)&&(a+=f*H));for(i,e=a;f>0?e>d:e<d;e-=j)i=fV([g,-k*c(e),-k*b(e)]),m.point(i[0],i[1])}}function kn(c,a){(a=aN(a))[0]-=c,e_(a);var b=kW(-a[1]);return((-a[2]<0?-b:b)+H-d)%H}function km(){var b,a=[];return{point:function(a,c){b.push([a,c])},lineStart:function(){a.push(b=[])},lineEnd:o,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var c=a;return a=[],b=null,c}}}function et(a,b){return i(a[0]-b[0])<d&&i(a[1]-b[1])<d}function ep(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function kl(n,m,k,j,c){var b,h,f=[],e=[],d,g,l,a,i;if(n.forEach(function(a){if(!((h=a.length-1)<=0)){var h,d,g=a[0],i=a[h];if(et(g,i)){for(c.lineStart(),b=0;b<h;++b)c.point((g=a[b])[0],g[1]);c.lineEnd()}else f.push(d=new ep(g,a,null,!0)),e.push(d.o=new ep(g,null,d,!1)),f.push(d=new ep(i,a,null,!1)),e.push(d.o=new ep(i,null,d,!0))}}),f.length){for(e.sort(m),kk(f),kk(e),b=0,h=e.length;b<h;++b)e[b].e=k=!k;for(d,g,l=f[0];;){for(a=l,i=!0;a.v;)if((a=a.n)===l)return;d=a.z,c.lineStart();do{if(a.v=a.o.v=!0,a.e){if(i)for(b=0,h=d.length;b<h;++b)c.point((g=d[b])[0],g[1]);else j(a.x,a.n.x,1,c);a=a.n}else{if(i)for(d=a.p.z,b=d.length-1;b>=0;--b)c.point((g=d[b])[0],g[1]);else j(a.x,a.p.x,-1,c);a=a.p}d=(a=a.o).z,i=!i}while(!a.v)c.lineEnd()}}}function kk(c){if(d=c.length){for(var d,a,e=0,b=c[0];++e<d;)b.n=a=c[e],a.p=b,b=a;b.n=a=c[0],a.p=b}}iD.invert=iD,en=aB();function kj(v,I){var g=I[0],e=I[1],F=b(e),M=[b(g),-c(g),0],m=0,C=0,l,L,o,q,i,s,y,x,w,u,k,t,z,A,B,a,n,r,f,J,j,D,K;en.reset(),1===F?e=p+d:-1===F&&(e=-p-d);for(l=0,L=v.length;l<L;++l)if(q=(o=v[l]).length)for(o,q,i=o[q-1],s=i[0],y=i[1]/2+cy,x=b(y),w=c(y),u=0;u<q;++u,s=t,x=A,w=B,i=k)k=o[u],t=k[0],z=k[1]/2+cy,A=b(z),B=c(z),a=t-s,n=a>=0?1:-1,r=n*a,f=r>h,J=x*A,(en.add(E(J*n*b(r),w*B+J*c(r))),m+=f?a+n*H:a,f^s>=g^t>=g)&&(j=bS(aN(i),aN(k)),e_(j),D=bS(M,j),e_(D),K=(f^a>=0?-1:1)*G(D[2]),(e>K||e===K&&(j[0]||j[1]))&&(C+=f^a>=0?1:-1));return(m<-d||m<d&&en<-d)^1&C}function ki(c,b,a,d){return function(e){var j,i,h,l=b(e),n=km(),k=b(n),g=!1,f={point:m,lineStart:o,lineEnd:p,polygonStart:function(){f.point=q,f.lineStart=s,f.lineEnd=t,i=[],j=[]},polygonEnd:function(){f.point=m,f.lineStart=o,f.lineEnd=p,i=jQ(i);var b=kj(j,d);i.length?(g||(e.polygonStart(),g=!0),kl(i,rI,b,a,e)):b&&(g||(e.polygonStart(),g=!0),e.lineStart(),a(null,null,1,e),e.lineEnd()),g&&(e.polygonEnd(),g=!1),i=j=null},sphere:function(){e.polygonStart(),e.lineStart(),a(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function m(a,b){c(a,b)&&e.point(a,b)}function r(a,b){l.point(a,b)}function o(){f.point=r,l.lineStart()}function p(){f.point=m,l.lineEnd()}function q(a,b){h.push([a,b]),k.point(a,b)}function s(){k.lineStart(),h=[]}function t(){q(h[0][0],h[0][1]),k.lineEnd();var b,c,d,f,l=k.clean(),a=n.result(),m=a.length;if(h.pop(),j.push(h),h=null,m)if(1&l){if((c=(d=a[0]).length-1)>0){for(g||(e.polygonStart(),g=!0),e.lineStart(),b=0;b<c;++b)e.point((f=d[b])[0],f[1]);e.lineEnd()}}else m>1&&2&l&&a.push(a.pop().concat(a.shift())),i.push(a.filter(rJ))}return f}}function rJ(a){return a.length>1}function rI(a,b){return((a=a.x)[0]<0?a[1]-p-d:p-a[1])-((b=b.x)[0]<0?b[1]-p-d:p-b[1])}ei=ki(function(){return!0},function(a){var j,f=NaN,e=NaN,g=NaN;return{lineStart:function(){a.lineStart(),j=1},point:function(k,m){var l=k>0?h:-h,n=i(k-f);i(n-h)<d?(a.point(f,e=(e+m)/2>0?p:-p),a.point(g,e),a.lineEnd(),a.lineStart(),a.point(l,e),a.point(k,e),j=0):g!==l&&n>=h&&(i(f-g)<d&&(f-=g*d),i(k-l)<d&&(k-=l*d),e=function(f,a,g,e){var h,j,k=b(f-g);return i(k)>d?bb((b(a)*(j=c(e))*b(g)-b(e)*(h=c(a))*b(f))/(h*j*k)):(a+e)/2}(f,e,k,m),a.point(g,e),a.lineEnd(),a.lineStart(),a.point(l,e),j=0),a.point(f=k,e=m),g=l},lineEnd:function(){a.lineEnd(),f=e=NaN},clean:function(){return 2-j}}},function(e,c,g,a){var b,f;null==e?(b=g*p,a.point(-h,b),a.point(0,b),a.point(h,b),a.point(h,0),a.point(h,-b),a.point(0,-b),a.point(-h,-b),a.point(-h,0),a.point(-h,b)):i(e[0]-c[0])>d?(f=e[0]<c[0]?h:-h,b=g*f/2,a.point(-f,b),a.point(0,b),a.point(f,b)):a.point(c[0],c[1])},[-h,-p]);function kf(a){var b=c(a),l=6*e,f=b>0,m=i(b)>d;function j(a,d){return c(a)*c(d)>b}function g(o,u,A){var z=[1,0,0],k=bS(aN(o),aN(u)),y=fe(k,k),v=k[0],p=y-v*v,C,D,E,c,l,n,t,B,x,a,m,f,j,e,g,s,q,w;if(!p)return!A&&o;if(C=b*y/p,D=-b*v/p,E=bS(z,k),c=fa(z,C),hB(c,fa(k,D)),l=E,n=fe(c,l),t=fe(l,l),B=n*n-t*(fe(c,c)-1),!(B<0)){if(x=r(B),a=fa(l,(-n-x)/t),hB(a,c),a=fV(a),!A)return a;if(f=o[0],j=u[0],e=o[1],g=u[1],j<f&&(m=f,f=j,j=m),s=j-f,q=i(s-h)<d,!q&&g<e&&(m=e,e=g,g=m),q||s<d?q?e+g>0^a[1]<(i(a[0]-f)<d?e:g):e<=a[1]&&a[1]<=g:s>h^(f<=a[0]&&a[0]<=j))return w=fa(l,(-n+x)/t),hB(w,c),[a,fV(w)]}}function k(d,e){var c=f?a:h-a,b=0;return d<-c?b|=1:d>c&&(b|=2),e<-c?b|=4:e>c&&(b|=8),b}return ki(j,function(a){var b,l,c,i,e;return{lineStart:function(){i=c=!1,e=1},point:function(r,s){var o,n=[r,s],p=j(r,s),t=f?p?0:k(r,s):p?k(r+(r<0?h:-h),s):0,q;!b&&(i=c=p)&&a.lineStart(),p!==c&&(!(o=g(b,n))||et(b,o)||et(n,o))&&(n[0]+=d,n[1]+=d,p=j(n[0],n[1])),p!==c?(e=0,p?(a.lineStart(),o=g(n,b),a.point(o[0],o[1])):(o=g(b,n),a.point(o[0],o[1]),a.lineEnd()),b=o):m&&b&&f^p&&(t&l||!(q=g(n,b,!0))||(e=0,f?(a.lineStart(),a.point(q[0][0],q[0][1]),a.point(q[1][0],q[1][1]),a.lineEnd()):(a.point(q[1][0],q[1][1]),a.lineEnd(),a.lineStart(),a.point(q[0][0],q[0][1])))),!p||b&&et(b,n)||a.point(n[0],n[1]),b=n,c=p,l=t},lineEnd:function(){c&&a.lineEnd(),b=null},clean:function(){return e|(i&&c)<<1}}},function(b,c,d,e){ko(e,a,l,d,b,c)},f?[0,-a]:[-h,a-h])}ci=1e9,dn=-ci;function ea(b,c,e,a){function g(d,f){return b<=d&&d<=e&&c<=f&&f<=a}function h(i,g,h,k){var d=0,l=0;if(null==i||(d=f(i,h))!==(l=f(g,h))||j(i,g)<0^h>0)do k.point(0===d||3===d?b:e,d>1?a:c);while((d=(d+h+4)%4)!==l)else k.point(g[0],g[1])}function f(f,a){return i(f[0]-b)<d?a>0?0:3:i(f[0]-e)<d?a>0?2:1:i(f[1]-c)<d?a>0?1:0:a>0?3:2}function k(a,b){return j(a.x,b.x)}function j(a,b){var c=f(a,1),d=f(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(f){var i,j,r,u,t,v,n,o,l,q,m,d=f,s=km(),p={point:w,lineStart:function(){p.point=x,j&&j.push(r=[]),q=!0,l=!1,n=o=NaN},lineEnd:function(){i&&(x(u,t),v&&l&&s.rejoin(),i.push(s.result())),p.point=w,l&&d.lineEnd()},polygonStart:function(){d=s,i=[],j=[],m=!0},polygonEnd:function(){var c=function(){for(var h=0,i=0,n=j.length,f,c,k,l,m,e,g,d;i<n;++i)for(f,c,k=j[i],l=1,m=k.length,e=k[0],g=e[0],d=e[1];l<m;++l)f=g,c=d,e=k[l],g=e[0],d=e[1],c<=a?d>a&&(g-f)*(a-c)>(d-c)*(b-f)&&++h:d<=a&&(g-f)*(a-c)<(d-c)*(b-f)&&--h;return h}(),e=m&&c,g=(i=jQ(i)).length;(e||g)&&(f.polygonStart(),e&&(f.lineStart(),h(null,null,1,f),f.lineEnd()),g&&kl(i,k,c,h,f),f.polygonEnd()),d=f,i=j=r=null}};function w(a,b){g(a,b)&&d.point(a,b)}function x(f,h){var i=g(f,h),k,p;j&&r.push([f,h]),q?(u=f,t=h,v=i,q=!1,i&&(d.lineStart(),d.point(f,h))):i&&l?d.point(f,h):(k=[n=Math.max(dn,Math.min(ci,n)),o=Math.max(dn,Math.min(ci,o))],p=[f=Math.max(dn,Math.min(ci,f)),h=Math.max(dn,Math.min(ci,h))],function(i,h,k,j,m,l){var a,f=i[0],g=i[1],c=0,b=1,d=h[0]-f,e=h[1]-g;if(a=k-f,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<b&&(b=a)}else if(d>0){if(a>b)return;a>c&&(c=a)}if(a=m-f,d||!(a<0)){if(a/=d,d<0){if(a>b)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<b&&(b=a)}if(a=j-g,e||!(a>0)){if(a/=e,e<0){if(a<c)return;a<b&&(b=a)}else if(e>0){if(a>b)return;a>c&&(c=a)}if(a=l-g,e||!(a<0)){if(a/=e,e<0){if(a>b)return;a>c&&(c=a)}else if(e>0){if(a<c)return;a<b&&(b=a)}return c>0&&(i[0]=f+c*d,i[1]=g+c*e),b<1&&(h[0]=f+b*d,h[1]=g+b*e),!0}}}}}(k,p,b,c,e,a)?(l||(d.lineStart(),d.point(k[0],k[1])),d.point(p[0],p[1]),i||d.lineEnd(),m=!1):i&&(d.lineStart(),d.point(f,h),m=!1)),n=f,o=h,l=i}return p}}dY=aB(),ba={sphere:o,point:o,lineStart:function(){ba.point=rG,ba.lineEnd=rH},lineEnd:o,polygonStart:o,polygonEnd:o};function rH(){ba.point=ba.lineEnd=o}function rG(d,a){d$=d*=e,dp=b(a*=e),dq=c(a),ba.point=rF}function rF(d,g){d*=e;var f=b(g*=e),a=c(g),h=i(d-d$),j=c(h),k=a*b(h),l=dq*f-dp*a*j,m=dp*f+dq*a*j;dY.add(E(r(k*k+l*l),m)),d$=d,dp=f,dq=a}function ke(a){return dY.reset(),X(a,ba),+dY}dR=[null,null],kd={type:"LineString",coordinates:dR};function dt(a,b){return dR[0]=a,dR[1]=b,ke(kd)}gI={Feature:function(a,b){return dQ(a.geometry,b)},FeatureCollection:function(c,d){for(var a=c.features,b=-1,e=a.length;++b<e;)if(dQ(a[b].geometry,d))return!0;return!1}},jl={Sphere:function(){return!0},Point:function(a,b){return ka(a.coordinates,b)},MultiPoint:function(c,d){for(var a=c.coordinates,b=-1,e=a.length;++b<e;)if(ka(a[b],d))return!0;return!1},LineString:function(a,b){return j_(a.coordinates,b)},MultiLineString:function(c,d){for(var a=c.coordinates,b=-1,e=a.length;++b<e;)if(j_(a[b],d))return!0;return!1},Polygon:function(a,b){return jZ(a.coordinates,b)},MultiPolygon:function(c,d){for(var a=c.coordinates,b=-1,e=a.length;++b<e;)if(jZ(a[b],d))return!0;return!1},GeometryCollection:function(c,d){for(var a=c.geometries,b=-1,e=a.length;++b<e;)if(dQ(a[b],d))return!0;return!1}};function dQ(a,b){return!(!a||!jl.hasOwnProperty(a.type))&&jl[a.type](a,b)}function ka(a,b){return 0===dt(a,b)}function j_(a,b){var c=dt(a[0],a[1]);return dt(a[0],b)+dt(b,a[1])<=c+d}function jZ(a,b){return!!kj(a.map(rE),jY(b))}function rE(a){return(a=a.map(jY)).pop(),a}function jY(a){return[a[0]*e,a[1]*e]}function jX(b,a,c){var e=R(b,a-d,c).concat(a);return function(a){return e.map(function(b){return[a,b]})}}function jW(b,a,c){var e=R(b,a-d,c).concat(a);return function(a){return e.map(function(b){return[b,a]})}}function jV(){var j,k,f,e,g,h,b,c,t,s,r,q,n=10,p=n,m=90,o=360,l=2.5;function a(){return{type:"MultiLineString",coordinates:u()}}function u(){return R(cF(e/m)*m,f,m).map(r).concat(R(cF(c/o)*o,b,o).map(q)).concat(R(cF(k/n)*n,j,n).filter(function(a){return i(a%m)>d}).map(t)).concat(R(cF(h/p)*p,g,p).filter(function(a){return i(a%o)>d}).map(s))}return a.lines=function(){return u().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[r(e).concat(q(b).slice(1),r(f).reverse().slice(1),q(c).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.extentMajor(b).extentMinor(b):a.extentMinor()},a.extentMajor=function(d){return arguments.length?(e=+d[0][0],f=+d[1][0],c=+d[0][1],b=+d[1][1],e>f&&(d=e,e=f,f=d),c>b&&(d=c,c=b,b=d),a.precision(l)):[[e,c],[f,b]]},a.extentMinor=function(b){return arguments.length?(k=+b[0][0],j=+b[1][0],h=+b[0][1],g=+b[1][1],k>j&&(b=k,k=j,j=b),h>g&&(b=h,h=g,g=b),a.precision(l)):[[k,h],[j,g]]},a.step=function(b){return arguments.length?a.stepMajor(b).stepMinor(b):a.stepMinor()},a.stepMajor=function(b){return arguments.length?(m=+b[0],o=+b[1],a):[m,o]},a.stepMinor=function(b){return arguments.length?(n=+b[0],p=+b[1],a):[n,p]},a.precision=function(d){return arguments.length?(l=+d,t=jX(h,g,90),s=jW(k,j,l),r=jX(c,b,90),q=jW(e,f,l),a):l},a.extentMajor([[-180,-90+d],[180,90-d]]).extentMinor([[-180,-80-d],[180,80+d]])}function aP(a){return a}dG=aB(),dF=aB(),ac={point:o,lineStart:o,lineEnd:o,polygonStart:function(){ac.lineStart=rD,ac.lineEnd=rB},polygonEnd:function(){ac.lineStart=ac.lineEnd=ac.point=o,dG.add(i(dF)),dF.reset()},result:function(){var a=dG/2;return dG.reset(),a}};function rD(){ac.point=rC}function rC(a,b){ac.point=jS,jw=dI=a,jx=dH=b}function jS(a,b){dF.add(dH*a-dI*b),dI=a,dH=b}function rB(){jS(jw,jx)}aK=1/0,dy=aK,cg=-aK,dz=cg,dA={point:function(a,b){a<aK&&(aK=a),a>cg&&(cg=a),b<dy&&(dy=b),b>dz&&(dz=b)},lineStart:o,lineEnd:o,polygonStart:o,polygonEnd:o,result:function(){var a=[[aK,dy],[cg,dz]];return cg=dz=-(dy=aK=1/0),a}},dZ=0,fN=0,cc=0,dx=0,dv=0,aQ=0,dL=0,dM=0,ca=0,N={point:aU,lineStart:j$,lineEnd:kc,polygonStart:function(){N.lineStart=ry,N.lineEnd=rx},polygonEnd:function(){N.point=aU,N.lineStart=j$,N.lineEnd=kc},result:function(){var a=ca?[dL/ca,dM/ca]:aQ?[dx/aQ,dv/aQ]:cc?[dZ/cc,fN/cc]:[NaN,NaN];return dZ=fN=cc=dx=dv=aQ=dL=dM=ca=0,a}};function aU(a,b){dZ+=a,fN+=b,++cc}function j$(){N.point=rA}function rA(a,b){N.point=rz,aU(W=a,T=b)}function rz(a,b){var d=a-W,e=b-T,c=r(d*d+e*e);dx+=c*(W+a)/2,dv+=c*(T+b)/2,aQ+=c,aU(W=a,T=b)}function kc(){N.point=aU}function ry(){N.point=rw}function rx(){kg(jM,jN)}function rw(a,b){N.point=kg,aU(jM=W=a,jN=T=b)}function kg(b,c){var d=b-W,e=c-T,a=r(d*d+e*e);dx+=a*(W+b)/2,dv+=a*(T+c)/2,aQ+=a,dL+=(a=T*b-W*c)*(W+b),dM+=a*(T+c),ca+=3*a,aU(W=b,T=c)}function kh(a){this._context=a}kh.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._context.moveTo(a,b),this._point=1;break;case 1:this._context.lineTo(a,b);break;default:this._context.moveTo(a+this._radius,b),this._context.arc(a,b,this._radius,0,H)}},result:o},eu=aB(),bT={point:o,lineStart:function(){bT.point=rs},lineEnd:function(){em&&kq(iR,iP),bT.point=o},polygonStart:function(){em=!0},polygonEnd:function(){em=null},result:function(){var a=+eu;return eu.reset(),a}};function rs(a,b){bT.point=kq,iR=bW=a,iP=bU=b}function kq(a,b){bW-=a,bU-=b,eu.add(r(bW*bW+bU*bU)),bW=a,bU=b}function kr(){this._string=[]}function ks(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function de(a){return function(d){var b=new iG,c;for(c in a)b[c]=a[c];return b.stream=d,b}}function iG(){}function iF(a,c,d){var b=a.clipExtent&&a.clipExtent();return a.scale(150).translate([0,0]),null!=b&&a.clipExtent(null),X(d,a.stream(dA)),c(dA.result()),null!=b&&a.clipExtent(b),a}function ez(b,a,c){return iF(b,function(c){var e=a[1][0]-a[0][0],f=a[1][1]-a[0][1],d=Math.min(e/(c[1][0]-c[0][0]),f/(c[1][1]-c[0][1])),g=+a[0][0]+(e-d*(c[1][0]+c[0][0]))/2,h=+a[0][1]+(f-d*(c[1][1]+c[0][1]))/2;b.scale(150*d).translate([g,h])},c)}function iz(a,b,c){return ez(a,[[0,0],b],c)}function ix(a,b,c){return iF(a,function(c){var e=+b,d=e/(c[1][0]-c[0][0]),f=(e-d*(c[1][0]+c[0][0]))/2,g=-d*c[0][1];a.scale(150*d).translate([f,g])},c)}function iw(a,b,c){return iF(a,function(c){var e=+b,d=e/(c[1][1]-c[0][1]),f=-d*c[0][0],g=(e-d*(c[1][1]+c[0][1]))/2;a.scale(150*d).translate([f,g])},c)}kr.prototype={_radius:4.5,_circle:ks(4.5),pointRadius:function(a){return(a=+a)!==this._radius&&(this._radius=a,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._string.push("M",a,",",b),this._point=1;break;case 1:this._string.push("L",a,",",b);break;default:null==this._circle&&(this._circle=ks(this._radius)),this._string.push("M",a,",",b,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");return this._string=[],a}return null}},iG.prototype={constructor:iG,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},it=16,kB=c(30*e);function kC(a,b){return+b?function(b,c){function a(B,z,y,x,v,u,H,F,n,o,p,q,s,t){var k=H-B,j=F-z,w=k*k+j*j,g,f,e,A,K,m,D,h,l,I,J,C;w>4*c&&s--&&(g=x+o,f=v+p,e=u+q,A=r(g*g+f*f+e*e),K=G(e/=A),m=i(i(e)-1)<d||i(y-n)<d?(y+n)/2:E(f,g),D=b(m,K),h=D[0],l=D[1],I=h-B,J=l-z,C=j*I-k*J,(C*C/w>c||i((k*I+j*J)/w-.5)>.3||x*o+v*p+u*q<kB)&&(a(B,z,y,x,v,u,h,l,m,g/=A,f/=A,e,s,t),t.point(h,l),a(h,l,m,g,f,e,H,F,n,o,p,q,s,t)))}return function(d){var p,o,q,r,s,t,j,e,f,i,h,g,c={point:n,lineStart:m,lineEnd:k,polygonStart:function(){d.polygonStart(),c.lineStart=u},polygonEnd:function(){d.polygonEnd(),c.lineStart=m}};function n(a,c){a=b(a,c),d.point(a[0],a[1])}function m(){e=NaN,c.point=l,d.lineStart()}function l(c,l){var k=aN([c,l]),m=b(c,l);a(e,f,j,i,h,g,e=m[0],f=m[1],j=c,i=k[0],h=k[1],g=k[2],it,d),d.point(e,f)}function k(){c.point=n,d.lineEnd()}function u(){m(),c.point=v,c.lineEnd=w}function v(a,b){l(p=a,b),o=e,q=f,r=i,s=h,t=g,c.point=l}function w(){a(e,f,j,i,h,g,o,q,p,r,s,t,it,d),c.lineEnd=k,k()}return c}}(a,b):function(a){return de({point:function(b,c){b=a(b,c),this.stream.point(b[0],b[1])}})}(a)}kD=de({point:function(a,b){this.stream.point(a*e,b*e)}});function kE(a,f,g,i){var e=c(i),d=b(i),h=e*a,j=d*a,k=e/a,l=d/a,n=(d*g-e*f)/a,o=(d*f+e*g)/a;function m(a,b){return[h*a-j*b+f,g-j*a-h*b]}return m.invert=function(a,b){return[k*a-l*b+n,o-l*a-k*b]},m}function ak(a){return il(function(){return a})()}function il(F){var m,D,i,h,g,C,q,A,k,z,n=150,y=480,x=250,s=0,w=0,t=0,u=0,v=0,f=0,p=null,o=ei,d=null,j=aP,B=.5;function a(a){return A(a[0]*e,a[1]*e)}function E(a){return(a=A.invert(a[0],a[1]))&&[a[0]*l,a[1]*l]}function b(){var a=kE(n,0,0,f).apply(null,m(s,w)),b=(f?kE:function(a,b,c){function d(d,e){return[b+a*d,c-a*e]}return d.invert=function(d,e){return[(d-b)/a,(c-e)/a]},d})(n,y-a[0],x-a[1],f);return D=iE(t,u,v),q=iC(m,b),A=iC(D,q),C=kC(q,B),c()}function c(){return k=z=null,a}return a.stream=function(a){return k&&z===a?k:k=kD(function(a){return de({point:function(c,d){var b=a(c,d);return this.stream.point(b[0],b[1])}})}(D)(o(C(j(z=a)))))},a.preclip=function(a){return arguments.length?(o=a,p=void 0,c()):o},a.postclip=function(a){return arguments.length?(j=a,d=i=h=g=null,c()):j},a.clipAngle=function(a){return arguments.length?(o=+a?kf(p=a*e):(p=null,ei),c()):p*l},a.clipExtent=function(a){return arguments.length?(j=null==a?(d=i=h=g=null,aP):ea(d=+a[0][0],i=+a[0][1],h=+a[1][0],g=+a[1][1]),c()):null==d?null:[[d,i],[h,g]]},a.scale=function(a){return arguments.length?(n=+a,b()):n},a.translate=function(a){return arguments.length?(y=+a[0],x=+a[1],b()):[y,x]},a.center=function(a){return arguments.length?(s=a[0]%360*e,w=a[1]%360*e,b()):[s*l,w*l]},a.rotate=function(a){return arguments.length?(t=a[0]%360*e,u=a[1]%360*e,v=a.length>2?a[2]%360*e:0,b()):[t*l,u*l,v*l]},a.angle=function(a){return arguments.length?(f=a%360*e,b()):f*l},a.precision=function(a){return arguments.length?(C=kC(q,B=a*a),c()):r(B)},a.fitExtent=function(b,c){return ez(a,b,c)},a.fitSize=function(b,c){return iz(a,b,c)},a.fitWidth=function(b,c){return ix(a,b,c)},a.fitHeight=function(b,c){return iw(a,b,c)},function(){return m=F.apply(this,arguments),a.invert=m.invert&&E,b()}}function ik(f){var a=0,b=h/3,c=il(f),d=c(a,b);return d.parallels=function(d){return arguments.length?c(a=d[0]*e,b=d[1]*e):[a*l,b*l]},d}function kI(g,k){var e=b(g),a=(e+b(k))/2,f,h;if(i(a)<d)return function(e){var a=c(e);function d(c,d){return[c*a,b(d)/a]}return d.invert=function(b,c){return[b/a,G(c*a)]},d}(g);f=1+e*(2*a-e),h=r(f)/a;function j(d,g){var e=r(f-2*a*b(g))/a;return[e*b(d*=a),h-e*c(d)]}return j.invert=function(c,d){var b=h-d;return[E(c,i(b))/a*bk(b),G((f-(c*c+b*b)*a*a)/(2*a))]},j}function eK(){return ik(kI).scale(155.424).center([0,33.6442])}function kK(){return eK().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function kL(a){return function(d,e){var h=c(d),f=c(e),g=a(h*f);return[g*f*b(d),g*b(e)]}}function da(a){return function(e,f){var d=r(e*e+f*f),g=a(d),h=b(g),i=c(g);return[E(e*h,d*i),G(d&&f*h/d)]}}eL=kL(function(a){return r(2/(1+a))}),eL.invert=da(function(a){return 2*G(a/2)}),eN=kL(function(a){return(a=kW(a))&&a/b(a)});function cP(a,b){return[a,cG(fE((p+b)/2))]}function kQ(j){var c,d,e,a=ak(j),i=a.center,g=a.scale,k=a.translate,l=a.clipExtent,b=null;function f(){var f=h*g(),i=a(kp(a.rotate()).invert([0,0]));return l(null==b?[[i[0]-f,i[1]-f],[i[0]+f,i[1]+f]]:j===cP?[[Math.max(i[0]-f,b),c],[Math.min(i[0]+f,d),e]]:[[b,Math.max(i[1]-f,c)],[d,Math.min(i[1]+f,e)]])}return a.scale=function(a){return arguments.length?(g(a),f()):g()},a.translate=function(a){return arguments.length?(k(a),f()):k()},a.center=function(a){return arguments.length?(i(a),f()):i()},a.clipExtent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f()):null==b?null:[[b,c],[d,e]]},f()}function ff(a){return fE((p+a)/2)}function kS(e,g){var h=c(e),a=e===g?b(e):cG(h/c(g))/cG(ff(g)/ff(e)),f=h*fF(ff(e),a)/a;if(!a)return cP;function j(g,e){f>0?e<-p+d&&(e=-p+d):e>p-d&&(e=p-d);var h=f/fF(ff(e),a);return[h*b(a*g),f-h*c(a*g)]}return j.invert=function(c,d){var b=f-d,e=bk(a)*r(c*c+b*b);return[E(c,i(b))/a*bk(b),2*bb(fF(f/e,1/a))-p]},j}function cL(a,b){return[a,b]}function kU(a,g){var h=c(a),e=a===g?b(a):(h-c(g))/(g-a),f=h/e+a;if(i(e)<d)return cL;function j(g,h){var a=f-h,d=e*g;return[a*b(d),f-a*c(d)]}return j.invert=function(b,c){var a=f-c;return[E(b,i(a))/e*bk(a),f-bk(e)*r(b*b+a*a)]},j}eN.invert=da(function(a){return a}),cP.invert=function(a,b){return[a,2*bb(gW(b))-p]},cL.invert=cL,bq=1.340264,bp=-.081106,bE=893e-6,bF=.003796,cw=r(3)/2;function gB(f,g){var d=G(cw*b(g)),a=d*d,e=a*a*a;return[f*c(d)/(cw*(bq+3*bp*a+e*(7*bE+9*bF*a))),d*(bq+bp*a+e*(bE+bF*a))]}function gA(a,d){var e=c(d),f=c(a)*e;return[e*b(a)/f,b(d)/f]}function fL(a,b,c,d){return 1===a&&1===b&&0===c&&0===d?aP:de({point:function(e,f){this.stream.point(e*a+c,f*b+d)}})}function gv(d,c){var a=c*c,b=a*a;return[d*(.8707-.131979*a+b*(b*(.003971*a-.001529*b)-.013791)),c*(1.007226+a*(.015085+b*(.028874*a-.044475-.005916*b)))]}function gs(d,a){return[c(a)*b(d),b(a)]}function go(a,d){var e=c(d),f=1+c(a)*e;return[e*b(a)/f,b(d)/f]}function gn(a,b){return[cG(fE((p+b)/2)),-a]}function rp(a,b){return a.parent===b.parent?1:2}function ro(a,b){return a+b.x}function rn(a,b){return Math.max(a,b.y)}function rm(d){var a=0,b=d.children,c=b&&b.length;if(c)for(;--c>=0;)a+=b[c].value;else a=1;d.value=a}function gi(c,d){var a,e,f,b,g,h=new bQ(c),j=+c.value&&(h.value=c.value),i=[h];for(null==d&&(d=rl);a=i.pop();)if(j&&(a.value=+a.data.value),(f=d(a.data))&&(g=f.length))for(a.children=new Array(g),b=g-1;b>=0;--b)i.push(e=a.children[b]=new bQ(f[b])),e.parent=a,e.depth=a.depth+1;return h.eachBefore(lm)}function rl(a){return a.children}function rk(a){a.data=a.data.data}function lm(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function bQ(a){this.data=a,this.depth=this.height=0,this.parent=null}gB.invert=function(j,g){for(var h,d=g,a=d*d,e=a*a*a,f=0;f<12&&(e=(a=(d-=h=(d*(bq+bp*a+e*(bE+bF*a))-g)/(bq+3*bp*a+e*(7*bE+9*bF*a)))*d)*a*a,!(i(h)<fI));++f);return[cw*j*(bq+3*bp*a+e*(7*bE+9*bF*a))/c(d),G(b(d)/cw)]},gA.invert=da(bb),gv.invert=function(h,e){var f,b=e,g=25,a,c;do a=b*b,c=a*a,b-=f=(b*(1.007226+a*(.015085+c*(.028874*a-.044475-.005916*c)))-e)/(1.007226+a*(.045255+c*(.259866*a-.311325-.005916*11*c)));while(i(f)>d&&--g>0)return[h/(.8707+(a=b*b)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),b]},gs.invert=da(G),go.invert=da(function(a){return 2*bb(a)}),gn.invert=function(a,b){return[-b,2*bb(gW(a))-p]},bQ.prototype=gi.prototype={constructor:bQ,count:function(){return this.eachAfter(rm)},each:function(g){var e,d,b,f,c=this,a=[c];do for(e=a.reverse(),a=[];c=e.pop();)if(g(c),d=c.children)for(b=0,f=d.length;b<f;++b)a.push(d[b]);while(a.length)return this},eachAfter:function(g){for(var c,b,e,a=this,f=[a],d=[];a=f.pop();)if(d.push(a),c=a.children)for(b=0,e=c.length;b<e;++b)f.push(c[b]);for(;a=d.pop();)g(a);return this},eachBefore:function(e){for(var c,a,b=this,d=[b];b=d.pop();)if(e(b),c=b.children)for(a=c.length-1;a>=0;--a)d.push(c[a]);return this},sum:function(a){return this.eachAfter(function(b){for(var d=+a(b.data)||0,c=b.children,e=c&&c.length;--e>=0;)d+=c[e].value;b.value=d})},sort:function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},path:function(b){for(var a=this,d=function(a,b){if(a===b)return a;var c=a.ancestors(),d=b.ancestors(),e=null;for(a=c.pop(),b=d.pop();a===b;)e=a,a=c.pop(),b=d.pop();return e}(a,b),c=[a],e;a!==d;)a=a.parent,c.push(a);for(e=c.length;b!==d;)c.splice(e,0,b),b=b.parent;return c},ancestors:function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},descendants:function(){var a=[];return this.each(function(b){a.push(b)}),a},leaves:function(){var a=[];return this.eachBefore(function(b){b.children||a.push(b)}),a},links:function(){var a=this,b=[];return a.each(function(c){c!==a&&b.push({source:c.parent,target:c})}),b},copy:function(){return gi(this).eachBefore(rk)}},lo=Array.prototype.slice;function lp(c){for(var d,a,b=0,f=(c=function(a){for(var d,c,b=a.length;b;)c=Math.random()*b--|0,d=a[b],a[b]=a[c],a[c]=d;return a}(lo.call(c))).length,e=[];b<f;)d=c[b],a&&ls(a,d)?++b:(a=ri(e=rj(e,d)),b=0);return a}function rj(a,c){var b,d;if(f_(c,a))return[c];for(b=0;b<a.length;++b)if(dD(c,a[b])&&f_(cq(a[b],c),a))return[a[b],c];for(b=0;b<a.length-1;++b)for(d=b+1;d<a.length;++d)if(dD(cq(a[b],a[d]),c)&&dD(cq(a[b],c),a[d])&&dD(cq(a[d],c),a[b])&&f_(lw(a[b],a[d],c),a))return[a[b],a[d],c];throw new Error}function dD(a,b){var c=a.r-b.r,d=b.x-a.x,e=b.y-a.y;return c<0||c*c<d*d+e*e}function ls(a,b){var c=a.r-b.r+1e-6,d=b.x-a.x,e=b.y-a.y;return c>0&&c*c>d*d+e*e}function f_(c,b){for(var a=0;a<b.length;++a)if(!ls(c,b[a]))return!1;return!0}function ri(a){switch(a.length){case 1:return{x:(b=a[0]).x,y:b.y,r:b.r};case 2:return cq(a[0],a[1]);case 3:return lw(a[0],a[1],a[2])}var b}function cq(a,b){var i=a.x,j=a.y,f=a.r,l=b.x,g=b.y,h=b.r,c=l-i,d=g-j,k=h-f,e=Math.sqrt(c*c+d*d);return{x:(i+l+c/e*k)/2,y:(j+g+d/e*k)/2,r:(e+f+h)/2}}function lw(w,u,t){var b=w.x,c=w.y,a=w.r,s=u.x,q=u.y,l=u.r,j=t.x,k=t.y,v=t.r,m=b-s,n=b-j,o=c-q,p=c-k,B=l-a,A=v-a,z=b*b+c*c-a*a,y=z-s*s-q*q+l*l,D=z-j*j-k*k+v*v,i=n*o-m*p,d=(o*D-p*y)/(2*i)-b,e=(p*B-o*A)/i,f=(n*y-m*D)/(2*i)-c,g=(m*A-n*B)/i,r=e*e+g*g-1,h=2*(a+d*e+f*g),C=d*d+f*f-a*a,x=-(r?(h+Math.sqrt(h*h-4*r*C))/(2*r):C/h);return{x:b+d+e*x,y:c+f+g*x,r:x}}function lx(j,c,b){var a,d,g,f,h=j.x-c.x,i=j.y-c.y,e=h*h+i*i;e?(d=c.r+b.r,d*=d,f=j.r+b.r,d>(f*=f)?(a=(e+f-d)/(2*e),g=Math.sqrt(Math.max(0,f/e-a*a)),b.x=j.x-a*h-g*i,b.y=j.y-a*i+g*h):(a=(e+d-f)/(2*e),g=Math.sqrt(Math.max(0,d/e-a*a)),b.x=c.x+a*h-g*i,b.y=c.y+a*i+g*h)):(b.x=c.x+b.r,b.y=c.y)}function ly(a,b){var c=a.r+b.r-1e-6,d=b.x-a.x,e=b.y-a.y;return c>0&&c*c>d*d+e*e}function lz(c){var a=c._,b=c.next._,d=a.r+b.r,e=(a.x*b.r+b.x*a.r)/d,f=(a.y*b.r+b.y*a.r)/d;return e*e+f*f}function fT(a){this._=a,this.next=null,this.previous=null}function lB(g){if(!(h=g.length))return 0;var a,b,c,h,i,l,d,e,f,j,k;if((a=g[0]).x=0,a.y=0,!(h>1))return a.r;if(b=g[1],a.x=-b.r,b.x=a.r,b.y=0,!(h>2))return a.r+b.r;lx(b,a,c=g[2]),a=new fT(a),b=new fT(b),c=new fT(c),a.next=c.previous=b,b.next=a.previous=c,c.next=b.previous=a;t:for(d=3;d<h;++d){lx(a._,b._,c=g[d]),c=new fT(c),e=b.next,f=a.previous,j=b._.r,k=a._.r;do if(j<=k){if(ly(e._,c._)){b=e,a.next=b,b.previous=a,--d;continue t}j+=e._.r,e=e.next}else{if(ly(f._,c._)){(a=f).next=b,b.previous=a,--d;continue t}k+=f._.r,f=f.previous}while(e!==f.next)for(c.previous=a,c.next=b,a.next=b.previous=b=c,i=lz(a);(c=c.next)!==b;)(l=lz(c))<i&&(a=c,i=l);b=a.next}for(a=[b._],c=b;(c=c.next)!==b;)a.push(c._);for(c=lp(a),d=0;d<h;++d)(a=g[d]).x-=c.x,a.y-=c.y;return c.r}function fS(a){if("function"!=typeof a)throw new Error;return a}function bf(){return 0}function bY(a){return function(){return a}}function rf(a){return Math.sqrt(a.value)}function lG(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function jR(a,b){return function(f){if(d=f.children){var d,c,g,h=d.length,e=a(f)*b||0;if(e)for(c=0;c<h;++c)d[c].r+=e;if(g=lB(d),e)for(c=0;c<h;++c)d[c].r-=e;f.r=g+e}}}function lI(a){return function(b){var c=b.parent;b.r*=a,c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}function lJ(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)}function co(b,c,f,g,h){for(var a,d=b.children,e=-1,i=d.length,j=b.value&&(g-c)/b.value;++e<i;)(a=d[e]).y0=f,a.y1=h,a.x0=c,a.x1=c+=a.value*j}gq="$",lM={depth:-1},gt={};function re(a){return a.id}function rd(a){return a.parentId}function rc(a,b){return a.parent===b.parent?1:2}function gN(a){var b=a.children;return b?b[0]:a.t}function gY(b){var a=b.children;return a?a[a.length-1]:b.t}function rb(c,a,b){var d=b/(a.i-c.i);a.c-=d,a.s+=b,c.c+=d,a.z+=b,a.m+=b}function ra(a,b,c){return a.a.parent===b.parent?a.a:c}function fv(a,b){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=b}function fu(b,h,c,f,g){for(var a,e=b.children,d=-1,i=e.length,j=b.value&&(g-c)/b.value;++d<i;)(a=e[d]).x0=h,a.x1=f,a.y0=c,a.y1=c+=a.value*j}fv.prototype=Object.create(bQ.prototype),hd=(1+Math.sqrt(5))/2;function lY(w,u,l,j,q,r){for(var m,e,f,h,a,i,g,t,o,v,c,s=[],k=u.children,n=0,b=0,p=k.length,d=u.value;n<p;){f=q-l,h=r-j;do a=k[b++].value;while(!a&&b<p)for(i=g=a,c=a*a*(v=Math.max(h/f,f/h)/(d*w)),o=Math.max(g/c,c/i);b<p;++b){if(a+=e=k[b].value,e<i&&(i=e),e>g&&(g=e),c=a*a*v,(t=Math.max(g/c,c/i))>o){a-=e;break}o=t}s.push(m={value:a,dice:f<h,children:k.slice(n,b)}),m.dice?co(m,l,j,q,d?j+=h*a/d:r):fu(m,l,j,d?l+=f*a/d:q,r),d-=a,n=b}return s}hk=function b(c){function a(a,b,d,e,f){lY(c,a,b,d,e,f)}return a.ratio=function(a){return b((a=+a)>1?a:1)},a}(hd),l_=function c(a){function b(g,d,e,j,h){if((c=g._squarify)&&c.ratio===a)for(var c,b,i,f,l,m=-1,n=c.length,k=g.value;++m<n;){for(i=(b=c[m]).children,f=b.value=0,l=i.length;f<l;++f)b.value+=i[f].value;b.dice?co(b,d,e,j,e+=(h-e)*b.value/k):fu(b,d,e,d+=(j-d)*b.value/k,h),k-=b.value}else g._squarify=c=lY(a,g,d,e,j,h),c.ratio=a}return b.ratio=function(a){return c((a=+a)>1?a:1)},b}(hd);function q$(a,b){return a[0]-b[0]||a[1]-b[1]}function ma(d){for(var b,f,g,h=d.length,c=[0,1],a=2,e=2;e<h;++e){for(;a>1&&(b=d[c[a-2]],f=d[c[a-1]],g=d[e],(f[0]-b[0])*(g[1]-b[1])-(f[1]-b[1])*(g[0]-b[0])<=0);)--a;c[a++]=e}return c.slice(0,a)}function cf(){return Math.random()}mc=function b(c){function a(a,b){return a=null==a?0:+a,b=null==b?1:+b,1===arguments.length?(b=a,a=0):b-=a,function(){return c()*b+a}}return a.source=b,a}(cf),ho=function c(a){function b(d,e){var b,c;return d=null==d?0:+d,e=null==e?1:+e,function(){var f;if(null!=b)f=b,b=null;else do b=2*a()-1,f=2*a()-1,c=b*b+f*f;while(!c||c>1)return d+e*f*Math.sqrt(-2*Math.log(c)/c)}}return b.source=c,b}(cf),me=function b(c){function a(){var a=ho.source(c).apply(this,arguments);return function(){return Math.exp(a())}}return a.source=b,a}(cf),ht=function b(c){function a(a){return function(){for(var b=0,d=0;d<a;++d)b+=c();return b}}return a.source=b,a}(cf),mg=function b(c){function a(a){var b=ht.source(c)(a);return function(){return b()/a}}return a.source=b,a}(cf),mh=function b(c){function a(a){return function(){return-Math.log(1-c())/a}}return a.source=b,a}(cf),hz=Array.prototype,fd=hz.map,ar=hz.slice,fb={name:"implicit"};function hD(a){var c=am(),d=[],e=fb;function b(f){var g=f+"",b=c.get(g);if(!b){if(e!==fb)return e;c.set(g,b=d.push(f))}return a[(b-1)%a.length]}return a=null==a?[]:ar.call(a),b.domain=function(a){if(!arguments.length)return d.slice();d=[],c=am();for(var e,f,g=-1,h=a.length;++g<h;)c.has(f=(e=a[g])+"")||c.set(f,d.push(e));return b},b.range=function(c){return arguments.length?(a=ar.call(c),b):a.slice()},b.unknown=function(a){return arguments.length?(e=a,b):e},b.copy=function(){return hD().domain(d).range(a).unknown(e)},b}function hF(){var e,i,a=hD().unknown(void 0),h=a.domain,k=a.range,d=[0,1],f=!1,c=0,g=0,j=.5;function b(){var b=h().length,l=d[1]<d[0],a=d[l-0],m=d[1-l],n;return e=(m-a)/Math.max(1,b-c+2*g),f&&(e=Math.floor(e)),a+=(m-a-e*(b-c))*j,i=e*(1-c),f&&(a=Math.round(a),i=Math.round(i)),n=R(b).map(function(b){return a+e*b}),k(l?n.reverse():n)}return delete a.unknown,a.domain=function(a){return arguments.length?(h(a),b()):h()},a.range=function(a){return arguments.length?(d=[+a[0],+a[1]],b()):d.slice()},a.rangeRound=function(a){return d=[+a[0],+a[1]],f=!0,b()},a.bandwidth=function(){return i},a.step=function(){return e},a.round=function(a){return arguments.length?(f=!!a,b()):f},a.padding=function(a){return arguments.length?(c=g=Math.max(0,Math.min(1,a)),b()):c},a.paddingInner=function(a){return arguments.length?(c=Math.max(0,Math.min(1,a)),b()):c},a.paddingOuter=function(a){return arguments.length?(g=Math.max(0,Math.min(1,a)),b()):g},a.align=function(a){return arguments.length?(j=Math.max(0,Math.min(1,a)),b()):j},a.copy=function(){return hF().domain(h()).range(d).round(f).paddingInner(c).paddingOuter(g).align(j)},b()}function hX(a){return function(){return a}}function mp(a){return+a}h$=[0,1];function iu(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:hX(b)}function qV(g,d,e,f){var a=g[0],c=g[1],b=d[0],h=d[1];return c<a?(a=e(c,a),b=f(h,b)):(a=e(a,c),b=f(b,h)),function(c){return b(a(c))}}function qU(a,d,g,h){var c=Math.min(a.length,d.length)-1,e=new Array(c),f=new Array(c),b=-1;for(a[c]<a[0]&&(a=a.slice().reverse(),d=d.slice().reverse());++b<c;)e[b]=g(a[b],a[b+1]),f[b]=h(d[b],d[b+1]);return function(b){var d=aw(a,b,1,c)-1;return f[d](e[d](b))}}function eC(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp())}function eB(j,k){var g,h,i,d=h$,b=h$,e=cu,f=!1;function c(){return g=Math.min(d.length,b.length)>2?qU:qV,h=i=null,a}function a(a){return(h||(h=g(d,b,f?function(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=b?0:a>=c?1:d(a)}}}(j):j,e)))(+a)}return a.invert=function(a){return(i||(i=g(b,d,iu,f?function(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=0?b:a>=1?c:d(a)}}}(k):k)))(+a)},a.domain=function(a){return arguments.length?(d=fd.call(a,mp),c()):d.slice()},a.range=function(a){return arguments.length?(b=ar.call(a),c()):b.slice()},a.rangeRound=function(a){return b=ar.call(a),e=nP,c()},a.clamp=function(a){return arguments.length?(f=!!a,c()):f},a.interpolate=function(a){return arguments.length?(e=a,c()):e},c()}function bm(b){var c=b.domain;return b.ticks=function(b){var a=c();return jo(a[0],a[a.length-1],null==b?10:b)},b.tickFormat=function(b,d){return function(d,h,b){var c,e=d[0],f=d[d.length-1],g=aZ(e,f,null==h?10:h),i;switch((b=ct(null==b?",f":b)).type){case"s":return i=Math.max(Math.abs(e),Math.abs(f)),null!=b.precision||isNaN(c=kY(g,i))||(b.precision=c),a.formatPrefix(b,i);return i=Math.max(Math.abs(e),Math.abs(f)),null!=b.precision||isNaN(c=kY(g,i))||(b.precision=c),a.formatPrefix(b,i);case"":case"e":case"g":case"p":case"r":null!=b.precision||isNaN(c=kX(g,Math.max(Math.abs(e),Math.abs(f))))||(b.precision=c-("e"===b.type));break;case"f":case"%":null!=b.precision||isNaN(c=kZ(g))||(b.precision=c-2*("%"===b.type))}return a.format(b)}(c(),b,d)},b.nice=function(i){null==i&&(i=10);var a,f=c(),g=0,h=f.length-1,e=f[g],d=f[h];return d<e&&(a=e,e=d,d=a,a=g,g=h,h=a),(a=du(e,d,i))>0?a=du(e=Math.floor(e/a)*a,d=Math.ceil(d/a)*a,i):a<0&&(a=du(e=Math.ceil(e*a)/a,d=Math.floor(d*a)/a,i)),a>0?(f[g]=Math.floor(e/a)*a,f[h]=Math.ceil(d/a)*a,c(f)):a<0&&(f[g]=Math.ceil(e*a)/a,f[h]=Math.floor(d*a)/a,c(f)),b},b}function mx(a,g){var b,c=0,d=(a=a.slice()).length-1,e=a[c],f=a[d];return f<e&&(b=c,c=d,d=b,b=e,e=f,f=b),a[c]=g.floor(e),a[d]=g.ceil(f),a}function qT(b,a){return(a=Math.log(a/b))?function(c){return Math.log(c/b)/a}:hX(a)}function qS(a,b){return a<0?function(c){return-Math.pow(-b,c)*Math.pow(-a,1-c)}:function(c){return Math.pow(b,c)*Math.pow(a,1-c)}}function qR(a){return isFinite(a)?+("1e"+a):a<0?0:a}function mB(a){return 10===a?qR:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function mC(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function mD(a){return function(b){return-a(-b)}}function bJ(a,b){return a<0?-Math.pow(-a,b):Math.pow(a,b)}function iT(){var a=1,b=eB(function(c,b){return(b=bJ(b,a)-(c=bJ(c,a)))?function(d){return(bJ(d,a)-c)/b}:hX(b)},function(b,c){return c=bJ(c,a)-(b=bJ(b,a)),function(d){return bJ(b+c*d,1/a)}}),c=b.domain;return b.exponent=function(b){return arguments.length?(a=+b,c(c())):a},b.copy=function(){return eC(b,iT().exponent(a))},bm(b)}eh=new Date,ee=new Date;function t(b,c,d,e){function a(a){return b(a=new Date(+a)),a}return a.floor=a,a.ceil=function(a){return b(a=new Date(a-1)),c(a,1),b(a),a},a.round=function(b){var c=a(b),d=a.ceil(b);return b-c<d-b?c:d},a.offset=function(a,b){return c(a=new Date(+a),null==b?1:Math.floor(b)),a},a.range=function(d,g,e){var h,f=[];if(d=a.ceil(d),e=null==e?1:Math.floor(e),!(d<g&&e>0))return f;do f.push(h=new Date(+d)),c(d,e),b(d);while(h<d&&d<g)return f},a.filter=function(a){return t(function(c){if(c>=c)for(;b(c),!a(c);)c.setTime(c-1)},function(b,d){if(b>=b)if(d<0)for(;++d<=0;)for(;c(b,-1),!a(b););else for(;--d>=0;)for(;c(b,1),!a(b););})},d&&(a.count=function(a,c){return eh.setTime(+a),ee.setTime(+c),b(eh),b(ee),Math.floor(d(eh,ee))},a.every=function(b){return b=Math.floor(b),isFinite(b)&&b>0?b>1?a.filter(e?function(a){return e(a)%b==0}:function(c){return a.count(0,c)%b==0}):a:null}),a}az=t(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a}),az.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?t(function(b){b.setTime(Math.floor(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a}):az:null},i_=az.range,ae=6e4,ja=6048e5,b_=t(function(a){a.setTime(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(+a+1e3*b)},function(a,b){return(b-a)/1e3},function(a){return a.getUTCSeconds()}),je=b_.range,dW=t(function(a){a.setTime(Math.floor(a/ae)*ae)},function(a,b){a.setTime(+a+b*ae)},function(a,b){return(b-a)/ae},function(a){return a.getMinutes()}),mQ=dW.range,dV=t(function(b){var a=b.getTimezoneOffset()*ae%36e5;a<0&&(a+=36e5),b.setTime(36e5*Math.floor((+b-a)/36e5)+a)},function(a,b){a.setTime(+a+36e5*b)},function(a,b){return(b-a)/36e5},function(a){return a.getHours()}),mS=dV.range,b$=t(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*ae)/864e5},function(a){return a.getDate()-1}),mU=b$.range;function a_(a){return t(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+7*b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*ae)/ja})}bP=a_(0),cb=a_(1),js=a_(2),ju=a_(3),cd=a_(4),jz=a_(5),jB=a_(6),jC=bP.range,nc=cb.range,nd=js.range,ne=ju.range,nf=cd.range,ng=jz.range,nh=jB.range,er=t(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),nj=er.range,ad=t(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()}),ad.every=function(a){return isFinite(a=Math.floor(a))&&a>0?t(function(b){b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c*a)}):null},nl=ad.range,d_=t(function(a){a.setUTCSeconds(0,0)},function(a,b){a.setTime(+a+b*ae)},function(a,b){return(b-a)/ae},function(a){return a.getUTCMinutes()}),nn=d_.range,eb=t(function(a){a.setUTCMinutes(0,0,0)},function(a,b){a.setTime(+a+36e5*b)},function(a,b){return(b-a)/36e5},function(a){return a.getUTCHours()}),np=eb.range,bZ=t(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/864e5},function(a){return a.getUTCDate()-1}),nr=bZ.range;function be(a){return t(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+7*b)},function(a,b){return(b-a)/ja})}by=be(0),bx=be(1),iQ=be(2),iO=be(3),bs=be(4),iN=be(5),iM=be(6),iK=by.range,nB=bx.range,nC=iQ.range,nD=iO.range,nE=bs.range,nF=iN.range,nG=iM.range,ev=t(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+12*(b.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}),nI=ev.range,ai=t(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()}),ai.every=function(a){return isFinite(a=Math.floor(a))&&a>0?t(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null},nK=ai.range;function qQ(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function eE(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function cC(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function nO(a){var l=a.dateTime,m=a.date,k=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,w=ds(e),o=cl(e),x=ds(f),y=cl(f),u=ds(g),t=cl(g),p=ds(h),q=cl(h),r=ds(i),s=cl(i),d={a:function(a){return g[a.getDay()]},A:function(a){return f[a.getDay()]},b:function(a){return i[a.getMonth()]},B:function(a){return h[a.getMonth()]},c:null,d:oq,e:oq,f:qu,H:qx,I:qw,j:qv,L:ou,m:qt,M:qs,p:function(a){return e[+(a.getHours()>=12)]},Q:oZ,s:o_,S:qr,u:qq,U:qp,V:qo,w:qn,W:qm,x:null,X:null,y:ql,Y:qk,Z:qj,"%":oY},c={a:function(a){return g[a.getUTCDay()]},A:function(a){return f[a.getUTCDay()]},b:function(a){return i[a.getUTCMonth()]},B:function(a){return h[a.getUTCMonth()]},c:null,d:oH,e:oH,f:qf,H:qi,I:qh,j:qg,L:oL,m:qe,M:qd,p:function(a){return e[+(a.getUTCHours()>=12)]},Q:oZ,s:o_,S:qc,u:qb,U:qa,V:p$,w:p_,W:pZ,x:null,X:null,y:pY,Y:pX,Z:pW,"%":oY},v={a:function(c,d,b){var a=u.exec(d.slice(b));return a?(c.w=t[a[0].toLowerCase()],b+a[0].length):-1},A:function(c,d,b){var a=x.exec(d.slice(b));return a?(c.w=y[a[0].toLowerCase()],b+a[0].length):-1},b:function(c,d,b){var a=r.exec(d.slice(b));return a?(c.m=s[a[0].toLowerCase()],b+a[0].length):-1},B:function(c,d,b){var a=p.exec(d.slice(b));return a?(c.m=q[a[0].toLowerCase()],b+a[0].length):-1},c:function(a,b,c){return j(a,l,b,c)},d:og,e:og,f:qB,H:oi,I:oi,j:qF,L:qC,m:qG,M:qE,p:function(c,d,b){var a=w.exec(d.slice(b));return a?(c.p=o[a[0].toLowerCase()],b+a[0].length):-1},Q:qz,s:qy,S:qD,u:qN,U:qM,V:qL,w:qO,W:qK,x:function(a,b,c){return j(a,m,b,c)},X:function(a,b,c){return j(a,k,b,c)},y:qI,Y:qJ,Z:qH,"%":qA};function b(a,b){return function(e){var d,g,i,f=[],c=-1,h=0,j=a.length;for(e instanceof Date||(e=new Date(+e));++c<j;)37===a.charCodeAt(c)&&(f.push(a.slice(h,c)),null!=(g=hr[d=a.charAt(++c)])?d=a.charAt(++c):g="e"===d?" ":"0",(i=b[d])&&(d=i(e,g)),f.push(d),h=c+1);return f.push(a.slice(h,c)),f.join("")}}function n(b,a){return function(f){var d,e,c=cC(1900);if(j(c,b,f+="",0)!=f.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(e=(d=eE(cC(c.y))).getUTCDay(),d=e>4||0===e?bx.ceil(d):bx(d),d=bZ.offset(d,7*(c.V-1)),c.y=d.getUTCFullYear(),c.m=d.getUTCMonth(),c.d=d.getUTCDate()+(c.w+6)%7):(e=(d=a(cC(c.y))).getDay(),d=e>4||0===e?cb.ceil(d):cb(d),d=b$.offset(d,7*(c.V-1)),c.y=d.getFullYear(),c.m=d.getMonth(),c.d=d.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),e="Z"in c?eE(cC(c.y)).getUTCDay():a(cC(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(e+5)%7:c.w+7*c.U-(e+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,eE(c)):a(c)}}function j(g,d,e,a){for(var b,f,c=0,h=d.length,i=e.length;c<h;){if(a>=i)return-1;if(37===(b=d.charCodeAt(c++))){if(b=d.charAt(c++),!(f=v[b in hr?d.charAt(c++):b])||(a=f(g,e,a))<0)return-1}else if(b!=e.charCodeAt(a++))return-1}return a}return d.x=b(m,d),d.X=b(k,d),d.c=b(l,d),c.x=b(m,c),c.X=b(k,c),c.c=b(l,c),{format:function(a){var c=b(a+="",d);return c.toString=function(){return a},c},parse:function(a){var b=n(a+="",qQ);return b.toString=function(){return a},b},utcFormat:function(a){var d=b(a+="",c);return d.toString=function(){return a},d},utcParse:function(a){var b=n(a,eE);return b.toString=function(){return a},b}}}hr={"-":"",_:" ",0:"0"},u=/^\s*\d+/,nS=/^%/,nT=/[\\^$*+?|[\]().{}]/g;function k(a,f,c){var d=a<0?"-":"",b=(d?-a:a)+"",e=b.length;return d+(e<c?new Array(c-e+1).join(f)+b:b)}function qP(a){return a.replace(nT,"\\$&")}function ds(a){return new RegExp("^(?:"+a.map(qP).join("|")+")","i")}function cl(b){for(var c={},a=-1,d=b.length;++a<d;)c[b[a].toLowerCase()]=a;return c}function qO(c,d,a){var b=u.exec(d.slice(a,a+1));return b?(c.w=+b[0],a+b[0].length):-1}function qN(c,d,a){var b=u.exec(d.slice(a,a+1));return b?(c.u=+b[0],a+b[0].length):-1}function qM(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.U=+b[0],a+b[0].length):-1}function qL(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.V=+b[0],a+b[0].length):-1}function qK(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.W=+b[0],a+b[0].length):-1}function qJ(c,d,a){var b=u.exec(d.slice(a,a+4));return b?(c.y=+b[0],a+b[0].length):-1}function qI(c,d,b){var a=u.exec(d.slice(b,b+2));return a?(c.y=+a[0]+(+a[0]>68?1900:2e3),b+a[0].length):-1}function qH(c,d,b){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(d.slice(b,b+6));return a?(c.Z=a[1]?0:-(a[2]+(a[3]||"00")),b+a[0].length):-1}function qG(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.m=b[0]-1,a+b[0].length):-1}function og(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.d=+b[0],a+b[0].length):-1}function qF(c,d,a){var b=u.exec(d.slice(a,a+3));return b?(c.m=0,c.d=+b[0],a+b[0].length):-1}function oi(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.H=+b[0],a+b[0].length):-1}function qE(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.M=+b[0],a+b[0].length):-1}function qD(c,d,a){var b=u.exec(d.slice(a,a+2));return b?(c.S=+b[0],a+b[0].length):-1}function qC(c,d,a){var b=u.exec(d.slice(a,a+3));return b?(c.L=+b[0],a+b[0].length):-1}function qB(c,d,a){var b=u.exec(d.slice(a,a+6));return b?(c.L=Math.floor(b[0]/1e3),a+b[0].length):-1}function qA(d,c,a){var b=nS.exec(c.slice(a,a+1));return b?a+b[0].length:-1}function qz(c,d,b){var a=u.exec(d.slice(b));return a?(c.Q=+a[0],b+a[0].length):-1}function qy(c,d,b){var a=u.exec(d.slice(b));return a?(c.Q=1e3*+a[0],b+a[0].length):-1}function oq(a,b){return k(a.getDate(),b,2)}function qx(a,b){return k(a.getHours(),b,2)}function qw(a,b){return k(a.getHours()%12||12,b,2)}function qv(a,b){return k(1+b$.count(ad(a),a),b,3)}function ou(a,b){return k(a.getMilliseconds(),b,3)}function qu(a,b){return ou(a,b)+"000"}function qt(a,b){return k(a.getMonth()+1,b,2)}function qs(a,b){return k(a.getMinutes(),b,2)}function qr(a,b){return k(a.getSeconds(),b,2)}function qq(b){var a=b.getDay();return 0===a?7:a}function qp(a,b){return k(bP.count(ad(a),a),b,2)}function qo(a,c){var b=a.getDay();return a=b>=4||0===b?cd(a):cd.ceil(a),k(cd.count(ad(a),a)+(4===ad(a).getDay()),c,2)}function qn(a){return a.getDay()}function qm(a,b){return k(cb.count(ad(a),a),b,2)}function ql(a,b){return k(a.getFullYear()%100,b,2)}function qk(a,b){return k(a.getFullYear()%1e4,b,4)}function qj(b){var a=b.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+k(a/60|0,"0",2)+k(a%60,"0",2)}function oH(a,b){return k(a.getUTCDate(),b,2)}function qi(a,b){return k(a.getUTCHours(),b,2)}function qh(a,b){return k(a.getUTCHours()%12||12,b,2)}function qg(a,b){return k(1+bZ.count(ai(a),a),b,3)}function oL(a,b){return k(a.getUTCMilliseconds(),b,3)}function qf(a,b){return oL(a,b)+"000"}function qe(a,b){return k(a.getUTCMonth()+1,b,2)}function qd(a,b){return k(a.getUTCMinutes(),b,2)}function qc(a,b){return k(a.getUTCSeconds(),b,2)}function qb(b){var a=b.getUTCDay();return 0===a?7:a}function qa(a,b){return k(by.count(ai(a),a),b,2)}function p$(a,c){var b=a.getUTCDay();return a=b>=4||0===b?bs(a):bs.ceil(a),k(bs.count(ai(a),a)+(4===ai(a).getUTCDay()),c,2)}function p_(a){return a.getUTCDay()}function pZ(a,b){return k(bx.count(ai(a),a),b,2)}function pY(a,b){return k(a.getUTCFullYear()%100,b,2)}function pX(a,b){return k(a.getUTCFullYear()%1e4,b,4)}function pW(){return"+0000"}function oY(){return"%"}function oZ(a){return+a}function o_(a){return Math.floor(+a/1e3)}function o$(b){return a$=nO(b),a.timeFormat=a$.format,a.timeParse=a$.parse,a.utcFormat=a$.utcFormat,a.utcParse=a$.utcParse,a$}o$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),pa=Date.prototype.toISOString?function(a){return a.toISOString()}:a.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),pb=+new Date("2000-01-01T00:00:00.000Z")?function(b){var a=new Date(b);return isNaN(a)?null:a}:a.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),bz=1e3,bA=60*bz,bC=60*bA,bD=24*bC,pg=7*bD,hS=30*bD,eP=365*bD;function pV(a){return new Date(a)}function pU(a){return a instanceof Date?+a:+new Date(+a)}function ii(j,i,k,h,c,d,e,m,b){var a=eB(iu,Q),w=a.invert,f=a.domain,u=b(".%L"),q=b(":%S"),o=b("%I:%M"),p=b("%I %p"),n=b("%a %d"),r=b("%b %d"),s=b("%B"),t=b("%Y"),g=[[e,1,bz],[e,5,5*bz],[e,15,15*bz],[e,30,30*bz],[d,1,bA],[d,5,5*bA],[d,15,15*bA],[d,30,30*bA],[c,1,bC],[c,3,3*bC],[c,6,6*bC],[c,12,12*bC],[h,1,bD],[h,2,2*bD],[k,1,pg],[i,1,hS],[i,3,3*hS],[j,1,eP]];function v(a){return(e(a)<a?u:d(a)<a?q:c(a)<a?o:h(a)<a?p:i(a)<a?k(a)<a?n:r:j(a)<a?s:t)(a)}function l(a,d,e,c){if(null==a&&(a=10),"number"==typeof a){var f=Math.abs(e-d)/a,b=jP(function(a){return a[2]}).right(g,f);b===g.length?(c=aZ(d/eP,e/eP,a),a=j):b?(c=(b=g[f/g[b-1][2]<g[b][2]/f?b-1:b])[1],a=b[0]):(c=Math.max(aZ(d,e,a),1),a=m)}return null==c?a:a.every(c)}return a.invert=function(a){return new Date(w(a))},a.domain=function(a){return arguments.length?f(fd.call(a,pU)):f().map(pV)},a.ticks=function(h,g){var a,d=f(),b=d[0],c=d[d.length-1],e=c<b;return e&&(a=b,b=c,c=a),a=(a=l(h,b,c,g))?a.range(b,c+1):[],e?a.reverse():a},a.tickFormat=function(c,a){return null==a?v:b(a)},a.nice=function(c,d){var b=f();return(c=l(c,b[0],b[b.length-1],d))?f(mx(b,c)):a},a.copy=function(){return eC(a,ii(j,i,k,h,c,d,e,m,b))},a}function f(b){for(var c=b.length/6|0,d=new Array(c),a=0;a<c;)d[a]="#"+b.slice(6*a,6*++a);return d}pn=f("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),po=f("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),pp=f("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pq=f("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),pr=f("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),ps=f("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),pt=f("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),pu=f("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),pv=f("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function m(a){return hn(a[a.length-1])}iJ=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(f),py=m(iJ),iY=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(f),pA=m(iY),i$=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(f),pC=m(i$),jc=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(f),pE=m(jc),jv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(f),pG=m(jv),jD=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(f),pI=m(jD),jE=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(f),pK=m(jE),jI=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(f),pM=m(jI),jJ=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(f),pO=m(jJ),jK=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(f),pQ=m(jK),jL=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(f),lH=m(jL),g_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(f),pk=m(g_),ib=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(f),oX=m(ib),hP=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(f),oV=m(hP),hL=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(f),oT=m(hL),hH=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(f),oR=m(hH),hG=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(f),oP=m(hG),hE=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(f),oN=m(hE),hA=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(f),oK=m(hA),g$=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(f),oI=m(g$),gZ=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(f),oF=m(gZ),gX=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(f),oD=m(gX),gV=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(f),oB=m(gV),gU=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(f),oz=m(gU),gT=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(f),ox=m(gT),gS=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(f),ov=m(gS),gR=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(f),os=m(gR),or=cU(U(300,.5,0),U(-240,.5,1)),op=cU(U(-100,.75,.35),U(80,1.5,.8)),oo=cU(U(260,.75,.35),U(80,1.5,.8)),cD=U(),cA=bt(),ol=Math.PI/3,ok=2*Math.PI/3;function fG(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))]}}oh=fG(f("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),oe=fG(f("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),od=fG(f("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),oc=fG(f("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function g(a){return function(){return a}}f$=Math.abs,y=Math.atan2,ay=Math.cos,nZ=Math.max,fD=Math.min,V=Math.sin,aM=Math.sqrt,z=1e-12,ao=Math.PI,cO=ao/2,an=2*ao;function ms(a){return a>=1?cO:a<=-1?-cO:Math.asin(a)}function qW(a){return a.innerRadius}function qX(a){return a.outerRadius}function qY(a){return a.startAngle}function qZ(a){return a.endAngle}function q_(a){return a&&a.padAngle}function fo(s,z,y,x,q,k,F){var j=s-y,i=z-x,v=(F?k:-k)/aM(j*j+i*i),r=v*i,l=-v*j,m=s+r,n=z+l,o=y+r,p=x+l,u=(m+o)/2,t=(n+p)/2,c=o-m,a=p-n,d=c*c+a*a,h=q-k,b=m*p-o*n,f=(a<0?-1:1)*aM(nZ(0,h*h*d-b*b)),g=(b*a-c*f)/d,e=(-b*c-a*f)/d,A=(b*a+c*f)/d,B=(-b*c+a*f)/d,C=g-u,D=e-t,w=A-u,E=B-t;return C*C+D*D>w*w+E*E&&(g=A,e=B),{cx:g,cy:e,x01:-r,y01:-l,x11:g*(q/h-1),y11:e*(q/h-1)}}function lU(a){this._context=a}function fB(a){return new lU(a)}function gM(a){return a[0]}function gG(a){return a[1]}function gx(){var h=gM,e=gG,f=g(!0),c=null,d=fB,b=null;function a(g){var a,j,k,l=g.length,i=!1;for(null==c&&(b=d(k=au())),a=0;a<=l;++a)!(a<l&&f(j=g[a],a,g))===i&&((i=!i)?b.lineStart():b.lineEnd()),i&&b.point(+h(j,a,g),+e(j,a,g));if(k)return b=null,k+""||null}return a.x=function(b){return arguments.length?(h="function"==typeof b?b:g(+b),a):h},a.y=function(b){return arguments.length?(e="function"==typeof b?b:g(+b),a):e},a.defined=function(b){return arguments.length?(f="function"==typeof b?b:g(!!b),a):f},a.curve=function(e){return arguments.length?(d=e,null!=c&&(b=d(c)),a):d},a.context=function(e){return arguments.length?(null==e?c=b=null:b=d(c=e),a):c},a}function lF(){var c=gM,i=null,e=g(0),f=gG,j=g(!0),d=null,h=fB,b=null;function a(g){var a,r,k,l,p,m=g.length,n=!1,o=new Array(m),q=new Array(m);for(null==d&&(b=h(p=au())),a=0;a<=m;++a){if(!(a<m&&j(l=g[a],a,g))===n)if(n=!n)r=a,b.areaStart(),b.lineStart();else{for(b.lineEnd(),b.lineStart(),k=a-1;k>=r;--k)b.point(o[k],q[k]);b.lineEnd(),b.areaEnd()}n&&(o[a]=+c(l,a,g),q[a]=+e(l,a,g),b.point(i?+i(l,a,g):o[a],f?+f(l,a,g):q[a]))}if(p)return b=null,p+""||null}function k(){return gx().defined(j).curve(h).context(d)}return a.x=function(b){return arguments.length?(c="function"==typeof b?b:g(+b),i=null,a):c},a.x0=function(b){return arguments.length?(c="function"==typeof b?b:g(+b),a):c},a.x1=function(b){return arguments.length?(i=null==b?null:"function"==typeof b?b:g(+b),a):i},a.y=function(b){return arguments.length?(e="function"==typeof b?b:g(+b),f=null,a):e},a.y0=function(b){return arguments.length?(e="function"==typeof b?b:g(+b),a):e},a.y1=function(b){return arguments.length?(f=null==b?null:"function"==typeof b?b:g(+b),a):f},a.lineX0=a.lineY0=function(){return k().x(c).y(e)},a.lineY1=function(){return k().x(c).y(f)},a.lineX1=function(){return k().x(i).y(e)},a.defined=function(b){return arguments.length?(j="function"==typeof b?b:g(!!b),a):j},a.curve=function(c){return arguments.length?(h=c,null!=d&&(b=h(d)),a):h},a.context=function(c){return arguments.length?(null==c?d=b=null:b=h(d=c),a):d},a}function rg(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function rh(a){return a}lU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}},gd=gc(fB);function lq(a){this._curve=a}function gc(a){function b(b){return new lq(a(b))}return b._curve=a,b}function cr(a){var b=a.curve;return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a.curve=function(a){return arguments.length?b(gc(a)):b()._curve},a}function li(){return cr(gx().curve(gd))}function lh(){var a=lF().curve(gd),b=a.curve,c=a.lineX0,d=a.lineX1,e=a.lineY0,f=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return cr(c())},delete a.lineX0,a.lineEndAngle=function(){return cr(d())},delete a.lineX1,a.lineInnerRadius=function(){return cr(e())},delete a.lineY0,a.lineOuterRadius=function(){return cr(f())},delete a.lineY1,a.curve=function(a){return arguments.length?b(gc(a)):b()._curve},a}function cs(b,a){return[(a=+a)*Math.cos(b-=Math.PI/2),a*Math.sin(b)]}lq.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,b){this._curve.point(b*Math.sin(a),b*-Math.cos(a))}},fP=Array.prototype.slice;function rq(a){return a.source}function rr(a){return a.target}function iI(h){var e=rq,f=rr,c=gM,d=gG,b=null;function a(){var g,a=fP.call(arguments),i=e.apply(this,a),j=f.apply(this,a);if(b||(b=g=au()),h(b,+c.apply(this,(a[0]=i,a)),+d.apply(this,a),+c.apply(this,(a[0]=j,a)),+d.apply(this,a)),g)return b=null,g+""||null}return a.source=function(b){return arguments.length?(e=b,a):e},a.target=function(b){return arguments.length?(f=b,a):f},a.x=function(b){return arguments.length?(c="function"==typeof b?b:g(+b),a):c},a.y=function(b){return arguments.length?(d="function"==typeof b?b:g(+b),a):d},a.context=function(c){return arguments.length?(b=null==c?null:c,a):b},a}function rt(b,a,c,d,e){b.moveTo(a,c),b.bezierCurveTo(a=(a+d)/2,c,a,e,d,e)}function ru(b,c,a,d,e){b.moveTo(c,a),b.bezierCurveTo(c,a=(a+e)/2,d,a,d,e)}function rv(b,c,a,d,e){var f=cs(c,a),g=cs(c,a=(a+e)/2),h=cs(d,a),i=cs(d,e);b.moveTo(f[0],f[1]),b.bezierCurveTo(g[0],g[1],h[0],h[1],i[0],i[1])}eg={draw:function(a,c){var b=Math.sqrt(c/ao);a.moveTo(b,0),a.arc(0,0,b,0,an)}},jg={draw:function(b,c){var a=Math.sqrt(c/5)/2;b.moveTo(-3*a,-a),b.lineTo(-a,-a),b.lineTo(-a,-3*a),b.lineTo(a,-3*a),b.lineTo(a,-a),b.lineTo(3*a,-a),b.lineTo(3*a,a),b.lineTo(a,a),b.lineTo(a,3*a),b.lineTo(-a,3*a),b.lineTo(-a,a),b.lineTo(-3*a,a),b.closePath()}},ji=Math.sqrt(1/3),kb=2*ji,jn={draw:function(a,d){var b=Math.sqrt(d/kb),c=b*ji;a.moveTo(0,-b),a.lineTo(c,0),a.lineTo(0,b),a.lineTo(-c,0),a.closePath()}},jG=Math.sin(ao/10)/Math.sin(7*ao/10),jT=Math.sin(an/10)*jG,jU=-Math.cos(an/10)*jG,jq={draw:function(a,i){var b=Math.sqrt(.8908130915292852*i),d=jT*b,e=jU*b,f,h,c,g;a.moveTo(0,-b),a.lineTo(d,e);for(f=1;f<5;++f)h=an*f/5,c=Math.cos(h),g=Math.sin(h),a.lineTo(g*b,-c*b),a.lineTo(c*d-g*e,g*d+c*e);a.closePath()}},jf={draw:function(c,d){var a=Math.sqrt(d),b=-a/2;c.rect(b,b,a,a)}},dX=Math.sqrt(3),jd={draw:function(b,c){var a=-Math.sqrt(c/(3*dX));b.moveTo(0,2*a),b.lineTo(-dX*a,-a),b.lineTo(dX*a,-a),b.closePath()}},M=Math.sqrt(3)/2,ej=1/Math.sqrt(12),kx=3*(ej/2+1),he={draw:function(a,i){var h=Math.sqrt(i/kx),b=h/2,g=h*ej,c=b,d=h*ej+h,e=-c,f=d;a.moveTo(b,g),a.lineTo(c,d),a.lineTo(e,f),a.lineTo(-.5*b-M*g,M*b+-.5*g),a.lineTo(-.5*c-M*d,M*c+-.5*d),a.lineTo(-.5*e-M*f,M*e+-.5*f),a.lineTo(-.5*b+M*g,-.5*g-M*b),a.lineTo(-.5*c+M*d,-.5*d-M*c),a.lineTo(-.5*e+M*f,-.5*f-M*e),a.closePath()}},ky=[eg,jg,jn,jf,jq,jd,he];function aA(){}function eF(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function eI(a){this._context=a}function kG(a){this._context=a}function kH(a){this._context=a}function kP(a,b){this._basis=new eI(a),this._beta=b}eI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eF(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eF(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},kG.prototype={areaStart:aA,areaEnd:aA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:eF(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},kH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:eF(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},kP.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var b=this._x,d=this._y,a=b.length-1,e,f,g,h,i,c;if(a>0)for(e,f=b[0],g=d[0],h=b[a]-f,i=d[a]-g,c=-1;++c<=a;)e=c/a,this._basis.point(this._beta*b[c]+(1-this._beta)*(f+e*h),this._beta*d[c]+(1-this._beta)*(g+e*i));this._x=this._y=null,this._basis.lineEnd()},point:function(a,b){this._x.push(+a),this._y.push(+b)}},kR=function c(a){function b(b){return 1===a?new eI(b):new kP(b,a)}return b.beta=function(a){return c(+a)},b}(.85);function fh(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function gm(a,b){this._context=a,this._k=(1-b)/6}gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fh(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2,this._x1=a,this._y1=b;break;case 2:this._point=3;default:fh(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},lf=function b(c){function a(a){return new gm(a,c)}return a.tension=function(a){return b(+a)},a}(0);function gj(a,b){this._context=a,this._k=(1-b)/6}gj.prototype={areaStart:aA,areaEnd:aA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:fh(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},lj=function b(c){function a(a){return new gj(a,c)}return a.tension=function(a){return b(+a)},a}(0);function gh(a,b){this._context=a,this._k=(1-b)/6}gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fh(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},ll=function b(c){function a(a){return new gh(a,c)}return a.tension=function(a){return b(+a)},a}(0);function gb(a,j,k){var b=a._x1,c=a._y1,d=a._x2,e=a._y2,f,g,h,i;a._l01_a>z&&(f=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,g=3*a._l01_a*(a._l01_a+a._l12_a),b=(b*f-a._x0*a._l12_2a+a._x2*a._l01_2a)/g,c=(c*f-a._y0*a._l12_2a+a._y2*a._l01_2a)/g),a._l23_a>z&&(h=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,i=3*a._l23_a*(a._l23_a+a._l12_a),d=(d*h+a._x1*a._l23_2a-j*a._l12_2a)/i,e=(e*h+a._y1*a._l23_2a-k*a._l12_2a)/i),a._context.bezierCurveTo(b,c,d,e,a._x2,a._y2)}function lv(a,b){this._context=a,this._alpha=b}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:gb(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},lE=function c(a){function b(b){return a?new lv(b,a):new gm(b,0)}return b.alpha=function(a){return c(+a)},b}(.5);function lK(a,b){this._context=a,this._alpha=b}lK.prototype={areaStart:aA,areaEnd:aA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:gb(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},lL=function c(a){function b(b){return a?new lK(b,a):new gj(b,0)}return b.alpha=function(a){return c(+a)},b}(.5);function lV(a,b){this._context=a,this._alpha=b}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gb(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},lW=function c(a){function b(b){return a?new lV(b,a):new gh(b,0)}return b.alpha=function(a){return c(+a)},b}(.5);function lX(a){this._context=a}function l$(a){return a<0?-1:1}function mb(a,f,g){var b=a._x1-a._x0,c=f-a._x1,d=(a._y1-a._y0)/(b||c<0&&-0),e=(g-a._y1)/(c||b<0&&-0),h=(d*c+e*b)/(b+c);return(l$(d)+l$(e))*Math.min(Math.abs(d),Math.abs(e),.5*Math.abs(h))||0}function md(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function hp(a,h,f){var d=a._x0,g=a._y0,c=a._x1,e=a._y1,b=(c-d)/3;a._context.bezierCurveTo(d+b,g+b*h,c-b,e-b*f,c,e)}function fj(a){this._context=a}function mk(a){this._context=new ml(a)}function ml(a){this._context=a}function mm(a){this._context=a}function mn(e){var a,g,b=e.length-1,c=new Array(b),d=new Array(b),f=new Array(b);for(c[0]=0,d[0]=2,f[0]=e[0]+2*e[1],a=1;a<b-1;++a)c[a]=1,d[a]=4,f[a]=4*e[a]+2*e[a+1];for(c[b-1]=2,d[b-1]=7,f[b-1]=8*e[b-1]+e[b],a=1;a<b;++a)g=c[a]/d[a-1],d[a]-=g,f[a]-=g*f[a-1];for(c[b-1]=f[b-1]/d[b-1],a=b-2;a>=0;--a)c[a]=(f[a]-c[a+1])/d[a];for(d[b-1]=(e[b]+c[b-1])/2,a=0;a<b-1;++a)d[a]=2*e[a+1]-c[a+1];return[c,d]}function eY(a,b){this._context=a,this._t=b}function bB(e,f){if((g=e.length)>1)for(var a,c,g,d=1,b=e[f[0]],h=b.length;d<g;++d)for(c=b,b=e[f[d]],a=0;a<h;++a)b[a][1]+=b[a][0]=isNaN(c[a][1])?c[a][0]:c[a][1]}function bw(c){for(var a=c.length,b=new Array(a);--a>=0;)b[a]=a;return b}function st(a,b){return a[b]}function mr(a){var b=a.map(mt);return bw(a).sort(function(a,c){return b[a]-b[c]})}function mt(a){for(var b,c=0,d=-1,e=a.length;++d<e;)(b=+a[d][1])&&(c+=b);return c}function mz(a){return function(){return a}}function sx(a){return a[0]}function sy(a){return a[1]}function el(){this._=null}function ec(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function df(e,d){var a=d,b=d.R,c=a.U;c?c.L===a?c.L=b:c.R=b:e._=b,b.U=c,a.U=b,a.R=b.L,a.R&&(a.R.U=a),b.L=a}function ck(e,d){var a=d,b=d.L,c=a.U;c?c.L===a?c.L=b:c.R=b:e._=b,b.U=c,a.U=b,a.L=b.R,a.L&&(a.L.U=a),b.R=a}function oJ(a){for(;a.L;)a=a.L;return a}function cJ(b,c,d,e){var a=[null,null],f=w.push(a)-1;return a.left=b,a.right=c,d&&fw(a,b,c,d),e&&fw(a,c,b,e),J[b.index].halfedges.push(f),J[c.index].halfedges.push(f),a}function cK(b,c,d){var a=[c,d];return a.left=b,a}function fw(a,d,c,b){a[0]||a[1]?a.left===c?a[1]=b:a[0]=b:(a[0]=b,a.left=d,a.right=c)}function sH(h,n,m,l,k){var a,i=h[0],j=h[1],g=i[0],f=i[1],c=0,b=1,e=j[0]-g,d=j[1]-f;if(a=n-g,e||!(a>0)){if(a/=e,e<0){if(a<c)return;a<b&&(b=a)}else if(e>0){if(a>b)return;a>c&&(c=a)}if(a=l-g,e||!(a<0)){if(a/=e,e<0){if(a>b)return;a>c&&(c=a)}else if(e>0){if(a<c)return;a<b&&(b=a)}if(a=m-f,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<b&&(b=a)}else if(d>0){if(a>b)return;a>c&&(c=a)}if(a=k-f,d||!(a<0)){if(a/=d,d<0){if(a>b)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<b&&(b=a)}return!(c>0||b<1)||(c>0&&(h[0]=[g+c*e,f+c*d]),b<1&&(h[1]=[g+b*e,f+b*d]),!0)}}}}}function sI(j,i,f,h,d){var e=j[1],b,c,a,p,o,k,l,m,n,g,q;if(e)return!0;if(a=j[0],p=j.left,o=j.right,k=p[0],l=p[1],m=o[0],n=o[1],g=(k+m)/2,q=(l+n)/2,n===l){if(g<i||g>=h)return;if(k>m){if(a){if(a[1]>=d)return}else a=[g,f];e=[g,d]}else{if(a){if(a[1]<f)return}else a=[g,d];e=[g,f]}}else if(c=q-(b=(k-m)/(n-l))*g,b<-1||b>1)if(k>m){if(a){if(a[1]>=d)return}else a=[(f-c)/b,f];e=[(d-c)/b,d]}else{if(a){if(a[1]<f)return}else a=[(d-c)/b,d];e=[(f-c)/b,f]}else if(l<n){if(a){if(a[0]>=h)return}else a=[i,b*i+c];e=[h,b*h+c]}else{if(a){if(a[0]<i)return}else a=[h,b*h+c];e=[i,b*i+c]}return j[0]=a,j[1]=e,!0}function sJ(e,c){var d=e.site,a=c.left,b=c.right;return d===b&&(b=a,a=d),b?Math.atan2(b[1]-a[1],b[0]-a[0]):(d===a?(a=c[1],b=c[0]):(a=c[0],b=c[1]),Math.atan2(a[0]-b[0],b[1]-a[1]))}function oS(b,a){return a[+(a.left!==b.site)]}function sL(b,a){return a[+(a.left===b.site)]}lX.prototype={areaStart:aA,areaEnd:aA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a=+a,b=+b,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}},fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hp(this,this._t0,md(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(b,a){var c=NaN;if(a=+a,(b=+b)!==this._x1||a!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(b,a):this._context.moveTo(b,a);break;case 1:this._point=2;break;case 2:this._point=3,hp(this,md(this,c=mb(this,b,a)),c);break;default:hp(this,this._t0,c=mb(this,b,a))}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=a,this._t0=c}}},(mk.prototype=Object.create(fj.prototype)).point=function(a,b){fj.prototype.point.call(this,b,a)},ml.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},mm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,d=a.length,f,g,c,e;if(d)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===d)this._context.lineTo(a[1],b[1]);else for(f=mn(a),g=mn(b),c=0,e=1;e<d;++c,++e)this._context.bezierCurveTo(f[0][c],g[0][c],f[1][c],g[1][c],a[e],b[e]);(this._line||0!==this._line&&1===d)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},eY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(b,a){switch(b=+b,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,a):this._context.moveTo(b,a);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(b,a);else{var c=this._x*(1-this._t)+b*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,a)}}this._x=b,this._y=a}},el.prototype={constructor:el,insert:function(a,c){var b,d,e;if(a){if(c.P=a,c.N=a.N,a.N&&(a.N.P=c),a.N=c,a.R){for(a=a.R;a.L;)a=a.L;a.L=c}else a.R=c;b=a}else this._?(a=oJ(this._),c.P=null,c.N=a,a.P=a.L=c,b=a):(c.P=c.N=null,this._=c,b=null);for(c.L=c.R=null,c.U=b,c.C=!0,a=c;b&&b.C;)b===(d=b.U).L?(e=d.R)&&e.C?(b.C=e.C=!1,d.C=!0,a=d):(a===b.R&&(df(this,b),b=(a=b).U),b.C=!1,d.C=!0,ck(this,d)):(e=d.L)&&e.C?(b.C=e.C=!1,d.C=!0,a=d):(a===b.L&&(ck(this,b),b=(a=b).U),b.C=!1,d.C=!0,df(this,d)),b=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,d,g,c=a.U,f=a.L,e=a.R;if(d=f?e?oJ(e):f:e,c?c.L===a?c.L=d:c.R=d:this._=d,f&&e?(g=d.C,d.C=a.C,d.L=f,f.U=d,d!==e?(c=d.U,d.U=a.U,a=d.R,c.L=a,d.R=e,e.U=d):(d.U=c,c=d,a=d.R)):(g=a.C,a=d),a&&(a.U=c),!g)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===c.L){if((b=c.R).C&&(b.C=!1,c.C=!0,df(this,c),b=c.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,ck(this,b),b=c.R),b.C=c.C,c.C=b.R.C=!1,df(this,c),a=this._;break}}else if((b=c.L).C&&(b.C=!1,c.C=!0,ck(this,c),b=c.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,df(this,b),b=c.L),b.C=c.C,c.C=b.L.C=!1,ck(this,c),a=this._;break}b.C=!0,a=c,c=c.U}while(!a.C)a&&(a.C=!1)}}},hM=[];function sO(){ec(this),this.x=this.y=this.arc=this.site=this.cy=null}function bu(c){var s=c.P,r=c.N,n,p,l,j,i,d,g,h,f,m,t,q,o,k,b,e,a;if(s&&r)if(n=s.site,p=c.site,l=r.site,n!==l)if(j=p[0],i=p[1],d=n[0]-j,g=n[1]-i,h=l[0]-j,f=l[1]-i,m=2*(d*f-g*h),!(m>=-pl)){t=d*d+g*g,q=h*h+f*f,o=(f*t-g*q)/m,k=(d*q-h*t)/m,b=hM.pop()||new sO,b.arc=c,b.site=p,b.x=o+j,b.y=(b.cy=k+i)+Math.sqrt(o*o+k*k),c.circle=b;for(e=null,a=bo._;a;)if(b.y<a.y||b.y===a.y&&b.x<=a.x){if(!a.L){e=a.P;break}a=a.L}else{if(!a.R){e=a;break}a=a.R}bo.insert(e,b),e||(eW=b)}}function bv(b){var a=b.circle;a&&(a.P||(eW=a.N),bo.remove(a),hM.push(a),ec(a),b.circle=null)}hO=[];function sS(){ec(this),this.edge=this.site=this.circle=null}function oW(b){var a=hO.pop()||new sS;return a.site=b,a}function hQ(a){bv(a),aI.remove(a),hO.push(a),ec(a)}function sV(d){var k=d.circle,h=k.x,i=k.cy,l=[h,i],f=d.P,g=d.N,c=[d],b,a,e,m;hQ(d);for(b=f;b.circle&&Math.abs(h-b.circle.x)<j&&Math.abs(i-b.circle.cy)<j;)f=b.P,c.unshift(b),hQ(b),b=f;c.unshift(b),bv(b);for(a=g;a.circle&&Math.abs(h-a.circle.x)<j&&Math.abs(i-a.circle.cy)<j;)g=a.N,c.push(a),hQ(a),a=g;c.push(a),bv(a),m=c.length;for(e=1;e<m;++e)a=c[e],b=c[e-1],fw(a.edge,b.site,a.site,l);b=c[0],(a=c[m-1]).edge=cJ(b.site,a.site,null,l),bu(b),bu(a)}function sW(d){for(var a,b,r,q,v=d[0],p=d[1],c=aI._,e,k,n,m,f,i,h,l,g,s,t,u,o;c;)if((r=pc(c,p)-v)>j)c=c.L;else{if(!((q=v-sY(c,p))>j)){r>-j?(a=c.P,b=c):q>-j?(a=c,b=c.N):a=b=c;break}if(!c.R){a=c;break}c=c.R}if(!function(a){J[a.index]={site:a,halfedges:[]}}(d),e=oW(d),aI.insert(a,e),a||b){if(a===b)return bv(a),b=oW(a.site),aI.insert(e,b),e.edge=b.edge=cJ(a.site,e.site),bu(a),void bu(b);b?(bv(a),bv(b),k=a.site,n=k[0],m=k[1],f=d[0]-n,i=d[1]-m,h=b.site,l=h[0]-n,g=h[1]-m,s=2*(f*g-i*l),t=f*f+i*i,u=l*l+g*g,o=[(g*t-i*u)/s+n,(f*u-l*t)/s+m],fw(b.edge,k,h,o),e.edge=cJ(k,d,null,o),b.edge=cJ(d,h,null,o),bu(a),bu(b)):e.edge=cJ(a.site,e.site)}}function pc(m,l){var b=m.site,c=b[0],k=b[1],f=k-l,i,h,j,a,e,d,g;return f?(i=m.P,!i)?-1/0:(h=(b=i.site)[0],j=b[1],a=j-l,!a)?h:(e=h-c,d=1/f-1/a,g=e/a,d?(-g+Math.sqrt(g*g-2*d*(e*e/(-2*a)-j+a/2+k-f/2)))/d+c:(c+h)/2):c}function sY(a,b){var c=a.N,d;return c?pc(c,b):(d=a.site,d[1]===b?d[0]:1/0)}j=1e-6,pl=1e-12;function td(a,b){return b[1]-a[1]||b[0]-a[0]}function ip(d,c){var e,f,b,a=d.sort(td).pop(),g,h,i,k;for(w=[],J=new Array(d.length),aI=new el,bo=new el;;)if(b=eW,a&&(!b||a[1]<b.y||a[1]===b.y&&a[0]<b.x))a[0]===e&&a[1]===f||(sW(a),e=a[0],f=a[1]),a=d.pop();else{if(!b)break;sV(b.arc)}(function(){for(var e,d,a,b,f=0,h=J.length,g,c;f<h;++f)if((e=J[f])&&(b=(d=e.halfedges).length)){g=new Array(b),c=new Array(b);for(a=0;a<b;++a)g[a]=a,c[a]=sJ(e,w[d[a]]);for(g.sort(function(a,b){return c[b]-c[a]}),a=0;a<b;++a)c[a]=d[g[a]];for(a=0;a<b;++a)d[a]=c[a]}})(),c&&(g=+c[0][0],h=+c[0][1],i=+c[1][0],k=+c[1][1],!function(c,d,e,f){for(var a,b=w.length;b--;)sI(a=w[b],c,d,e,f)&&sH(a,c,d,e,f)&&(Math.abs(a[0][0]-a[1][0])>j||Math.abs(a[0][1]-a[1][1])>j)||delete w[b]}(g,h,i,k),function(e,f,g,k){var a,b,d,c,i,p,s,m,n,r,o,l,q=J.length,h=!0,t,u,v,x,y,z,A,B;for(a=0;a<q;++a)if(b=J[a]){for(d=b.site,c=(i=b.halfedges).length;c--;)w[i[c]]||i.splice(c,1);for(c=0,p=i.length;c<p;)o=(r=sL(b,w[i[c]]))[0],l=r[1],m=(s=oS(b,w[i[++c%p]]))[0],n=s[1],(Math.abs(o-m)>j||Math.abs(l-n)>j)&&(i.splice(c,0,w.push(cK(d,r,Math.abs(o-e)<j&&k-l>j?[e,Math.abs(m-e)<j?n:k]:Math.abs(l-k)<j&&g-o>j?[Math.abs(n-k)<j?m:g,k]:Math.abs(o-g)<j&&l-f>j?[g,Math.abs(m-g)<j?n:f]:Math.abs(l-f)<j&&o-e>j?[Math.abs(n-f)<j?m:e,f]:null))-1),++p);p&&(h=!1)}if(h){x=1/0;for(a=0,h=null;a<q;++a)(b=J[a])&&(v=(t=(d=b.site)[0]-e)*t+(u=d[1]-f)*u)<x&&(x=v,h=b);h&&(y=[e,f],z=[e,k],A=[g,k],B=[g,f],h.halfedges.push(w.push(cK(d=h.site,y,z))-1,w.push(cK(d,z,A))-1,w.push(cK(d,A,B))-1,w.push(cK(d,B,y))-1))}for(a=0;a<q;++a)(b=J[a])&&(b.halfedges.length||delete J[a])}(g,h,i,k)),this.edges=w,this.cells=J,aI=bo=w=J=null}function eA(a){return function(){return a}}function tg(a,b,c){this.target=a,this.type=b,this.transform=c}function ap(a,b,c){this.k=a,this.x=b,this.y=c}ip.prototype={constructor:ip,polygons:function(){var a=this.edges;return this.cells.map(function(b){var c=b.halfedges.map(function(c){return oS(b,a[c])});return c.data=b.site.data,c})},triangles:function(){var a=[],b=this.edges;return this.cells.forEach(function(l,m){if(j=(k=l.halfedges).length)for(var k,j,e,g,h,i,f=l.site,n=-1,c=b[k[j-1]],d=c.left===f?c.right:c.left;++n<j;)e=d,d=(c=b[k[n]]).left===f?c.right:c.left,e&&d&&m<e.index&&m<d.index&&(h=e,i=d,((g=f)[0]-i[0])*(h[1]-g[1])-(g[0]-h[0])*(i[1]-g[1])<0)&&a.push([f.data,e.data,d.data])}),a},links:function(){return this.edges.filter(function(a){return a.right}).map(function(a){return{source:a.left.data,target:a.right.data}})},find:function(h,f,d){for(var g,a,c=this,b=c._found||0,k=c.cells.length,i,j,e;!(a=c.cells[b]);)if(++b>=k)return null;i=h-a.site[0],j=f-a.site[1],e=i*i+j*j;do a=c.cells[g=b],b=null,a.halfedges.forEach(function(l){var g=c.edges[l],d=g.left,i,j,k;(d!==a.site&&d||(d=g.right))&&(i=h-d[0],j=f-d[1],k=i*i+j*j,k<e&&(e=k,b=d.index))});while(null!==b)return c._found=g,null==d||e<=d*d?a.site:null}},ap.prototype={constructor:ap,scale:function(a){return 1===a?this:new ap(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new ap(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},dh=new ap(1,0,0);function px(a){return a.__zoom||dh}function iU(){a.event.stopImmediatePropagation()}function dm(){a.event.preventDefault(),a.event.stopImmediatePropagation()}function tm(){return!a.event.button}function tn(){var b,c,a=this;return a instanceof SVGElement?(b=(a=a.ownerSVGElement||a).width.baseVal.value,c=a.height.baseVal.value):(b=a.clientWidth,c=a.clientHeight),[[0,0],[b,c]]}function pF(){return this.__zoom||dh}function tp(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function tq(){return"ontouchstart"in this}function tr(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1],g=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g))}px.prototype=ap.prototype,a.version="5.7.0",a.bisect=aw,a.bisectRight=aw,a.bisectLeft=pR,a.ascending=bg,a.bisector=jP,a.cross=function(e,f,c){var a,b,d,g,h=e.length,i=f.length,j=new Array(h*i);for(null==c&&(c=pP),a=d=0;a<h;++a)for(g=e[a],b=0;b<i;++b,++d)j[d]=c(g,f[b]);return j},a.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},a.deviation=pL,a.extent=jH,a.histogram=function(){var b=to,c=jH,d=jj;function a(j){var a,l,m=j.length,i=new Array(m),o,g,h,e,f,n,k;for(a=0;a<m;++a)i[a]=b(j[a],a,j);o=c(i),g=o[0],h=o[1],e=d(i,g,h),Array.isArray(e)||(e=aZ(g,h,e),e=R(Math.ceil(g/e)*e,h,e));for(f=e.length;e[0]<=g;)e.shift(),--f;for(;e[f-1]>h;)e.pop(),--f;k=new Array(f+1);for(a=0;a<=f;++a)(n=k[a]=[]).x0=a>0?e[a-1]:g,n.x1=a<f?e[a]:h;for(a=0;a<m;++a)g<=(l=i[a])&&l<=h&&k[aw(e,l,0,f)].push(j[a]);return k}return a.value=function(c){return arguments.length?(b="function"==typeof c?c:dE(c),a):b},a.domain=function(b){return arguments.length?(c="function"==typeof b?b:dE([b[0],b[1]]),a):c},a.thresholds=function(b){return arguments.length?(d="function"==typeof b?b:Array.isArray(b)?dE(pJ.call(b)):dE(b),a):d},a},a.thresholdFreedmanDiaconis=function(a,b,c){return a=pH.call(a,aC).sort(bg),Math.ceil((c-b)/(2*(dr(a,.75)-dr(a,.25))*Math.pow(a.length,-1/3)))},a.thresholdScott=function(a,b,c){return Math.ceil((c-b)/(3.5*pL(a)*Math.pow(a.length,-1/3)))},a.thresholdSturges=jj,a.max=pD,a.mean=function(b,g){var c,e=b.length,d=e,a=-1,f=0;if(null==g)for(;++a<e;)isNaN(c=aC(b[a]))?--d:f+=c;else for(;++a<e;)isNaN(c=aC(g(b[a],a,b)))?--d:f+=c;if(d)return f/d},a.median=function(b,e){var c,f=b.length,a=-1,d=[];if(null==e)for(;++a<f;)isNaN(c=aC(b[a]))||d.push(c);else for(;++a<f;)isNaN(c=aC(e(b[a],a,b)))||d.push(c);return dr(d.sort(bg),.5)},a.merge=jQ,a.min=pB,a.pairs=function(a,b){null==b&&(b=pP);for(var c=0,d=a.length-1,e=a[0],f=new Array(d<0?0:d);c<d;)f[c]=b(e,e=a[++c]);return f},a.permute=function(d,b){for(var a=b.length,c=new Array(a);a--;)c[a]=d[b[a]];return c},a.quantile=dr,a.range=R,a.scan=function(e,b){if(f=e.length){var f,g,c=0,d=0,a=e[d];for(null==b&&(b=bg);++c<f;)(b(g=e[c],a)<0||0!==b(a,a))&&(a=g,d=c);return 0===b(a,a)?d:void 0}},a.shuffle=function(b,a,e){for(var f,d,c=(null==e?b.length:e)-(a=null==a?0:+a);c;)d=Math.random()*c--|0,f=b[c+a],b[c+a]=b[d+a],b[d+a]=f;return b},a.sum=function(b,e){var c,f=b.length,a=-1,d=0;if(null==e)for(;++a<f;)(c=+b[a])&&(d+=c);else for(;++a<f;)(c=+e(b[a],a,b))&&(d+=c);return d},a.ticks=jo,a.tickIncrement=du,a.tickStep=aZ,a.transpose=pz,a.variance=pN,a.zip=function(){return pz(arguments)},a.axisTop=function(a){return ew(dj,a)},a.axisRight=function(a){return ew(di,a)},a.axisBottom=function(a){return ew(eo,a)},a.axisLeft=function(a){return ew(bV,a)},a.brush=function(){return io(mw)},a.brushX=function(){return io(dC)},a.brushY=function(){return io(cI)},a.brushSelection=function(b){var a=b.__brush;return a?a.dim.output(a.selection):null},a.chord=function(){var c=0,d=null,e=null,b=null;function a(j){var k,h,u,v,f,g,a=j.length,m=[],s=R(a),q=[],n=[],w=n.groups=new Array(a),p=new Array(a*a),i,r,t,x,y,l,o;for(k=0,f=-1;++f<a;){for(h=0,g=-1;++g<a;)h+=j[f][g];m.push(h),q.push(R(a)),k+=h}for(d&&s.sort(function(a,b){return d(m[a],m[b])}),e&&q.forEach(function(b,a){b.sort(function(b,c){return e(j[a][b],j[a][c])})}),v=(k=ia(0,ig-c*a)/k)?c:ig/a,h=0,f=-1;++f<a;){for(u=h,g=-1;++g<a;)i=s[f],r=q[i][g],t=j[i][r],x=h,y=h+=t*k,p[r*a+i]={index:i,subindex:r,startAngle:x,endAngle:y,value:t};w[i]={index:i,startAngle:u,endAngle:h,value:m[i]},h+=v}for(f=-1;++f<a;)for(g=f-1;++g<a;)l=p[g*a+f],o=p[f*a+g],(l.value||o.value)&&n.push(l.value<o.value?{source:o,target:l}:{source:l,target:o});return b?n.sort(b):n}return a.padAngle=function(b){return arguments.length?(c=ia(0,b),a):c},a.sortGroups=function(b){return arguments.length?(d=b,a):d},a.sortSubgroups=function(b){return arguments.length?(e=b,a):e},a.sortChords=function(c){return arguments.length?(null==c?b=null:(d=c,b=function(a,b){return d(a.source.value+a.target.value,b.source.value+b.target.value)})._=c,a):b&&b._;var d},a},a.ribbon=function(){var g=ss,f=sr,c=sq,d=sp,e=so,b=null;function a(){var j,a=mq.call(arguments),q=g.apply(this,a),r=f.apply(this,a),l=+c.apply(this,(a[0]=q,a)),i=d.apply(this,a)-cB,n=e.apply(this,a)-cB,o=l*im(i),m=l*ij(i),k=+c.apply(this,(a[0]=r,a)),h=d.apply(this,a)-cB,p=e.apply(this,a)-cB;if(b||(b=j=au()),b.moveTo(o,m),b.arc(0,0,l,i,n),i===h&&n===p||(b.quadraticCurveTo(0,0,k*im(h),k*ij(h)),b.arc(0,0,k,h,p)),b.quadraticCurveTo(0,0,o,m),b.closePath(),j)return b=null,j+""||null}return a.radius=function(b){return arguments.length?(c="function"==typeof b?b:hY(+b),a):c},a.startAngle=function(b){return arguments.length?(d="function"==typeof b?b:hY(+b),a):d},a.endAngle=function(b){return arguments.length?(e="function"==typeof b?b:hY(+b),a):e},a.source=function(b){return arguments.length?(g=b,a):g},a.target=function(b){return arguments.length?(f=b,a):f},a.context=function(c){return arguments.length?(b=null==c?null:c,a):b},a},a.nest=function(){var e,c,b,a=[],f=[];function d(b,f,i,j){if(f>=a.length)return null!=e&&b.sort(e),null!=c?c(b):b;for(var m,h,k,l=-1,o=b.length,p=a[f++],g=am(),n=i();++l<o;)(k=g.get(m=p(h=b[l])+""))?k.push(h):g.set(m,[h]);return g.each(function(a,b){j(n,b,d(a,f,i,j))}),n}return b={object:function(a){return d(a,0,sn,sm)},map:function(a){return d(a,0,mj,mi)},entries:function(b){return function h(e,d){if(++d>a.length)return e;var b,g=f[d-1];return null!=c&&d>=a.length?b=e.entries():(b=[],e.each(function(a,c){b.push({key:c,values:h(a,d)})})),null!=g?b.sort(function(a,b){return g(a.key,b.key)}):b}(d(b,0,mj,mi),0)},key:function(c){return a.push(c),b},sortKeys:function(c){return f[a.length-1]=c,b},sortValues:function(a){return e=a,b},rollup:function(a){return c=a,b}}},a.set=mf,a.map=am,a.keys=function(b){var a=[],c;for(c in b)a.push(c);return a},a.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b},a.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b},a.color=aG,a.rgb=bt,a.hsl=fH,a.lab=fM,a.hcl=fX,a.lch=function(a,c,d,b){return 1===arguments.length?oa(a):new ah(d,c,a,null==b?1:b)},a.gray=function(b,a){return new _(b,0,0,null==a?1:a)},a.cubehelix=U,a.contours=lZ,a.contourDensity=function(){var l=sg,i=sf,j=se,h=960,g=500,e=20,b=2,f=3*e,a=h+2*f>>b,c=g+2*f>>b,k=aH(20);function d(o){var d=new Float32Array(a*c),h=new Float32Array(a*c),g,m;return o.forEach(function(e,g,h){var k=+l(e,g,h)+f>>b,m=+i(e,g,h)+f>>b,n=+j(e,g,h);k>=0&&k<a&&m>=0&&m<c&&(d[k+m*a]+=n)}),hj({width:a,height:c,data:d},{width:a,height:c,data:h},e>>b),hf({width:a,height:c,data:h},{width:a,height:c,data:d},e>>b),hj({width:a,height:c,data:d},{width:a,height:c,data:h},e>>b),hf({width:a,height:c,data:h},{width:a,height:c,data:d},e>>b),hj({width:a,height:c,data:d},{width:a,height:c,data:h},e>>b),hf({width:a,height:c,data:h},{width:a,height:c,data:d},e>>b),g=k(d),Array.isArray(g)||(m=pD(d),g=aZ(0,m,g),(g=R(0,Math.floor(m/g)*g,g)).shift()),lZ().thresholds(g).size([a,c])(d).map(n)}function n(a){return a.value*=Math.pow(2,-2*b),a.coordinates.forEach(o),a}function o(a){a.forEach(p)}function p(a){a.forEach(q)}function q(a){a[0]=a[0]*Math.pow(2,b)-f,a[1]=a[1]*Math.pow(2,b)-f}function m(){return a=h+2*(f=3*e)>>b,c=g+2*f>>b,d}return d.x=function(a){return arguments.length?(l="function"==typeof a?a:aH(+a),d):l},d.y=function(a){return arguments.length?(i="function"==typeof a?a:aH(+a),d):i},d.weight=function(a){return arguments.length?(j="function"==typeof a?a:aH(+a),d):j},d.size=function(b){if(!arguments.length)return[h,g];var a=Math.ceil(b[0]),c=Math.ceil(b[1]);if(!(a>=0||a>=0))throw new Error("invalid size");return h=a,g=c,m()},d.cellSize=function(a){if(!arguments.length)return 1<<b;if(!((a=+a)>=1))throw new Error("invalid cell size");return b=Math.floor(Math.log(a)/Math.LN2),m()},d.thresholds=function(a){return arguments.length?(k="function"==typeof a?a:Array.isArray(a)?aH(hs.call(a)):aH(a),d):k},d.bandwidth=function(a){if(!arguments.length)return Math.sqrt(e*(e+1));if(!((a=+a)>=0))throw new Error("invalid bandwidth");return e=Math.round((Math.sqrt(4*a*a+1)-1)/2),m()},d},a.dispatch=bi,a.drag=function(){var n,m,g,d,e=sG,f=sF,k=sE,j=sD,c={},h=bi("start","drag","end"),i=0,l=0;function b(a){a.on("mousedown.drag",u).filter(j).on("touchstart.drag",r).on("touchmove.drag",s).on("touchend.drag touchcancel.drag",t).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){if(!d&&e.apply(this,arguments)){var b=o("mouse",f.apply(this,arguments),at,this,arguments);b&&(K(a.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",q,!0),fq(a.event.view),hq(),g=!1,n=a.event.clientX,m=a.event.clientY,b("start"))}}function p(){if(br(),!g){var b=a.event.clientX-n,d=a.event.clientY-m;g=b*b+d*d>l}c.mouse("drag")}function q(){K(a.event.view).on("mousemove.drag mouseup.drag",null),fr(a.event.view,g),br(),c.mouse("end")}function r(){if(e.apply(this,arguments)){var b,c,d=a.event.changedTouches,g=f.apply(this,arguments),h=d.length;for(b=0;b<h;++b)(c=o(d[b].identifier,g,fk,this,arguments))&&(hq(),c("start"))}}function s(){var b,d,e=a.event.changedTouches,f=e.length;for(b=0;b<f;++b)(d=c[e[b].identifier])&&(br(),d("drag"))}function t(){var b,e,f=a.event.changedTouches,g=f.length;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),b=0;b<g;++b)(e=c[f[b].identifier])&&(hq(),e("end"))}function o(e,j,o,p,l){var f,m,n,d=o(j,e),g=h.copy();if(cQ(new hc(b,"beforestart",f,e,i,d[0],d[1],0,0,g),function(){return null!=(a.event.subject=f=k.apply(p,l))&&(m=f.x-d[0]||0,n=f.y-d[1]||0,!0)}))return function q(a){var h,k=d;switch(a){case"start":c[e]=q,h=i++;break;case"end":delete c[e],--i;case"drag":d=o(j,e),h=i}cQ(new hc(b,a,f,e,h,d[0]+m,d[1]+n,d[0]-k[0],d[1]-k[1],g),g.apply,g,[a,p,l])}}return b.filter=function(a){return arguments.length?(e="function"==typeof a?a:ft(!!a),b):e},b.container=function(a){return arguments.length?(f="function"==typeof a?a:ft(a),b):f},b.subject=function(a){return arguments.length?(k="function"==typeof a?a:ft(a),b):k},b.touchable=function(a){return arguments.length?(j="function"==typeof a?a:ft(!!a),b):j},b.on=function(){var a=h.on.apply(h,arguments);return a===h?b:a},b.clickDistance=function(a){return arguments.length?(l=(a=+a)*a,b):Math.sqrt(l)},b},a.dragDisable=fq,a.dragEnable=fr,a.dsvFormat=fC,a.csvParse=ha,a.csvParseRows=lS,a.csvFormat=lR,a.csvFormatRows=lQ,a.tsvParse=gJ,a.tsvParseRows=lP,a.tsvFormat=lO,a.tsvFormatRows=lN,a.easeLinear=function(a){return+a},a.easeQuad=mZ,a.easeQuadIn=function(a){return a*a},a.easeQuadOut=function(a){return a*(2-a)},a.easeQuadInOut=mZ,a.easeCubic=jt,a.easeCubicIn=function(a){return a*a*a},a.easeCubicOut=function(a){return--a*a*a+1},a.easeCubicInOut=jt,a.easePoly=jr,a.easePolyIn=mY,a.easePolyOut=mX,a.easePolyInOut=jr,a.easeSin=mW,a.easeSinIn=function(a){return 1-Math.cos(a*jm)},a.easeSinOut=function(a){return Math.sin(a*jm)},a.easeSinInOut=mW,a.easeExp=mV,a.easeExpIn=function(a){return Math.pow(2,10*a-10)},a.easeExpOut=function(a){return 1-Math.pow(2,-10*a)},a.easeExpInOut=mV,a.easeCircle=mT,a.easeCircleIn=function(a){return 1-Math.sqrt(1-a*a)},a.easeCircleOut=function(a){return Math.sqrt(1- --a*a)},a.easeCircleInOut=mT,a.easeBounce=dk,a.easeBounceIn=function(a){return 1-dk(1-a)},a.easeBounceOut=dk,a.easeBounceInOut=function(a){return((a*=2)<=1?1-dk(1-a):dk(a-1)+1)/2},a.easeBack=iX,a.easeBackIn=mI,a.easeBackOut=mH,a.easeBackInOut=iX,a.easeElastic=iV,a.easeElasticIn=mG,a.easeElasticOut=iV,a.easeElasticInOut=mF,a.blob=function(a,b){return fetch(a,b).then(sd)},a.buffer=function(a,b){return fetch(a,b).then(sc)},a.dsv=function(c,d,a,b){3===arguments.length&&"function"==typeof a&&(b=a,a=void 0);var e=fC(c);return fQ(d,a).then(function(a){return e.parse(a,b)})},a.csv=lC,a.tsv=lA,a.image=function(b,a){return new Promise(function(e,f){var c=new Image,d;for(d in a)c[d]=a[d];c.onerror=f,c.onload=function(){e(c)},c.src=b})},a.json=function(a,b){return fetch(a,b).then(sa)},a.text=fQ,a.xml=lu,a.html=lt,a.svg=lr,a.forceCenter=function(b,c){var d;function a(){var a,e,f=d.length,g=0,h=0;for(a=0;a<f;++a)g+=(e=d[a]).x,h+=e.y;for(g=g/f-b,h=h/f-c,a=0;a<f;++a)(e=d[a]).x-=g,e.y-=h}return null==b&&(b=0),null==c&&(c=0),a.initialize=function(a){d=a},a.x=function(c){return arguments.length?(b=+c,a):b},a.y=function(b){return arguments.length?(c=+b,a):c},a},a.forceCollide=function(c){var a,d,e=1,f=1;function b(){for(var c,k,b,g,i,j,l,n=a.length,m=0;m<f;++m)for(k=fW(a,rZ,rY).visitAfter(h),c=0;c<n;++c)b=a[c],j=d[b.index],l=j*j,g=b.x+b.vx,i=b.y+b.vy,k.visit(o);function o(m,n,o,p,q){var d=m.data,k=m.r,a=j+k,f,h,c;if(!d)return n>g+a||p<g-a||o>i+a||q<i-a;d.index>b.index&&(f=g-d.x-d.vx,h=i-d.y-d.vy,c=f*f+h*h,c<a*a&&(0===f&&(c+=(f=aE())*f),0===h&&(c+=(h=aE())*h),c=(a-(c=Math.sqrt(c)))/c*e,b.vx+=(f*=c)*(a=(k*=k)/(l+k)),b.vy+=(h*=c)*a,d.vx-=f*(a=1-a),d.vy-=h*a))}}function h(a){if(a.data)return a.r=d[a.data.index];for(var b=a.r=0;b<4;++b)a[b]&&a[b].r>a.r&&(a.r=a[b].r)}function g(){if(a){var b,e,f=a.length;for(d=new Array(f),b=0;b<f;++b)e=a[b],d[e.index]=+c(e,b,a)}}return"function"!=typeof c&&(c=s(null==c?1:+c)),b.initialize=function(b){a=b,g()},b.iterations=function(a){return arguments.length?(f=+a,b):f},b.strength=function(a){return arguments.length?(e=+a,b):e},b.radius=function(a){return arguments.length?(c="function"==typeof a?a:s(+a),g(),b):c},b},a.forceLink=function(a){var k,h,d,c,f,g=rX,e=function(a){return 1/Math.min(c[a.source.index],c[a.target.index])},i=s(30),j=1;function b(o){for(var m=0,p=a.length,n,b,e,c,d,l,i,g;m<j;++m)for(n,b,e,c,d,l,i,g=0;g<p;++g)b=(n=a[g]).source,c=(e=n.target).x+e.vx-b.x-b.vx||aE(),d=e.y+e.vy-b.y-b.vy||aE(),c*=l=((l=Math.sqrt(c*c+d*d))-h[g])/l*o*k[g],d*=l,e.vx-=c*(i=f[g]),e.vy-=d*i,b.vx+=c*(i=1-i),b.vy+=d*i}function l(){if(d){var e,b,l=d.length,i=a.length,j=am(d,g);for(e=0,c=new Array(l);e<i;++e)(b=a[e]).index=e,"object"!=typeof b.source&&(b.source=lg(j,b.source)),"object"!=typeof b.target&&(b.target=lg(j,b.target)),c[b.source.index]=(c[b.source.index]||0)+1,c[b.target.index]=(c[b.target.index]||0)+1;for(e=0,f=new Array(i);e<i;++e)b=a[e],f[e]=c[b.source.index]/(c[b.source.index]+c[b.target.index]);k=new Array(i),m(),h=new Array(i),n()}}function m(){if(d)for(var b=0,c=a.length;b<c;++b)k[b]=+e(a[b],b,a)}function n(){if(d)for(var b=0,c=a.length;b<c;++b)h[b]=+i(a[b],b,a)}return null==a&&(a=[]),b.initialize=function(a){d=a,l()},b.links=function(c){return arguments.length?(a=c,l(),b):a},b.id=function(a){return arguments.length?(g=a,b):g},b.iterations=function(a){return arguments.length?(j=+a,b):j},b.strength=function(a){return arguments.length?(e="function"==typeof a?a:s(+a),m(),b):e},b.distance=function(a){return arguments.length?(i="function"==typeof a?a:s(+a),n(),b):i},b},a.forceManyBody=function(){var c,b,g,e,h=s(-30),d=1,f=1/0,i=.81;function a(d){var a,e=c.length,f=fW(c,rW,rV).visitAfter(k);for(g=d,a=0;a<e;++a)b=c[a],f.visit(l)}function j(){if(c){var a,b,d=c.length;for(e=new Array(d),a=0;a<d;++a)b=c[a],e[b.index]=+h(b,a,c)}}function k(b){var a,c,f,g,d,h=0,i=0;if(b.length){for(f=g=d=0;d<4;++d)(a=b[d])&&(c=Math.abs(a.value))&&(h+=a.value,i+=c,f+=c*a.x,g+=c*a.y);b.x=f/i,b.y=g/i}else{(a=b).x=a.data.x,a.y=a.data.y;do h+=e[a.data.index];while(a=a.next)}b.value=h}function l(c,m,n,l){if(!c.value)return!0;var h=c.x-b.x,j=c.y-b.y,k=l-m,a=h*h+j*j;if(k*k/i<a)return a<f&&(0===h&&(a+=(h=aE())*h),0===j&&(a+=(j=aE())*j),a<d&&(a=Math.sqrt(d*a)),b.vx+=h*c.value*g/a,b.vy+=j*c.value*g/a),!0;if(!(c.length||a>=f)){(c.data!==b||c.next)&&(0===h&&(a+=(h=aE())*h),0===j&&(a+=(j=aE())*j),a<d&&(a=Math.sqrt(d*a)));do c.data!==b&&(k=e[c.data.index]*g/a,b.vx+=h*k,b.vy+=j*k);while(c=c.next)}}return a.initialize=function(a){c=a,j()},a.strength=function(b){return arguments.length?(h="function"==typeof b?b:s(+b),j(),a):h},a.distanceMin=function(b){return arguments.length?(d=b*b,a):Math.sqrt(d)},a.distanceMax=function(b){return arguments.length?(f=b*b,a):Math.sqrt(f)},a.theta=function(b){return arguments.length?(i=b*b,a):Math.sqrt(i)},a},a.forceRadial=function(c,e,d){var b,g,f,h=s(.1);function a(m){for(var a=0,l=b.length,c,h,i,j,k;a<l;++a)c=b[a],h=c.x-e||1e-6,i=c.y-d||1e-6,j=Math.sqrt(h*h+i*i),k=(f[a]-j)*g[a]*m/j,c.vx+=h*k,c.vy+=i*k}function i(){if(b){var a,d=b.length;for(g=new Array(d),f=new Array(d),a=0;a<d;++a)f[a]=+c(b[a],a,b),g[a]=isNaN(f[a])?0:+h(b[a],a,b)}}return"function"!=typeof c&&(c=s(+c)),null==e&&(e=0),null==d&&(d=0),a.initialize=function(a){b=a,i()},a.strength=function(b){return arguments.length?(h="function"==typeof b?b:s(+b),i(),a):h},a.radius=function(b){return arguments.length?(c="function"==typeof b?b:s(+b),i(),a):c},a.x=function(b){return arguments.length?(e=+b,a):e},a.y=function(b){return arguments.length?(d=+b,a):d},a},a.forceSimulation=function(b){var a,c=1,f=.001,h=1-Math.pow(f,1/300),i=0,e=.6,d=am(),j=ed(k),g=bi("tick","end");function k(){l(),g.call("tick",a),c<f&&(j.stop(),g.call("end",a))}function l(){var f,a,g=b.length;for(c+=(i-c)*h,d.each(function(a){a(c)}),f=0;f<g;++f)null==(a=b[f]).fx?a.x+=a.vx*=e:(a.x=a.fx,a.vx=0),null==a.fy?a.y+=a.vy*=e:(a.y=a.fy,a.vy=0)}function m(){for(var a,c=0,f=b.length,d,e;c<f;++c)((a=b[c]).index=c,isNaN(a.x)||isNaN(a.y))&&(d=le*Math.sqrt(c),e=c*ld,a.x=d*Math.cos(e),a.y=d*Math.sin(e)),(isNaN(a.vx)||isNaN(a.vy))&&(a.vx=a.vy=0)}function n(a){return a.initialize&&a.initialize(b),a}return null==b&&(b=[]),m(),a={tick:l,restart:function(){return j.restart(k),a},stop:function(){return j.stop(),a},nodes:function(c){return arguments.length?(b=c,m(),d.each(n),a):b},alpha:function(b){return arguments.length?(c=+b,a):c},alphaMin:function(b){return arguments.length?(f=+b,a):f},alphaDecay:function(b){return arguments.length?(h=+b,a):+h},alphaTarget:function(b){return arguments.length?(i=+b,a):i},velocityDecay:function(b){return arguments.length?(e=1-b,a):1-e},force:function(b,c){return arguments.length>1?(null==c?d.remove(b):d.set(b,n(c)),a):d.get(b)},find:function(i,j,a){var f,g,h,d,e,c=0,k=b.length;for(null==a?a=1/0:a*=a,c=0;c<k;++c)(h=(f=i-(d=b[c]).x)*f+(g=j-d.y)*g)<a&&(e=d,a=h);return e},on:function(b,c){return arguments.length>1?(g.on(b,c),a):g.on(b)}}},a.forceX=function(b){var a,d,e,f=s(.1);function c(f){for(var c,b=0,g=a.length;b<g;++b)(c=a[b]).vx+=(e[b]-c.x)*d[b]*f}function g(){if(a){var c,g=a.length;for(d=new Array(g),e=new Array(g),c=0;c<g;++c)d[c]=isNaN(e[c]=+b(a[c],c,a))?0:+f(a[c],c,a)}}return"function"!=typeof b&&(b=s(null==b?0:+b)),c.initialize=function(b){a=b,g()},c.strength=function(a){return arguments.length?(f="function"==typeof a?a:s(+a),g(),c):f},c.x=function(a){return arguments.length?(b="function"==typeof a?a:s(+a),g(),c):b},c},a.forceY=function(b){var a,d,e,f=s(.1);function c(f){for(var c,b=0,g=a.length;b<g;++b)(c=a[b]).vy+=(e[b]-c.y)*d[b]*f}function g(){if(a){var c,g=a.length;for(d=new Array(g),e=new Array(g),c=0;c<g;++c)d[c]=isNaN(e[c]=+b(a[c],c,a))?0:+f(a[c],c,a)}}return"function"!=typeof b&&(b=s(null==b?0:+b)),c.initialize=function(b){a=b,g()},c.strength=function(a){return arguments.length?(f="function"==typeof a?a:s(+a),g(),c):f},c.y=function(a){return arguments.length?(b="function"==typeof a?a:s(+a),g(),c):b},c},a.formatDefaultLocale=k_,a.formatLocale=k$,a.formatSpecifier=ct,a.precisionFixed=kZ,a.precisionPrefix=kY,a.precisionRound=kX,a.geoArea=function(a){return cN.reset(),X(a,Y),2*cN},a.geoBounds=function(h){var c,e,a,b,d,f,g;if(O=q=-(n=L=1/0),aq=[],X(h,aa),e=aq.length){for(aq.sort(rP),c=1,d=[a=aq[0]];c<e;++c)kF(a,(b=aq[c])[0])||kF(a,b[1])?(P(a[0],b[1])>P(a[0],a[1])&&(a[1]=b[1]),P(b[0],a[1])>P(a[0],a[1])&&(a[0]=b[0])):d.push(a=b);for(f=-1/0,c=0,a=d[e=d.length-1];c<=e;a=b,++c)b=d[c],(g=P(a[1],b[0]))>f&&(f=g,n=b[0],q=a[1])}return aq=al=null,n===1/0||L===1/0?[[NaN,NaN],[NaN,NaN]]:[[n,L],[q,O]]},a.geoCentroid=function(f){cR=cS=cT=cW=cX=cY=cZ=c_=eU=eT=eQ=0,X(f,S);var a=eU,b=eT,c=eQ,e=a*a+b*b+c*c;return e<fI&&(a=cY,b=cZ,c=c_,cS<d&&(a=cT,b=cW,c=cX),(e=a*a+b*b+c*c)<fI)?[NaN,NaN]:[E(b,a)*l,G(c/r(e))*l]},a.geoCircle=function(){var b,c,d=bO([0,0]),f=bO(90),g=bO(6),h={point:function(a,d){b.push(a=c(a,d)),a[0]*=l,a[1]*=l}};function a(){var a=d.apply(this,arguments),i=f.apply(this,arguments)*e,j=g.apply(this,arguments)*e;return b=[],c=iE(-a[0]*e,-a[1]*e,0).invert,ko(h,i,j,1),a={type:"Polygon",coordinates:[b]},b=c=null,a}return a.center=function(b){return arguments.length?(d="function"==typeof b?b:bO([+b[0],+b[1]]),a):d},a.radius=function(b){return arguments.length?(f="function"==typeof b?b:bO(+b),a):f},a.precision=function(b){return arguments.length?(g="function"==typeof b?b:bO(+b),a):g},a},a.geoClipAntimeridian=ei,a.geoClipCircle=kf,a.geoClipExtent=function(){var a,b,g,c=0,d=0,e=960,f=500;return g={stream:function(g){return a&&b===g?a:a=ea(c,d,e,f)(b=g)},extent:function(h){return arguments.length?(c=+h[0][0],d=+h[0][1],e=+h[1][0],f=+h[1][1],a=b=null,g):[[c,d],[e,f]]}}},a.geoClipRectangle=ea,a.geoContains=function(a,b){return(a&&gI.hasOwnProperty(a.type)?gI[a.type]:dQ)(a,b)},a.geoDistance=dt,a.geoGraticule=jV,a.geoGraticule10=function(){return jV()()},a.geoInterpolate=function(n,k){var d=n[0]*e,f=n[1]*e,g=k[0]*e,h=k[1]*e,i=c(f),u=b(f),j=c(h),t=b(h),v=i*c(d),p=i*b(d),q=j*c(g),s=j*b(g),a=2*G(r(kV(h-f)+i*j*kV(g-d))),m=b(a),o=a?function(g){var c=b(g*=a)/m,d=b(a-g)/m,e=d*v+c*q,f=d*p+c*s,h=d*u+c*t;return[E(f,e)*l,E(h,r(e*e+f*f))*l]}:function(){return[d*l,f*l]};return o.distance=a,o},a.geoLength=ke,a.geoPath=function(e,f){var b,c,d=4.5;function a(a){return a&&("function"==typeof d&&c.pointRadius(+d.apply(this,arguments)),X(a,b(c))),c.result()}return a.area=function(a){return X(a,b(ac)),ac.result()},a.measure=function(a){return X(a,b(bT)),bT.result()},a.bounds=function(a){return X(a,b(dA)),dA.result()},a.centroid=function(a){return X(a,b(N)),N.result()},a.projection=function(c){return arguments.length?(b=null==c?(e=null,aP):(e=c).stream,a):e},a.context=function(b){return arguments.length?(c=null==b?(f=null,new kr):new kh(f=b),"function"!=typeof d&&c.pointRadius(d),a):f},a.pointRadius=function(b){return arguments.length?(d="function"==typeof b?b:(c.pointRadius(+b),+b),a):d},a.projection(e).context(f)},a.geoAlbers=kK,a.geoAlbersUsa=function(){var g,i,j,k,l,f,b=kK(),c=eK().rotate([154,0]).center([-2,58.5]).parallels([55,65]),e=eK().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(a,b){f=[a,b]}};function a(c){var a=c[0],b=c[1];return f=null,j.point(a,b),f||(k.point(a,b),f)||(l.point(a,b),f)}function m(){return g=i=null,a}return a.invert=function(f){var g=b.scale(),h=b.translate(),a=(f[0]-h[0])/g,d=(f[1]-h[1])/g;return(d>=.12&&d<.234&&a>=-.425&&a<-.214?c:d>=.166&&d<.234&&a>=-.214&&a<-.115?e:b).invert(f)},a.stream=function(f){return g&&i===f?g:(a=[b.stream(i=f),c.stream(f),e.stream(f)],d=a.length,g={point:function(c,e){for(var b=-1;++b<d;)a[b].point(c,e)},sphere:function(){for(var b=-1;++b<d;)a[b].sphere()},lineStart:function(){for(var b=-1;++b<d;)a[b].lineStart()},lineEnd:function(){for(var b=-1;++b<d;)a[b].lineEnd()},polygonStart:function(){for(var b=-1;++b<d;)a[b].polygonStart()},polygonEnd:function(){for(var b=-1;++b<d;)a[b].polygonEnd()}});var a,d},a.precision=function(a){return arguments.length?(b.precision(a),c.precision(a),e.precision(a),m()):b.precision()},a.scale=function(d){return arguments.length?(b.scale(d),c.scale(.35*d),e.scale(d),a.translate(b.translate())):b.scale()},a.translate=function(i){if(!arguments.length)return b.translate();var a=b.scale(),f=+i[0],g=+i[1];return j=b.translate(i).clipExtent([[f-.455*a,g-.238*a],[f+.455*a,g+.238*a]]).stream(h),k=c.translate([f-.307*a,g+.201*a]).clipExtent([[f-.425*a+d,g+.12*a+d],[f-.214*a-d,g+.234*a-d]]).stream(h),l=e.translate([f-.205*a,g+.212*a]).clipExtent([[f-.214*a+d,g+.166*a+d],[f-.115*a-d,g+.234*a-d]]).stream(h),m()},a.fitExtent=function(b,c){return ez(a,b,c)},a.fitSize=function(b,c){return iz(a,b,c)},a.fitWidth=function(b,c){return ix(a,b,c)},a.fitHeight=function(b,c){return iw(a,b,c)},a.scale(1070)},a.geoAzimuthalEqualArea=function(){return ak(eL).scale(124.75).clipAngle(179.999)},a.geoAzimuthalEqualAreaRaw=eL,a.geoAzimuthalEquidistant=function(){return ak(eN).scale(79.4188).clipAngle(179.999)},a.geoAzimuthalEquidistantRaw=eN,a.geoConicConformal=function(){return ik(kS).scale(109.5).parallels([30,30])},a.geoConicConformalRaw=kS,a.geoConicEqualArea=eK,a.geoConicEqualAreaRaw=kI,a.geoConicEquidistant=function(){return ik(kU).scale(131.154).center([0,13.9389])},a.geoConicEquidistantRaw=kU,a.geoEqualEarth=function(){return ak(gB).scale(177.158)},a.geoEqualEarthRaw=gB,a.geoEquirectangular=function(){return ak(cL).scale(152.63)},a.geoEquirectangularRaw=cL,a.geoGnomonic=function(){return ak(gA).scale(144.049).clipAngle(60)},a.geoGnomonicRaw=gA,a.geoIdentity=function(){var n,l,k,j,o,c,a=1,i=0,g=0,f=1,e=1,d=aP,h=null,m=aP;function b(){return j=o=null,c}return c={stream:function(a){return j&&o===a?j:j=d(m(o=a))},postclip:function(a){return arguments.length?(m=a,h=n=l=k=null,b()):m},clipExtent:function(a){return arguments.length?(m=null==a?(h=n=l=k=null,aP):ea(h=+a[0][0],n=+a[0][1],l=+a[1][0],k=+a[1][1]),b()):null==h?null:[[h,n],[l,k]]},scale:function(c){return arguments.length?(d=fL((a=+c)*f,a*e,i,g),b()):a},translate:function(c){return arguments.length?(d=fL(a*f,a*e,i=+c[0],g=+c[1]),b()):[i,g]},reflectX:function(c){return arguments.length?(d=fL(a*(f=c?-1:1),a*e,i,g),b()):f<0},reflectY:function(c){return arguments.length?(d=fL(a*f,a*(e=c?-1:1),i,g),b()):e<0},fitExtent:function(a,b){return ez(c,a,b)},fitSize:function(a,b){return iz(c,a,b)},fitWidth:function(a,b){return ix(c,a,b)},fitHeight:function(a,b){return iw(c,a,b)}}},a.geoProjection=ak,a.geoProjectionMutator=il,a.geoMercator=function(){return kQ(cP).scale(961/H)},a.geoMercatorRaw=cP,a.geoNaturalEarth1=function(){return ak(gv).scale(175.295)},a.geoNaturalEarth1Raw=gv,a.geoOrthographic=function(){return ak(gs).scale(249.5).clipAngle(90+d)},a.geoOrthographicRaw=gs,a.geoStereographic=function(){return ak(go).scale(250).clipAngle(142)},a.geoStereographicRaw=go,a.geoTransverseMercator=function(){var a=kQ(gn),c=a.center,b=a.rotate;return a.center=function(a){return arguments.length?c([-a[1],a[0]]):[(a=c())[1],-a[0]]},a.rotate=function(a){return arguments.length?b([a[0],a[1],a.length>2?a[2]+90:90]):[(a=b())[0],a[1],a[2]-90]},b([0,0,90]).scale(159.155)},a.geoTransverseMercatorRaw=gn,a.geoRotation=kp,a.geoStream=X,a.geoTransform=function(a){return{stream:de(a)}},a.cluster=function(){var d=rp,b=1,c=1,e=!1;function a(a){var f,j=0,g,h,i,k;return a.eachAfter(function(a){var b=a.children;b?(a.x=function(a){return a.reduce(ro,0)/a.length}(b),a.y=function(a){return 1+a.reduce(rn,0)}(b)):(a.x=f?j+=d(a,f):0,a.y=0,f=a)}),g=function(a){for(var b;b=a.children;)a=b[0];return a}(a),h=function(a){for(var b;b=a.children;)a=b[b.length-1];return a}(a),i=g.x-d(g,h)/2,k=h.x+d(h,g)/2,a.eachAfter(e?function(d){d.x=(d.x-a.x)*b,d.y=(a.y-d.y)*c}:function(d){d.x=(d.x-i)/(k-i)*b,d.y=(1-(a.y?d.y/a.y:1))*c})}return a.separation=function(b){return arguments.length?(d=b,a):d},a.size=function(d){return arguments.length?(e=!1,b=+d[0],c=+d[1],a):e?null:[b,c]},a.nodeSize=function(d){return arguments.length?(e=!0,b=+d[0],c=+d[1],a):e?[b,c]:null},a},a.hierarchy=gi,a.pack=function(){var d=null,b=1,c=1,e=bf;function a(a){return a.x=b/2,a.y=c/2,d?a.eachBefore(lG(d)).eachAfter(jR(e,.5)).eachBefore(lI(1)):a.eachBefore(lG(rf)).eachAfter(jR(bf,1)).eachAfter(jR(e,a.r/Math.min(b,c))).eachBefore(lI(Math.min(b,c)/(2*a.r))),a}return a.radius=function(c){return arguments.length?(d=null==(b=c)?null:fS(b),a):d;var b},a.size=function(d){return arguments.length?(b=+d[0],c=+d[1],a):[b,c]},a.padding=function(b){return arguments.length?(e="function"==typeof b?b:bY(+b),a):e},a},a.packSiblings=function(a){return lB(a),a},a.packEnclose=lp,a.partition=function(){var d=1,c=1,b=0,e=!1;function a(a){var f=a.height+1;return a.x0=a.y0=b,a.x1=d,a.y1=c/f,a.eachBefore(function(a,c){return function(d){d.children&&co(d,d.x0,a*(d.depth+1)/c,d.x1,a*(d.depth+2)/c);var e=d.x0,f=d.y0,g=d.x1-b,h=d.y1-b;g<e&&(e=g=(e+g)/2),h<f&&(f=h=(f+h)/2),d.x0=e,d.y0=f,d.x1=g,d.y1=h}}(c,f)),e&&a.eachBefore(lJ),a}return a.round=function(b){return arguments.length?(e=!!b,a):e},a.size=function(b){return arguments.length?(d=+b[0],c=+b[1],a):[d,c]},a.padding=function(c){return arguments.length?(b=+c,a):b},a},a.stratify=function(){var b=re,c=rd;function a(h){var j,a,f,g,e,d,l,i=h.length,m=new Array(i),k={};for(a=0;a<i;++a)j=h[a],e=m[a]=new bQ(j),null!=(d=b(j,a,h))&&(d+="")&&(k[l=gq+(e.id=d)]=l in k?gt:e);for(a=0;a<i;++a)if(e=m[a],null!=(d=c(h[a],a,h))&&(d+="")){if(!(g=k[gq+d]))throw new Error("missing: "+d);if(g===gt)throw new Error("ambiguous: "+d);g.children?g.children.push(e):g.children=[e],e.parent=g}else{if(f)throw new Error("multiple roots");f=e}if(!f)throw new Error("no root");if(f.parent=lM,f.eachBefore(function(a){a.depth=a.parent.depth+1,--i}).eachBefore(lm),f.parent=null,i>0)throw new Error("cycle");return f}return a.id=function(c){return arguments.length?(b=fS(c),a):b},a.parentId=function(b){return arguments.length?(c=fS(b),a):c},a},a.tree=function(){var b=rc,c=1,d=1,e=null;function a(a){var k=function(h){for(var b,e,d,a,f,c=new fv(h,0),g=[c];b=g.pop();)if(d=b._.children)for(b.children=new Array(f=d.length),a=f-1;a>=0;--a)g.push(e=b.children[a]=new fv(d[a],a)),e.parent=b;return(c.parent=new fv(null,0)).children=[c],c}(a),i,j,l,m,n,o,p;return k.eachAfter(f),k.parent.m=-k.z,k.eachBefore(g),e?a.eachBefore(h):(i=a,j=a,l=a,a.eachBefore(function(a){a.x<i.x&&(i=a),a.x>j.x&&(j=a),a.depth>l.depth&&(l=a)}),m=i===j?1:b(i,j)/2,n=m-i.x,o=c/(j.x+m+n),p=d/(l.depth||1),a.eachBefore(function(a){a.x=(a.x+n)*o,a.y=a.depth*p})),a}function f(a){var d=a.children,e=a.parent.children,c=a.i?e[a.i-1]:null,f;d?(!function(e){for(var a,b=0,f=0,c=e.children,d=c.length;--d>=0;)(a=c[d]).z+=b,a.m+=b,b+=a.s+(f+=a.c)}(a),f=(d[0].z+d[d.length-1].z)/2,c?(a.z=c.z+b(a._,c._),a.m=a.z-f):a.z=f):c&&(a.z=c.z+b(a._,c._)),a.parent.A=function(f,l,i){if(l){for(var h,c=f,e=f,a=l,d=c.parent.children[0],g=c.m,j=e.m,k=a.m,m=d.m;a=gY(a),c=gN(c),a&&c;)d=gN(d),(e=gY(e)).a=f,(h=a.z+k-c.z-g+b(a._,c._))>0&&(rb(ra(a,f,i),f,h),g+=h,j+=h),k+=a.m,g+=c.m,m+=d.m,j+=e.m;a&&!gY(e)&&(e.t=a,e.m+=k-j),c&&!gN(d)&&(d.t=c,d.m+=g-m,i=f)}return i}(a,c,a.parent.A||e[0])}function g(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function h(a){a.x*=c,a.y=a.depth*d}return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(b){return arguments.length?(e=!1,c=+b[0],d=+b[1],a):e?null:[c,d]},a.nodeSize=function(b){return arguments.length?(e=!0,c=+b[0],d=+b[1],a):e?[c,d]:null},a},a.treemap=function(){var b=hk,c=!1,d=1,e=1,k=[0],f=bf,g=bf,h=bf,i=bf,j=bf;function a(a){return a.x0=a.y0=0,a.x1=d,a.y1=e,a.eachBefore(l),k=[0],c&&a.eachBefore(lJ),a}function l(a){var c=k[a.depth],d=a.x0+c,e=a.y0+c,l=a.x1-c,m=a.y1-c;l<d&&(d=l=(d+l)/2),m<e&&(e=m=(e+m)/2),a.x0=d,a.y0=e,a.x1=l,a.y1=m,a.children&&(c=k[a.depth+1]=f(a)/2,d+=j(a)-c,e+=g(a)-c,(l-=h(a)-c)<d&&(d=l=(d+l)/2),(m-=i(a)-c)<e&&(e=m=(e+m)/2),b(a,d,e,l,m))}return a.round=function(b){return arguments.length?(c=!!b,a):c},a.size=function(b){return arguments.length?(d=+b[0],e=+b[1],a):[d,e]},a.tile=function(c){return arguments.length?(b=fS(c),a):b},a.padding=function(b){return arguments.length?a.paddingInner(b).paddingOuter(b):a.paddingInner()},a.paddingInner=function(b){return arguments.length?(f="function"==typeof b?b:bY(+b),a):f},a.paddingOuter=function(b){return arguments.length?a.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):a.paddingTop()},a.paddingTop=function(b){return arguments.length?(g="function"==typeof b?b:bY(+b),a):g},a.paddingRight=function(b){return arguments.length?(h="function"==typeof b?b:bY(+b),a):h},a.paddingBottom=function(b){return arguments.length?(i="function"==typeof b?b:bY(+b),a):i},a.paddingLeft=function(b){return arguments.length?(j="function"==typeof b?b:bY(+b),a):j},a},a.treemapBinary=function(e,h,i,j,g){var b,f,c=e.children,d=c.length,a=new Array(d+1);for(a[0]=f=b=0;b<d;++b)a[b+1]=f+=c[b].value;!function m(d,o,l,g,h,e,f){var j,r,n,b,p,q,i,k,s,t;if(d>=o-1)return j=c[d],j.x0=g,j.y0=h,j.x1=e,void(j.y1=f);for(r=a[d],n=l/2+r,b=d+1,p=o-1;b<p;)q=b+p>>>1,a[q]<n?b=q+1:p=q;n-a[b-1]<a[b]-n&&d+1<b&&--b,i=a[b]-r,k=l-i,e-g>f-h?(s=(g*k+e*i)/l,m(d,b,i,g,h,s,f),m(b,o,k,s,h,e,f)):(t=(h*k+f*i)/l,m(d,b,i,g,h,e,t),m(b,o,k,g,t,e,f))}(0,d,e.value,h,i,j,g)},a.treemapDice=co,a.treemapSlice=fu,a.treemapSliceDice=function(a,b,c,d,e){(1&a.depth?fu:co)(a,b,c,d,e)},a.treemapSquarify=hk,a.treemapResquarify=l_,a.interpolate=cu,a.interpolateArray=nU,a.interpolateBasis=n_,a.interpolateBasisClosed=nY,a.interpolateDate=nR,a.interpolateDiscrete=function(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))]}},a.interpolateHue=function(a,b){var c=fp(+a,+b);return function(b){var a=c(b);return a-360*Math.floor(a/360)}},a.interpolateNumber=Q,a.interpolateObject=nQ,a.interpolateRound=nP,a.interpolateString=hC,a.interpolateTransformCss=iv,a.interpolateTransformSvg=iB,a.interpolateZoom=nH,a.interpolateRgb=ch,a.interpolateRgbBasis=hn,a.interpolateRgbBasisClosed=nV,a.interpolateHsl=nz,a.interpolateHslLong=ny,a.interpolateLab=function(a,b){var c=v((a=fM(a)).l,(b=fM(b)).l),d=v(a.a,b.a),e=v(a.b,b.b),f=v(a.opacity,b.opacity);return function(b){return a.l=c(b),a.a=d(b),a.b=e(b),a.opacity=f(b),a+""}},a.interpolateHcl=nw,a.interpolateHclLong=nv,a.interpolateCubehelix=nt,a.interpolateCubehelixLong=cU,a.piecewise=function(f,b){for(var c=0,a=b.length-1,d=b[0],e=new Array(a<0?0:a);c<a;)e[c]=f(d,d=b[++c]);return function(b){var c=Math.max(0,Math.min(a-1,Math.floor(b*=a)));return e[c](b-c)}},a.quantize=function(d,b){for(var c=new Array(b),a=0;a<b;++a)c[a]=d(a/(b-1));return c},a.path=au,a.polygonArea=function(b){for(var c,d=-1,e=b.length,a=b[e-1],f=0;++d<e;)c=a,a=b[d],f+=c[1]*a[0]-c[0]*a[1];return f/2},a.polygonCentroid=function(c){for(var b,d,f=-1,g=c.length,h=0,i=0,a=c[g-1],e=0;++f<g;)b=a,a=c[f],e+=d=b[0]*a[1]-a[0]*b[1],h+=(b[0]+a[0])*d,i+=(b[1]+a[1])*d;return[h/(e*=3),i/e]},a.polygonHull=function(f){var a,d,b,h,e,c,i,j,g;if((d=f.length)<3)return null;b=new Array(d),h=new Array(d);for(a=0;a<d;++a)b[a]=[+f[a][0],+f[a][1],a];for(b.sort(q$),a=0;a<d;++a)h[a]=[b[a][0],-b[a][1]];e=ma(b),c=ma(h),i=c[0]===e[0],j=c[c.length-1]===e[e.length-1],g=[];for(a=e.length-1;a>=0;--a)g.push(f[b[e[a]][2]]);for(a=+i;a<c.length-j;++a)g.push(f[b[c[a]][2]]);return g},a.polygonContains=function(d,i){for(var a,b,k=d.length,c=d[k-1],l=i[0],e=i[1],j=c[0],g=c[1],f=!1,h=0;h<k;++h)a=(c=d[h])[0],(b=c[1])>e!=g>e&&l<(j-a)*(e-b)/(g-b)+a&&(f=!f),j=a,g=b;return f},a.polygonLength=function(d){for(var a,b,e=-1,f=d.length,c=d[f-1],g=c[0],h=c[1],i=0;++e<f;)a=g,b=h,a-=g=(c=d[e])[0],b-=h=c[1],i+=Math.sqrt(a*a+b*b);return i},a.quadtree=fW,a.randomUniform=mc,a.randomNormal=ho,a.randomLogNormal=me,a.randomBates=mg,a.randomIrwinHall=ht,a.randomExponential=mh,a.scaleBand=hF,a.scalePoint=function(){return function b(a){var c=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return b(c())},a}(hF().paddingInner(1))},a.scaleIdentity=function c(){var b=[0,1];function a(a){return+a}return a.invert=a,a.domain=a.range=function(c){return arguments.length?(b=fd.call(c,mp),a):b.slice()},a.copy=function(){return c().domain(b)},bm(a)},a.scaleLinear=function b(){var a=eB(iu,Q);return a.copy=function(){return eC(a,b())},bm(a)},a.scaleLog=function h(){var c=eB(qT,qS).domain([1,10]),f=c.domain,b=10,e=mC(10),d=mB(10);function g(){return e=mC(b),d=mB(b),f()[0]<0&&(e=mD(e),d=mD(d)),c}return c.base=function(a){return arguments.length?(b=+a,g()):b},c.domain=function(a){return arguments.length?(f(a),g()):f()},c.ticks=function(n){var o,m=f(),g=m[0],j=m[m.length-1],l,c,i,a,h,p,k;if((o=j<g)&&(a=g,g=j,j=a),a=e(g),h=e(j),p=null==n?10:+n,k=[],!(b%1)&&h-a<p){if(a=Math.round(a)-1,h=Math.round(h)+1,g>0){for(;a<h;++a)for(c=1,l=d(a);c<b;++c)if(!((i=l*c)<g)){if(i>j)break;k.push(i)}}else for(;a<h;++a)for(c=b-1,l=d(a);c>=1;--c)if(!((i=l*c)<g)){if(i>j)break;k.push(i)}}else k=jo(a,h,Math.min(h-a,p)).map(d);return o?k.reverse():k},c.tickFormat=function(g,f){if(null==f&&(f=10===b?".0e":","),"function"!=typeof f&&(f=a.format(f)),g===1/0)return f;null==g&&(g=10);var h=Math.max(1,b*g/c.ticks().length);return function(a){var c=a/d(Math.round(e(a)));return c*b<b-.5&&(c*=b),c<=h?f(a):""}},c.nice=function(){return f(mx(f(),{floor:function(a){return d(Math.floor(e(a)))},ceil:function(a){return d(Math.ceil(e(a)))}}))},c.copy=function(){return eC(c,h().base(b))},c},a.scaleOrdinal=hD,a.scaleImplicit=fb,a.scalePow=iT,a.scaleSqrt=function(){return iT().exponent(.5)},a.scaleQuantile=function f(){var a=[],d=[],b=[];function e(){var e=0,f=Math.max(1,d.length);for(b=new Array(f-1);++e<f;)b[e-1]=dr(a,e/f);return c}function c(a){if(!isNaN(a=+a))return d[aw(b,a)]}return c.invertExtent=function(e){var c=d.indexOf(e);return c<0?[NaN,NaN]:[c>0?b[c-1]:a[0],c<b.length?b[c]:a[a.length-1]]},c.domain=function(d){if(!arguments.length)return a.slice();a=[];for(var b,c=0,f=d.length;c<f;++c)null==(b=d[c])||isNaN(b=+b)||a.push(b);return a.sort(bg),e()},c.range=function(a){return arguments.length?(d=ar.call(a),e()):d.slice()},c.quantiles=function(){return b.slice()},c.copy=function(){return f().domain(a).range(d)},c},a.scaleQuantize=function h(){var d=0,e=1,a=1,b=[.5],f=[0,1];function c(c){if(c<=c)return f[aw(b,c,0,a)]}function g(){var f=-1;for(b=new Array(a);++f<a;)b[f]=((f+1)*e-(f-a)*d)/(a+1);return c}return c.domain=function(a){return arguments.length?(d=+a[0],e=+a[1],g()):[d,e]},c.range=function(b){return arguments.length?(a=(f=ar.call(b)).length-1,g()):f.slice()},c.invertExtent=function(g){var c=f.indexOf(g);return c<0?[NaN,NaN]:c<1?[d,b[0]]:c>=a?[b[a-1],e]:[b[c-1],b[c]]},c.copy=function(){return h().domain([d,e]).range(f)},bm(c)},a.scaleThreshold=function e(){var a=[.5],b=[0,1],d=1;function c(c){if(c<=c)return b[aw(a,c,0,d)]}return c.domain=function(e){return arguments.length?(a=ar.call(e),d=Math.min(a.length,b.length-1),c):a.slice()},c.range=function(e){return arguments.length?(b=ar.call(e),d=Math.min(a.length,b.length-1),c):b.slice()},c.invertExtent=function(d){var c=b.indexOf(d);return[a[c-1],a[c]]},c.copy=function(){return e().domain(a).range(b)},c},a.scaleTime=function(){return ii(ad,er,bP,b$,dV,dW,b_,az,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},a.scaleUtc=function(){return ii(ai,ev,by,bZ,eb,d_,b_,az,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},a.scaleSequential=function g(d){var b=0,c=1,f=1,e=!1;function a(c){var a=(c-b)*f;return d(e?Math.max(0,Math.min(1,a)):a)}return a.domain=function(d){return arguments.length?(b=+d[0],c=+d[1],f=b===c?0:1/(c-b),a):[b,c]},a.clamp=function(b){return arguments.length?(e=!!b,a):e},a.interpolator=function(b){return arguments.length?(d=b,a):d},a.copy=function(){return g(d).domain([b,c]).clamp(e)},bm(a)},a.scaleDiverging=function i(e){var d=0,a=.5,c=1,h=1,g=1,f=!1;function b(b){var c=.5+((b=+b)-a)*(b<a?h:g);return e(f?Math.max(0,Math.min(1,c)):c)}return b.domain=function(e){return arguments.length?(d=+e[0],a=+e[1],c=+e[2],h=d===a?0:.5/(a-d),g=a===c?0:.5/(c-a),b):[d,a,c]},b.clamp=function(a){return arguments.length?(f=!!a,b):f},b.interpolator=function(a){return arguments.length?(e=a,b):e},b.copy=function(){return i(e).domain([d,a,c]).clamp(f)},bm(b)},a.schemeCategory10=pn,a.schemeAccent=po,a.schemeDark2=pp,a.schemePaired=pq,a.schemePastel1=pr,a.schemePastel2=ps,a.schemeSet1=pt,a.schemeSet2=pu,a.schemeSet3=pv,a.interpolateBrBG=py,a.schemeBrBG=iJ,a.interpolatePRGn=pA,a.schemePRGn=iY,a.interpolatePiYG=pC,a.schemePiYG=i$,a.interpolatePuOr=pE,a.schemePuOr=jc,a.interpolateRdBu=pG,a.schemeRdBu=jv,a.interpolateRdGy=pI,a.schemeRdGy=jD,a.interpolateRdYlBu=pK,a.schemeRdYlBu=jE,a.interpolateRdYlGn=pM,a.schemeRdYlGn=jI,a.interpolateSpectral=pO,a.schemeSpectral=jJ,a.interpolateBuGn=pQ,a.schemeBuGn=jK,a.interpolateBuPu=lH,a.schemeBuPu=jL,a.interpolateGnBu=pk,a.schemeGnBu=g_,a.interpolateOrRd=oX,a.schemeOrRd=ib,a.interpolatePuBuGn=oV,a.schemePuBuGn=hP,a.interpolatePuBu=oT,a.schemePuBu=hL,a.interpolatePuRd=oR,a.schemePuRd=hH,a.interpolateRdPu=oP,a.schemeRdPu=hG,a.interpolateYlGnBu=oN,a.schemeYlGnBu=hE,a.interpolateYlGn=oK,a.schemeYlGn=hA,a.interpolateYlOrBr=oI,a.schemeYlOrBr=g$,a.interpolateYlOrRd=oF,a.schemeYlOrRd=gZ,a.interpolateBlues=oD,a.schemeBlues=gX,a.interpolateGreens=oB,a.schemeGreens=gV,a.interpolateGreys=oz,a.schemeGreys=gU,a.interpolatePurples=ox,a.schemePurples=gT,a.interpolateReds=ov,a.schemeReds=gS,a.interpolateOranges=os,a.schemeOranges=gR,a.interpolateCubehelixDefault=or,a.interpolateRainbow=function(a){(a<0||a>1)&&(a-=Math.floor(a));var b=Math.abs(a-.5);return cD.h=360*a-100,cD.s=1.5-1.5*b,cD.l=.8-.9*b,cD+""},a.interpolateWarm=op,a.interpolateCool=oo,a.interpolateSinebow=function(b){var a;return b=(.5-b)*Math.PI,cA.r=255*(a=Math.sin(b))*a,cA.g=255*(a=Math.sin(b+ol))*a,cA.b=255*(a=Math.sin(b+ok))*a,cA+""},a.interpolateViridis=oh,a.interpolateMagma=oe,a.interpolateInferno=od,a.interpolatePlasma=oc,a.create=function(a){return K(eH(a).call(document.documentElement))},a.creator=eH,a.local=oM,a.matcher=eO,a.mouse=at,a.namespace=dc,a.namespaces=eG,a.clientPoint=fi,a.select=K,a.selectAll=function(a){return"string"==typeof a?new F([document.querySelectorAll(a)],[document.documentElement]):new F([null==a?[]:a],eZ)},a.selection=aJ,a.selector=eJ,a.selectorAll=id,a.style=aX,a.touch=fk,a.touches=function(e,a){null==a&&(a=hv().touches);for(var b=0,c=a?a.length:0,d=new Array(c);b<c;++b)d[b]=fi(e,a[b]);return d},a.window=hT,a.customEvent=cQ,a.arc=function(){var c=qW,h=qX,j=g(0),d=null,e=qY,f=qZ,i=q_,a=null;function b(){var H,U,N,k=+c.apply(this,arguments),l=+h.apply(this,arguments),o=e.apply(this,arguments)-cO,n=f.apply(this,arguments)-cO,E=f$(n-o),m=n>o,b,g,x,C,v,w,D,M,L,K,s,q,r,J,I,t,u,B,A,G,F,O,P,p,R,S,T,Q,W,X;if(a||(a=H=au()),l<k&&(U=l,l=k,k=U),l>z?E>an-z?(a.moveTo(l*ay(o),l*V(o)),a.arc(0,0,l,o,n,!m),k>z&&(a.moveTo(k*ay(n),k*V(n)),a.arc(0,0,k,n,o,m))):(x=o,C=n,v=o,w=n,D=E,M=E,L=i.apply(this,arguments)/2,K=L>z&&(d?+d.apply(this,arguments):aM(k*k+l*l)),s=fD(f$(l-k)/2,+j.apply(this,arguments)),q=s,r=s,K>z&&(J=ms(K/k*V(L)),I=ms(K/l*V(L)),(D-=2*J)>z?(v+=J*=m?1:-1,w-=J):(D=0,v=w=(o+n)/2),(M-=2*I)>z?(x+=I*=m?1:-1,C-=I):(M=0,x=C=(o+n)/2)),t=l*ay(x),u=l*V(x),B=k*ay(w),A=k*V(w),s>z&&(G=l*ay(C),F=l*V(C),O=k*ay(v),P=k*V(v),E<ao&&(p=D>z?function(a,b,l,k,e,f,m,j){var i=l-a,h=k-b,d=m-e,g=j-f,c=(d*(b-f)-g*(a-e))/(g*i-d*h);return[a+c*i,b+c*h]}(t,u,O,P,G,F,B,A):[B,A],R=t-p[0],S=u-p[1],T=G-p[0],Q=F-p[1],W=1/V(((N=(R*T+S*Q)/(aM(R*R+S*S)*aM(T*T+Q*Q)))>1?0:N<-1?ao:Math.acos(N))/2),X=aM(p[0]*p[0]+p[1]*p[1]),q=fD(s,(k-X)/(W-1)),r=fD(s,(l-X)/(W+1)))),M>z?r>z?(b=fo(O,P,t,u,l,r,m),g=fo(G,F,B,A,l,r,m),a.moveTo(b.cx+b.x01,b.cy+b.y01),r<s?a.arc(b.cx,b.cy,r,y(b.y01,b.x01),y(g.y01,g.x01),!m):(a.arc(b.cx,b.cy,r,y(b.y01,b.x01),y(b.y11,b.x11),!m),a.arc(0,0,l,y(b.cy+b.y11,b.cx+b.x11),y(g.cy+g.y11,g.cx+g.x11),!m),a.arc(g.cx,g.cy,r,y(g.y11,g.x11),y(g.y01,g.x01),!m))):(a.moveTo(t,u),a.arc(0,0,l,x,C,!m)):a.moveTo(t,u),k>z&&D>z?q>z?(b=fo(B,A,G,F,k,-q,m),g=fo(t,u,O,P,k,-q,m),a.lineTo(b.cx+b.x01,b.cy+b.y01),q<s?a.arc(b.cx,b.cy,q,y(b.y01,b.x01),y(g.y01,g.x01),!m):(a.arc(b.cx,b.cy,q,y(b.y01,b.x01),y(b.y11,b.x11),!m),a.arc(0,0,k,y(b.cy+b.y11,b.cx+b.x11),y(g.cy+g.y11,g.cx+g.x11),m),a.arc(g.cx,g.cy,q,y(g.y11,g.x11),y(g.y01,g.x01),!m))):a.arc(0,0,k,w,v,m):a.lineTo(B,A)):a.moveTo(0,0),a.closePath(),H)return a=null,H+""||null}return b.centroid=function(){var a=(+c.apply(this,arguments)+ +h.apply(this,arguments))/2,b=(+e.apply(this,arguments)+ +f.apply(this,arguments))/2-ao/2;return[ay(b)*a,V(b)*a]},b.innerRadius=function(a){return arguments.length?(c="function"==typeof a?a:g(+a),b):c},b.outerRadius=function(a){return arguments.length?(h="function"==typeof a?a:g(+a),b):h},b.cornerRadius=function(a){return arguments.length?(j="function"==typeof a?a:g(+a),b):j},b.padRadius=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:g(+a),b):d},b.startAngle=function(a){return arguments.length?(e="function"==typeof a?a:g(+a),b):e},b.endAngle=function(a){return arguments.length?(f="function"==typeof a?a:g(+a),b):f},b.padAngle=function(a){return arguments.length?(i="function"==typeof a?a:g(+a),b):i},b.context=function(c){return arguments.length?(a=null==c?null:c,b):a},b},a.area=lF,a.line=gx,a.pie=function(){var h=rh,b=rg,c=null,d=g(0),e=g(an),f=g(0);function a(j){var a,l,r,p,k,g=j.length,o=0,n=new Array(g),i=new Array(g),m=+d.apply(this,arguments),q=Math.min(an,Math.max(-an,e.apply(this,arguments)-m)),s=Math.min(Math.abs(q)/g,f.apply(this,arguments)),t=s*(q<0?-1:1);for(a=0;a<g;++a)(k=i[n[a]=a]=+h(j[a],a,j))>0&&(o+=k);for(null!=b?n.sort(function(a,c){return b(i[a],i[c])}):null!=c&&n.sort(function(a,b){return c(j[a],j[b])}),a=0,r=o?(q-g*t)/o:0;a<g;++a,m=p)l=n[a],p=m+((k=i[l])>0?k*r:0)+t,i[l]={data:j[l],index:a,value:k,startAngle:m,endAngle:p,padAngle:s};return i}return a.value=function(b){return arguments.length?(h="function"==typeof b?b:g(+b),a):h},a.sortValues=function(d){return arguments.length?(b=d,c=null,a):b},a.sort=function(d){return arguments.length?(c=d,b=null,a):c},a.startAngle=function(b){return arguments.length?(d="function"==typeof b?b:g(+b),a):d},a.endAngle=function(b){return arguments.length?(e="function"==typeof b?b:g(+b),a):e},a.padAngle=function(b){return arguments.length?(f="function"==typeof b?b:g(+b),a):f},a},a.areaRadial=lh,a.radialArea=lh,a.lineRadial=li,a.radialLine=li,a.pointRadial=cs,a.linkHorizontal=function(){return iI(rt)},a.linkVertical=function(){return iI(ru)},a.linkRadial=function(){var a=iI(rv);return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a},a.symbol=function(){var c=g(eg),d=g(64),b=null;function a(){var a;if(b||(b=a=au()),c.apply(this,arguments).draw(b,+d.apply(this,arguments)),a)return b=null,a+""||null}return a.type=function(b){return arguments.length?(c="function"==typeof b?b:g(b),a):c},a.size=function(b){return arguments.length?(d="function"==typeof b?b:g(+b),a):d},a.context=function(c){return arguments.length?(b=null==c?null:c,a):b},a},a.symbols=ky,a.symbolCircle=eg,a.symbolCross=jg,a.symbolDiamond=jn,a.symbolSquare=jf,a.symbolStar=jq,a.symbolTriangle=jd,a.symbolWye=he,a.curveBasisClosed=function(a){return new kG(a)},a.curveBasisOpen=function(a){return new kH(a)},a.curveBasis=function(a){return new eI(a)},a.curveBundle=kR,a.curveCardinalClosed=lj,a.curveCardinalOpen=ll,a.curveCardinal=lf,a.curveCatmullRomClosed=lL,a.curveCatmullRomOpen=lW,a.curveCatmullRom=lE,a.curveLinearClosed=function(a){return new lX(a)},a.curveLinear=fB,a.curveMonotoneX=function(a){return new fj(a)},a.curveMonotoneY=function(a){return new mk(a)},a.curveNatural=function(a){return new mm(a)},a.curveStep=function(a){return new eY(a,.5)},a.curveStepAfter=function(a){return new eY(a,1)},a.curveStepBefore=function(a){return new eY(a,0)},a.stack=function(){var b=g([]),c=bw,d=bB,e=st;function a(h){var a,i,k=b.apply(this,arguments),o=h.length,j=k.length,g=new Array(j),l,m,n,f;for(a=0;a<j;++a){for(l,m=k[a],n=g[a]=new Array(o),f=0;f<o;++f)n[f]=l=[0,+e(h[f],m,f,h)],l.data=h[f];n.key=m}for(a=0,i=c(g);a<j;++a)g[i[a]].index=a;return d(g,i),g}return a.keys=function(c){return arguments.length?(b="function"==typeof c?c:g(fP.call(c)),a):b},a.value=function(b){return arguments.length?(e="function"==typeof b?b:g(+b),a):e},a.order=function(b){return arguments.length?(c=null==b?bw:"function"==typeof b?b:g(fP.call(b)),a):c},a.offset=function(b){return arguments.length?(d=null==b?bB:b,a):d},a},a.stackOffsetExpand=function(b,f){if((e=b.length)>0){for(var a,e,c,d=0,g=b[0].length;d<g;++d){for(c=a=0;a<e;++a)c+=b[a][d][1]||0;if(c)for(a=0;a<e;++a)b[a][d][1]/=c}bB(b,f)}},a.stackOffsetDiverging=function(e,h){if((i=e.length)>1)for(var b,a,c,d,f,i,g=0,j=e[h[0]].length;g<j;++g)for(d=f=0,b=0;b<i;++b)(c=(a=e[h[b]][g])[1]-a[0])>=0?(a[0]=d,a[1]=d+=c):c<0?(a[1]=f,a[0]=f+=c):a[0]=d},a.stackOffsetNone=bB,a.stackOffsetSilhouette=function(b,h){var f,a,c,g,d,e;if((f=b.length)>0){for(f,a=0,c=b[h[0]],g=c.length;a<g;++a){for(d=0,e=0;d<f;++d)e+=b[d][a][1]||0;c[a][1]+=c[a][0]=-e/2}bB(b,h)}},a.stackOffsetWiggle=function(d,f){var b,k,j,e,a,c,g,l,m,h,n,i,o;if((j=d.length)>0&&(k=(b=d[f[0]]).length)>0){for(b,k,j,e=0,a=1;a<k;++a){for(c=0,g=0,l=0;c<j;++c){for(m=d[f[c]],h=m[a][1]||0,n=(h-(m[a-1][1]||0))/2,i=0;i<c;++i)o=d[f[i]],n+=(o[a][1]||0)-(o[a-1][1]||0);g+=h,l+=n*h}b[a-1][1]+=b[a-1][0]=e,g&&(e-=l/g)}b[a-1][1]+=b[a-1][0]=e,bB(d,f)}},a.stackOrderAscending=mr,a.stackOrderDescending=function(a){return mr(a).reverse()},a.stackOrderInsideOut=function(d){var b,a,j=d.length,c=d.map(mt),i=bw(d).sort(function(a,b){return c[b]-c[a]}),f=0,g=0,h=[],e=[];for(b=0;b<j;++b)a=i[b],f<g?(f+=c[a],h.push(a)):(g+=c[a],e.push(a));return e.reverse().concat(h)},a.stackOrderNone=bw,a.stackOrderReverse=function(a){return bw(a).reverse()},a.timeInterval=t,a.timeMillisecond=az,a.timeMilliseconds=i_,a.utcMillisecond=az,a.utcMilliseconds=i_,a.timeSecond=b_,a.timeSeconds=je,a.utcSecond=b_,a.utcSeconds=je,a.timeMinute=dW,a.timeMinutes=mQ,a.timeHour=dV,a.timeHours=mS,a.timeDay=b$,a.timeDays=mU,a.timeWeek=bP,a.timeWeeks=jC,a.timeSunday=bP,a.timeSundays=jC,a.timeMonday=cb,a.timeMondays=nc,a.timeTuesday=js,a.timeTuesdays=nd,a.timeWednesday=ju,a.timeWednesdays=ne,a.timeThursday=cd,a.timeThursdays=nf,a.timeFriday=jz,a.timeFridays=ng,a.timeSaturday=jB,a.timeSaturdays=nh,a.timeMonth=er,a.timeMonths=nj,a.timeYear=ad,a.timeYears=nl,a.utcMinute=d_,a.utcMinutes=nn,a.utcHour=eb,a.utcHours=np,a.utcDay=bZ,a.utcDays=nr,a.utcWeek=by,a.utcWeeks=iK,a.utcSunday=by,a.utcSundays=iK,a.utcMonday=bx,a.utcMondays=nB,a.utcTuesday=iQ,a.utcTuesdays=nC,a.utcWednesday=iO,a.utcWednesdays=nD,a.utcThursday=bs,a.utcThursdays=nE,a.utcFriday=iN,a.utcFridays=nF,a.utcSaturday=iM,a.utcSaturdays=nG,a.utcMonth=ev,a.utcMonths=nI,a.utcYear=ai,a.utcYears=nK,a.timeFormatDefaultLocale=o$,a.timeFormatLocale=nO,a.isoFormat=pa,a.isoParse=pb,a.now=bR,a.timer=ed,a.timerFlush=ns,a.timeout=iZ,a.interval=function(d,a,b){var c=new dg,e=a;return null==a?(c.restart(d,a,b),c):(a=+a,b=null==b?bR():+b,c.restart(function g(f){f+=e,c.restart(g,e+=a,b),d(f)},a,b),c)},a.transition=m$,a.active=function(d,a){var e,b,c=d.__transition;if(c)for(b in a=null==a?null:a+"",c)if((e=c[b]).state>dT&&e.name===a)return new ag([[d]],mE,a,+b);return null},a.interrupt=aY,a.voronoi=function(){var c=sx,d=sy,b=null;function a(a){return new ip(a.map(function(b,e){var f=[Math.round(c(b,e,a)/j)*j,Math.round(d(b,e,a)/j)*j];return f.index=e,f.data=b,f}),b)}return a.polygons=function(b){return a(b).polygons()},a.links=function(b){return a(b).links()},a.triangles=function(b){return a(b).triangles()},a.x=function(b){return arguments.length?(c="function"==typeof b?b:mz(+b),a):c},a.y=function(b){return arguments.length?(d="function"==typeof b?b:mz(+b),a):d},a.extent=function(c){return arguments.length?(b=null==c?null:[[+c[0][0],+c[0][1]],[+c[1][0],+c[1][1]]],a):b&&[[b[0][0],b[0][1]],[b[1][0],b[1][1]]]},a.size=function(c){return arguments.length?(b=null==c?null:[[0,0],[+c[0],+c[1]]],a):b&&[b[1][0]-b[0][0],b[1][1]-b[0][1]]},a},a.zoom=function(){var g,l,i=tm,f=tn,d=tr,s=tp,r=tq,h=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],m=250,q=nH,o=[],j=bi("start","zoom","end"),u=500,x=150,p=0;function b(a){a.property("__zoom",pF).on("wheel.zoom",y).on("mousedown.zoom",z).on("dblclick.zoom",A).filter(r).on("touchstart.zoom",B).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(a,b){return(b=Math.max(h[0],Math.min(h[1],b)))===a.k?a:new ap(b,a.x,a.y)}function k(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new ap(a.k,d,e)}function t(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function v(b,a,c){b.on("start.zoom",function(){e(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){e(this,arguments).end()}).tween("zoom",function(){var g=arguments,k=e(this,g),b=f.apply(this,g),d=c||t(b),h=Math.max(b[1][0]-b[0][0],b[1][1]-b[0][1]),j=this.__zoom,i="function"==typeof a?a.apply(this,g):a,l=q(j.invert(d).concat(h/j.k),i.invert(d).concat(h/i.k));return function(a){if(1===a)a=i;else{var b=l(a),c=h/b[2];a=new ap(c,d[0]-b[0]*c,d[1]-b[1]*c)}k.zoom(null,a)}})}function e(b,d){for(var c,a=0,e=o.length;a<e;++a)if((c=o[a]).that===b)return c;return new w(b,d)}function w(a,b){this.that=a,this.args=b,this.index=-1,this.active=0,this.extent=f.apply(a,b)}function y(){if(i.apply(this,arguments)){var a=e(this,arguments),b=this.__zoom,g=Math.max(h[0],Math.min(h[1],b.k*Math.pow(2,s.apply(this,arguments)))),f=at(this);if(a.wheel)a.mouse[0][0]===f[0]&&a.mouse[0][1]===f[1]||(a.mouse[1]=b.invert(a.mouse[0]=f)),clearTimeout(a.wheel);else{if(b.k===g)return;a.mouse=[f,b.invert(f)],aY(this),a.start()}dm(),a.wheel=setTimeout(function(){a.wheel=null,a.end()},x),a.zoom("mouse",d(k(n(b,g),a.mouse[0],a.mouse[1]),a.extent,c))}}function z(){if(!l&&i.apply(this,arguments)){var b=e(this,arguments),g=K(a.event.view).on("mousemove.zoom",function(){if(dm(),!b.moved){var e=a.event.clientX-h,f=a.event.clientY-j;b.moved=e*e+f*f>p}b.zoom("mouse",d(k(b.that.__zoom,b.mouse[0]=at(b.that),b.mouse[1]),b.extent,c))},!0).on("mouseup.zoom",function(){g.on("mousemove.zoom mouseup.zoom",null),fr(a.event.view,b.moved),dm(),b.end()},!0),f=at(this),h=a.event.clientX,j=a.event.clientY;fq(a.event.view),iU(),b.mouse=[f,this.__zoom.invert(f)],aY(this),b.start()}}function A(){if(i.apply(this,arguments)){var e=this.__zoom,g=at(this),j=e.invert(g),l=e.k*(a.event.shiftKey?.5:2),h=d(k(n(e,l),g,j),f.apply(this,arguments),c);dm(),m>0?K(this).transition().duration(m).call(v,h,g):K(this).call(b.transform,h)}}function B(){if(i.apply(this,arguments)){var h,d,j,b,c=e(this,arguments),f=a.event.changedTouches,k=f.length;for(iU(),d=0;d<k;++d)b=[b=fk(this,f,(j=f[d]).identifier),this.__zoom.invert(b),j.identifier],c.touch0?c.touch1||(c.touch1=b):(c.touch0=b,h=!0);if(g&&(g=clearTimeout(g),!c.touch1))return c.end(),void((b=K(this).on("dblclick.zoom"))&&b.apply(this,arguments));h&&(g=setTimeout(function(){g=null},u),aY(this),c.start())}}function C(){var l,f,h,s,b=e(this,arguments),r=a.event.changedTouches,t=r.length,o,p,q,m,j,i;for(dm(),g&&(g=clearTimeout(g)),l=0;l<t;++l)h=fk(this,r,(f=r[l]).identifier),b.touch0&&b.touch0[2]===f.identifier?b.touch0[0]=h:b.touch1&&b.touch1[2]===f.identifier&&(b.touch1[0]=h);if(f=b.that.__zoom,b.touch1)o=b.touch0[0],p=b.touch0[1],q=b.touch1[0],m=b.touch1[1],j=(j=q[0]-o[0])*j+(j=q[1]-o[1])*j,i=(i=m[0]-p[0])*i+(i=m[1]-p[1])*i,f=n(f,Math.sqrt(j/i)),h=[(o[0]+q[0])/2,(o[1]+q[1])/2],s=[(p[0]+m[0])/2,(p[1]+m[1])/2];else{if(!b.touch0)return;h=b.touch0[0],s=b.touch0[1]}b.zoom("touch",d(k(f,h,s),b.extent,c))}function D(){var c,d,b=e(this,arguments),f=a.event.changedTouches,g=f.length;for(iU(),l&&clearTimeout(l),l=setTimeout(function(){l=null},u),c=0;c<g;++c)d=f[c],b.touch0&&b.touch0[2]===d.identifier?delete b.touch0:b.touch1&&b.touch1[2]===d.identifier&&delete b.touch1;b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0?b.touch0[1]=this.__zoom.invert(b.touch0[0]):b.end()}return b.transform=function(a,b){var c=a.selection?a.selection():a;c.property("__zoom",pF),a!==c?v(a,b):c.interrupt().each(function(){e(this,arguments).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},b.scaleBy=function(c,a){b.scaleTo(c,function(){return this.__zoom.k*("function"==typeof a?a.apply(this,arguments):a)})},b.scaleTo=function(e,a){b.transform(e,function(){var b=f.apply(this,arguments),e=this.__zoom,g=t(b),h=e.invert(g),i="function"==typeof a?a.apply(this,arguments):a;return d(k(n(e,i),g,h),b,c)})},b.translateBy=function(g,a,e){b.transform(g,function(){return d(this.__zoom.translate("function"==typeof a?a.apply(this,arguments):a,"function"==typeof e?e.apply(this,arguments):e),f.apply(this,arguments),c)})},b.translateTo=function(g,a,e){b.transform(g,function(){var b=f.apply(this,arguments),h=this.__zoom,g=t(b);return d(dh.translate(g[0],g[1]).scale(h.k).translate("function"==typeof a?-a.apply(this,arguments):-a,"function"==typeof e?-e.apply(this,arguments):-e),b,c)})},w.prototype={start:function(){return 1==++this.active&&(this.index=o.push(this)-1,this.emit("start")),this},zoom:function(b,a){return this.mouse&&"mouse"!==b&&(this.mouse[1]=a.invert(this.mouse[0])),this.touch0&&"touch"!==b&&(this.touch0[1]=a.invert(this.touch0[0])),this.touch1&&"touch"!==b&&(this.touch1[1]=a.invert(this.touch1[0])),this.that.__zoom=a,this.emit("zoom"),this},end:function(){return 0==--this.active&&(o.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(a){cQ(new tg(b,a,this.that.__zoom),j.apply,j,[a,this.that,this.args])}},b.wheelDelta=function(a){return arguments.length?(s="function"==typeof a?a:eA(+a),b):s},b.filter=function(a){return arguments.length?(i="function"==typeof a?a:eA(!!a),b):i},b.touchable=function(a){return arguments.length?(r="function"==typeof a?a:eA(!!a),b):r},b.extent=function(a){return arguments.length?(f="function"==typeof a?a:eA([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),b):f},b.scaleExtent=function(a){return arguments.length?(h[0]=+a[0],h[1]=+a[1],b):[h[0],h[1]]},b.translateExtent=function(a){return arguments.length?(c[0][0]=+a[0][0],c[1][0]=+a[1][0],c[0][1]=+a[0][1],c[1][1]=+a[1][1],b):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},b.constrain=function(a){return arguments.length?(d=a,b):d},b.duration=function(a){return arguments.length?(m=+a,b):m},b.interpolate=function(a){return arguments.length?(q=a,b):q},b.on=function(){var a=j.on.apply(j,arguments);return a===j?b:a},b.clickDistance=function(a){return arguments.length?(p=(a=+a)*a,b):Math.sqrt(p)},b},a.zoomTransform=px,a.zoomIdentity=dh,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){typeof exports=='object'&&typeof module!='undefined'?module.exports=b(require('d3-collection'),require('d3-selection')):typeof define=='function'&&define.amd?define(['d3-collection','d3-selection'],b):(a.d3=a.d3||{},a.d3.tip=b(a.d3,a.d3))}(this,function(b,a){'use strict';function c(){var m=A,k=B,l=C,h=document.body,e=q(),j=null,c=null,p=null,o,n;function d(a){if(j=z(a),!j)return;c=j.createSVGPoint(),h.appendChild(e)}d.show=function(){var a=Array.prototype.slice.call(arguments),j,e,f,b,i,c,q,r;for(a[a.length-1]instanceof SVGElement&&(p=a.pop()),j=l.apply(this,a),e=k.apply(this,a),f=m.apply(this,a),b=g(),i=n.length,q=document.documentElement.scrollTop||h.scrollTop,r=document.documentElement.scrollLeft||h.scrollLeft,b.html(j).style('opacity',1).style('pointer-events','all');i--;)b.classed(n[i],!1);return c=o.get(f).apply(this),b.classed(f,!0).style('top',c.top+e[0]+q+'px').style('left',c.left+e[1]+r+'px'),d},d.hide=function(){var a=g();return a.style('opacity',0).style('pointer-events','none'),d},d.attr=function(b,e){if(arguments.length<2&&typeof b=='string')return g().attr(b);var c=Array.prototype.slice.call(arguments);return a.selection.prototype.attr.apply(g(),c),d},d.style=function(b,e){if(arguments.length<2&&typeof b=='string')return g().style(b);var c=Array.prototype.slice.call(arguments);return a.selection.prototype.style.apply(g(),c),d},d.direction=function(a){return arguments.length?(m=a==null?a:i(a),d):m},d.offset=function(a){return arguments.length?(k=a==null?a:i(a),d):k},d.html=function(a){return arguments.length?(l=a==null?a:i(a),d):l},d.rootElement=function(a){return arguments.length?(h=a==null?a:i(a),d):h},d.destroy=function(){return e&&(g().remove(),e=null),d};function A(){return'n'}function B(){return[0,0]}function C(){return' '}o=b.map({n:y,s:v,e:s,w:t,nw:u,ne:r,sw:w,se:x}),n=o.keys();function y(){var a=f(this);return{top:a.n.y-e.offsetHeight,left:a.n.x-e.offsetWidth/2}}function v(){var a=f(this);return{top:a.s.y,left:a.s.x-e.offsetWidth/2}}function s(){var a=f(this);return{top:a.e.y-e.offsetHeight/2,left:a.e.x}}function t(){var a=f(this);return{top:a.w.y-e.offsetHeight/2,left:a.w.x-e.offsetWidth}}function u(){var a=f(this);return{top:a.nw.y-e.offsetHeight,left:a.nw.x-e.offsetWidth}}function r(){var a=f(this);return{top:a.ne.y-e.offsetHeight,left:a.ne.x}}function w(){var a=f(this);return{top:a.sw.y,left:a.sw.x-e.offsetWidth}}function x(){var a=f(this);return{top:a.se.y,left:a.se.x}}function q(){var b=a.select(document.createElement('div'));return b.style('position','absolute').style('top',0).style('opacity',0).style('pointer-events','none').style('box-sizing','border-box'),b.node()}function z(b){var a=b.node();return a?a.tagName.toLowerCase()==='svg'?a:a.ownerSVGElement:null}function g(){return e==null&&(e=q(),h.appendChild(e)),a.select(e)}function f(h){for(var d=p||h,a,b,f,g,e,i,j;d.getScreenCTM==null&&d.parentNode!=null;)d=d.parentNode;return a={},b=d.getScreenCTM(),f=d.getBBox(),g=f.width,e=f.height,i=f.x,j=f.y,c.x=i,c.y=j,a.nw=c.matrixTransform(b),c.x+=g,a.ne=c.matrixTransform(b),c.y+=e,a.se=c.matrixTransform(b),c.x-=g,a.sw=c.matrixTransform(b),c.y-=e/2,a.w=c.matrixTransform(b),c.x+=g,a.e=c.matrixTransform(b),c.x-=g/2,c.y-=e/2,a.n=c.matrixTransform(b),c.y+=e,a.s=c.matrixTransform(b),a}function i(a){return typeof a=='function'?a:function(){return a}}return d}return c}),document.addEventListener('DOMContentLoaded',function(a){developmentViz(),incomesViz(),expenseViz()});function developmentViz(){var a={top:30,right:10,bottom:50,left:20},e=600-a.left-a.right,d=400-a.top-a.bottom,c=40,f=e-c,b=d3.select('div.entwicklung').append('svg').attr("width",'100%').attr("height",'100%').attr('viewBox','0 0 '+(e+a.left+a.right)+' '+(d+a.top+a.bottom)).attr('preserveAspectRatio','xMinYMin').attr("transform","translate("+a.left+","+a.top+")");d3.csv("/okf/finanzierung/entwicklung.csv").then(function(e){var g,j,h,k,m,i,l;e=e.map(function(a){return a.year=parseInt(a.year,10),a.turnover=parseInt(a.turnover,10),a}),g=d3.scaleLinear().domain(d3.extent(e,a=>a.year)).nice().range([20,f]),j=d3.axisBottom(g).ticks(7).tickFormat(d3.format("d")),b.append('g').attr("class","x axis").attr("transform","translate("+c+","+d+")").call(j),b.append('svg:title').text("Entwicklung der Organisation anhand jhrlicher Gesamteinnahmen"),h=d3.scaleLinear().domain([0,d3.max(e,a=>a.turnover)]).nice().range([d,a.top]),k=d3.axisLeft(h).ticks(6).tickFormat(d3.formatPrefix(".1",1e6)),m=b.append("g").attr("class","y axis").attr("transform","translate("+c+",0)").call(k).selectAll("text"),i=d3.tip().attr('class','d3-tip n').offset([-10,0]).html(function(a){return"<span>"+d3.format(',.5r')(a.turnover)+" Einnahmen "+a.year+"</span>"}),b.call(i),l=d3.line().x(a=>g(a.year)+c).y(a=>h(a.turnover)),b.append('svg:path').attr('d',l(e)).attr('stroke','#382eff').attr('stroke-width',2).attr('fill','none'),b.selectAll(".dot").data(e).enter().append("circle").attr("class","dot").attr("r",4).attr("cx",function(a){return g(a.year)+c}).attr("cy",function(a){return h(a.turnover)}).style("stroke","#382eff").style("stroke-width",2).style("fill","white").on('mouseover',function(a,b){d3.select(this).transition().attr('r',5).style('fill',"#382eff"),i.show(a,this)}).on('mouseout',function(a,b){d3.select(this).transition().attr('r',4).style('fill',"white"),i.hide(a)})})}function incomesViz(){incomesHelper('div.kategorien','/okf/finanzierung/einnahmen-kategorien.csv',24),incomesHelper('div.income-donations','/okf/finanzierung/einnahmen-spenden.csv',15),incomesHelper('div.income-institutions','/okf/finanzierung/einnahmen-institutionen.csv',15),incomesHelper('div.income-companies','/okf/finanzierung/einnahmen-unternehmen.csv',15),incomesHelper('div.income-services','/okf/finanzierung/einnahmen-dienstleistungen.csv',15)}function incomesHelper(h,g,e){var a={top:50,right:20,bottom:50,left:20},f=650-a.left-a.right,d=450-a.top-a.bottom,c=210,i=f-c,b=d3.select(h).append('svg').attr("width",'100%').attr("height",'100%').attr('viewBox','0 0 '+(f+a.left+a.right)+' '+(d+a.top+a.bottom)).attr('preserveAspectRatio','xMinYMin').attr("transform","translate("+a.left+","+a.top+")");d3.csv(g).then(function(a){var l=d3.max(a,function(a){return a.total}),f,h,m,j,n,p,g,k,o;a=a.sort((a,b)=>b.amount-a.amount),a=a.map(function(a){return a.percentage=(a.amount/l*100).toFixed(2),a}),b.append('svg:title').text("Aufschlsselung der Einnahmen nach "+a[0].category),f=d3.max(a,function(a,b){return parseInt(a.percentage,10)}),f<=0&&(f=1),h=d3.scaleLinear().domain([0,f]).range([0,i]),m=d3.axisBottom(h).ticks(5).tickFormat(function(a){return a+"%"}),b.append('g').attr("class","x axis").attr("transform","translate("+c+","+d+")").call(m),j=d3.scaleBand().rangeRound([0,d]),n=d3.axisLeft(j),j.domain(a.map(function(a){return a.item})),p=b.append("g").attr("class","y axis").attr("transform","translate("+c+",0)").call(n).selectAll("text"),g=d3.tip().attr('class','d3-tip n').offset([-10,0]).html(function(a){var b="<span>"+d3.format(',.2r')(a.amount)+" von "+a.item+" ("+a.percentage+"% der Gesamteinnahmen)";return a.project&&a.project!==""&&(b+=" fr "+a.project),b+="</span>",b}),b.call(g),k=a.length,o=function(){return k<10?e:e/2}(),b.selectAll('rect.bar').data(a).enter().append('rect').attr('class','one-bar').attr('width',function(a,b){return h(a.percentage)}).attr('height',function(a,b){return e}).attr('x',function(a,b){return c}).attr('y',function(b,a){return a*Math.floor(d/k)+o}).attr('fill','#382eff').on('mouseover',g.show).on('mouseout',g.hide)})}function expenseViz(){var a={top:10,right:10,bottom:50,left:20},e=650-a.left-a.right,b=480-a.top-a.bottom,d=170,g=e-d,c=d3.select('div.ausgaben').append('svg').attr("width",'100%').attr("height",'100%').attr('viewBox','0 0 '+(e+a.left+a.right)+' '+(b+a.top+a.bottom)).attr('preserveAspectRatio','xMinYMin').attr("transform","translate("+a.left+","+a.top+")"),f=d3.scaleLinear().domain([0,100]).range([0,g]),h=d3.axisBottom(f).tickFormat(function(a){return a+"%"});c.append('g').attr("class","x axis").attr("transform","translate("+d+","+b+")").call(h),d3.csv("/okf/finanzierung/ausgaben.csv").then(function(a){var g=d3.scaleBand().rangeRound([0,b]),i=d3.axisLeft(g),j,e,h;a=a.sort((a,b)=>b.amount-a.amount),g.domain(a.map(function(a){return a.item})),c.append('svg:title').text("Aufschlsselung der Gesamtausgaben"),j=c.append("g").attr("class","y axis").attr("transform","translate("+d+",0)").call(i).selectAll("text"),e=d3.tip().attr('class','d3-tip n').offset([-10,0]).html(function(a){return"<span>"+a.percentage+"% der Ausgaben gehen in "+a.item+"</span>"}),c.call(e),h=b/a.length/2,c.selectAll('rect.bar').data(a).enter().append('rect').attr('class','one-bar').attr('width',function(a,b){return f(a.percentage)}).attr('height',function(a,b){return h}).attr('x',function(a,b){return d}).attr('y',function(d,c){return c*(b/a.length)+h/2}).attr('fill','#382eff').on('mouseover',e.show).on('mouseout',e.hide)})}